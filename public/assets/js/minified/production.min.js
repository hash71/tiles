function progress(e,t){var n=e*t.width()/100;t.find(".progressbar-value").animate({width:n},1200)}function SmartWizard(e,t){this.target=e;this.options=t;this.curStepIdx=t.selected;this.steps=$(e).children("ul").children("li").children("a");this.contentWidth=0;this.msgBox=$('<div class="msgBox"><div class="content"></div><a href="#" class="close">X</a></div>');this.elmStepContainer=$("<div></div>").addClass("stepContainer");this.loader=$("<div>Loading</div>").addClass("loader");this.buttons={next:$('<a><span class="button-content">'+t.labelNext+"</span></a>").attr("href","#").addClass("buttonNext btn medium primary-bg"),previous:$('<a><span class="button-content">'+t.labelPrevious+"</span></a>").attr("href","#").addClass("btn medium ui-state-default buttonPrevious"),finish:$('<a><span class="button-content">'+t.labelFinish+"</span></a>").attr("href","#").addClass("btn medium ui-state-default buttonFinish")};var n=function(t){var n=$("<div></div>").addClass("actionBar");n.append(t.msgBox);$(".close",t.msgBox).click(function(){t.msgBox.fadeOut("normal");return false});var i=t.target.children("div");if(t.target.children("ul").length==0){var o=$("<ul/>");e.prepend(o);i.each(function(e,t){var n=$(t).first().children(".StepTitle").text();var r=$(t).attr("id");if(r==undefined){r="step-"+(e+1);$(t).attr("id",r)}var i=$("<span/>").addClass("stepDesc").text(n);var s=$("<li></li>").append($("<a></a>").attr("href","#"+r).append($("<label></label>").addClass("stepNumber").text(e+1)).append(i));o.append(s)});t.steps=$(e).children("ul").children("li").children("a")}t.target.children("ul").addClass("anchor");i.addClass("content");if(t.options.errorSteps&&t.options.errorSteps.length>0){$.each(t.options.errorSteps,function(e,n){t.setError({stepnum:n,iserror:true})})}t.elmStepContainer.append(i);n.append(t.loader);t.target.append(t.elmStepContainer);if(t.options.includeFinishButton){n.append(t.buttons.finish)}n.append(t.buttons.next).append(t.buttons.previous);t.target.append(n);this.contentWidth=t.elmStepContainer.width();$(t.buttons.next).click(function(){t.goForward();return false});$(t.buttons.previous).click(function(){t.goBackward();return false});$(t.buttons.finish).click(function(){if(!$(this).hasClass("disabled")){if($.isFunction(t.options.onFinish)){var e={fromStep:t.curStepIdx+1};if(!t.options.onFinish.call(this,$(t.steps),e)){return false}}else{var n=t.target.parents("form");if(n&&n.length){n.submit()}}}return false});$(t.steps).bind("click",function(e){if(t.steps.index(this)==t.curStepIdx){return false}var n=t.steps.index(this);var r=t.steps.eq(n).attr("isDone")-0;if(r==1){s(t,n)}return false});if(t.options.keyNavigation){$(document).keyup(function(e){if(e.which==39){t.goForward()}else if(e.which==37){t.goBackward()}})}r(t);s(t,t.curStepIdx)};var r=function(e){if(!e.options.enableAllSteps){$(e.steps,e.target).removeClass("selected").removeClass("selected").addClass("disabled");$(e.steps,e.target).attr("isDone",0)}else{$(e.steps,e.target).removeClass("selected").removeClass("disabled").addClass("selected");$(e.steps,e.target).attr("isDone",1)}$(e.steps,e.target).each(function(t){$($(this).attr("href").replace(/^.+#/,"#"),e.target).hide();$(this).attr("rel",t+1)})};var i=function(e,t){return $($(t,e.target).attr("href").replace(/^.+#/,"#"),e.target)};var s=function(e,t){var n=e.steps.eq(t);var r=e.options.contentURL;var s=e.options.contentURLData;var u=n.data("hasContent");var a=t+1;if(r&&r.length>0){if(e.options.contentCache&&u){o(e,t)}else{var f={url:r,type:e.options.ajaxType,data:{step_number:a},dataType:"text",beforeSend:function(){e.loader.show()},error:function(){e.loader.hide()},success:function(r){e.loader.hide();if(r&&r.length>0){n.data("hasContent",true);i(e,n).html(r);o(e,t)}}};if(s){f=$.extend(f,s(a))}$.ajax(f)}}else{o(e,t)}};var o=function(e,t){var n=e.steps.eq(t);var r=e.steps.eq(e.curStepIdx);if(t!=e.curStepIdx){if($.isFunction(e.options.onLeaveStep)){var s={fromStep:e.curStepIdx+1,toStep:t+1};if(!e.options.onLeaveStep.call(e,$(r),s)){return false}}}e.elmStepContainer.height(i(e,n).outerHeight());var o=e.curStepIdx;e.curStepIdx=t;if(e.options.transitionEffect=="slide"){i(e,r).slideUp("fast",function(t){i(e,n).slideDown("fast");u(e,r,n)})}else if(e.options.transitionEffect=="fade"){i(e,r).fadeOut("fast",function(t){i(e,n).fadeIn("fast");u(e,r,n)})}else if(e.options.transitionEffect=="slideleft"){var a=0;var f=null;var a=null;var l=0;if(t>o){f=e.elmStepContainer.width()+10;nextElmLeft2=0;l=0-i(e,r).outerWidth()}else{f=0-i(e,n).outerWidth()+20;nextElmLeft2=0;l=10+i(e,r).outerWidth()}if(t==o){f=$($(n,e.target).attr("href"),e.target).outerWidth()+20;nextElmLeft2=0;l=0-$($(r,e.target).attr("href"),e.target).outerWidth()}else{$($(r,e.target).attr("href"),e.target).animate({left:l},"fast",function(t){$($(r,e.target).attr("href"),e.target).hide()})}i(e,n).css("left",f).show().animate({left:nextElmLeft2},"fast",function(t){u(e,r,n)})}else{i(e,r).hide();i(e,n).show();u(e,r,n)}return true};var u=function(e,t,n){$(t,e.target).removeClass("selected");$(t,e.target).addClass("selected");$(n,e.target).removeClass("disabled");$(n,e.target).removeClass("selected");$(n,e.target).addClass("selected");$(n,e.target).attr("isDone",1);a(e);if($.isFunction(e.options.onShowStep)){var r={fromStep:parseInt($(t).attr("rel")),toStep:parseInt($(n).attr("rel"))};if(!e.options.onShowStep.call(this,$(n),r)){return false}}if(e.options.noForwardJumping){for(var i=e.curStepIdx+2;i<=e.steps.length;i++){e.disableStep(i)}}};var a=function(e){if(!e.options.cycleSteps){if(0>=e.curStepIdx){$(e.buttons.previous).addClass("disabled");if(e.options.hideButtonsOnDisabled){$(e.buttons.previous).hide()}}else{$(e.buttons.previous).removeClass("disabled");if(e.options.hideButtonsOnDisabled){$(e.buttons.previous).show()}}if(e.steps.length-1<=e.curStepIdx){$(e.buttons.next).addClass("disabled");if(e.options.hideButtonsOnDisabled){$(e.buttons.next).hide()}}else{$(e.buttons.next).removeClass("disabled");if(e.options.hideButtonsOnDisabled){$(e.buttons.next).show()}}}if(e.options.includeFinishButton){if(!e.steps.hasClass("disabled")||e.options.enableFinishButton){$(e.buttons.finish).removeClass("disabled");if(e.options.hideButtonsOnDisabled){$(e.buttons.finish).show()}}else{$(e.buttons.finish).addClass("disabled");if(e.options.hideButtonsOnDisabled){$(e.buttons.finish).hide()}}}};SmartWizard.prototype.goForward=function(){var e=this.curStepIdx+1;if(this.steps.length<=e){if(!this.options.cycleSteps){return false}e=0}s(this,e)};SmartWizard.prototype.goBackward=function(){var e=this.curStepIdx-1;if(0>e){if(!this.options.cycleSteps){return false}e=this.steps.length-1}s(this,e)};SmartWizard.prototype.goToStep=function(e){var t=e-1;if(t>=0&&t<this.steps.length){s(this,t)}};SmartWizard.prototype.enableStep=function(e){var t=e-1;if(t==this.curStepIdx||t<0||t>=this.steps.length){return false}var n=this.steps.eq(t);$(n,this.target).attr("isDone",1);$(n,this.target).removeClass("disabled").removeClass("selected").addClass("selected")};SmartWizard.prototype.disableStep=function(e){var t=e-1;if(t==this.curStepIdx||t<0||t>=this.steps.length){return false}var n=this.steps.eq(t);$(n,this.target).attr("isDone",0);$(n,this.target).removeClass("selected").removeClass("selected").addClass("disabled")};SmartWizard.prototype.currentStep=function(){return this.curStepIdx+1};SmartWizard.prototype.showMessage=function(e){$(".content",this.msgBox).html(e);this.msgBox.show()};SmartWizard.prototype.hideMessage=function(){this.msgBox.fadeOut("normal")};SmartWizard.prototype.showError=function(e){this.setError(e,true)};SmartWizard.prototype.hideError=function(e){this.setError(e,false)};SmartWizard.prototype.setError=function(e,t){if(typeof e=="object"){t=e.iserror;e=e.stepnum}if(t){$(this.steps.eq(e-1),this.target).addClass("error")}else{$(this.steps.eq(e-1),this.target).removeClass("error")}};SmartWizard.prototype.fixHeight=function(){var e=0;var t=this.steps.eq(this.curStepIdx);var n=i(this,t);n.children().each(function(){if($(this).is(":visible")){e+=$(this).outerHeight()}});n.height(e+5);this.elmStepContainer.height(e+20)};n(this)}function layoutFormatter(){setTimeout(function(){var e=$(window).height();var t=$("#page-header").height();var n=e-t;$("#page-content").css("minHeight",n-113);if($("body").hasClass("boxed-layout")){$("#page-sidebar, #menu-right").height(n+36)}else{$("#page-sidebar, #menu-right").height(n)}},499)}function boxedFormatter(){if($("body").hasClass("boxed-layout")){var e=$(".boxed-layout #page-sidebar").offset().top;$(window).scroll(function(){var t=$(window).scrollTop();if(e<t){$(".boxed-layout #page-sidebar").css({position:"fixed",top:10})}else{$(".boxed-layout #page-sidebar").css({position:"absolute",top:74})}})}}function themefromCookie(){var e=$.cookie("set-layout-theme");if(e!=null){$("#layout-theme").attr("href","assets/themes/minified/fides/color-schemes/"+e+".min.css")}}function bgFromCookie(){var e=$.cookie("set-boxed-bg");if($("body").hasClass("boxed-layout")){$("body").css("background",e)}}(function(e,t){function H(e){var t=e.length,n=w.type(e);if(w.isWindow(e)){return false}if(e.nodeType===1&&t){return true}return n==="array"||n!=="function"&&(t===0||typeof t==="number"&&t>0&&t-1 in e)}function j(e){var t=B[e]={};w.each(e.match(S)||[],function(e,n){t[n]=true});return t}function q(e,n,r,i){if(!w.acceptData(e)){return}var s,o,u=w.expando,a=e.nodeType,f=a?w.cache:e,l=a?e[u]:e[u]&&u;if((!l||!f[l]||!i&&!f[l].data)&&r===t&&typeof n==="string"){return}if(!l){if(a){l=e[u]=c.pop()||w.guid++}else{l=u}}if(!f[l]){f[l]=a?{}:{toJSON:w.noop}}if(typeof n==="object"||typeof n==="function"){if(i){f[l]=w.extend(f[l],n)}else{f[l].data=w.extend(f[l].data,n)}}o=f[l];if(!i){if(!o.data){o.data={}}o=o.data}if(r!==t){o[w.camelCase(n)]=r}if(typeof n==="string"){s=o[n];if(s==null){s=o[w.camelCase(n)]}}else{s=o}return s}function R(e,t,n){if(!w.acceptData(e)){return}var r,i,s=e.nodeType,o=s?w.cache:e,u=s?e[w.expando]:w.expando;if(!o[u]){return}if(t){r=n?o[u]:o[u].data;if(r){if(!w.isArray(t)){if(t in r){t=[t]}else{t=w.camelCase(t);if(t in r){t=[t]}else{t=t.split(" ")}}}else{t=t.concat(w.map(t,w.camelCase))}i=t.length;while(i--){delete r[t[i]]}if(n?!z(r):!w.isEmptyObject(r)){return}}}if(!n){delete o[u].data;if(!z(o[u])){return}}if(s){w.cleanData([e],true)}else if(w.support.deleteExpando||o!=o.window){delete o[u]}else{o[u]=null}}function U(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(I,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r==="string"){try{r=r==="true"?true:r==="false"?false:r==="null"?null:+r+""===r?+r:F.test(r)?w.parseJSON(r):r}catch(s){}w.data(e,n,r)}else{r=t}}return r}function z(e){var t;for(t in e){if(t==="data"&&w.isEmptyObject(e[t])){continue}if(t!=="toJSON"){return false}}return true}function it(){return true}function st(){return false}function ot(){try{return o.activeElement}catch(e){}}function ct(e,t){do{e=e[t]}while(e&&e.nodeType!==1);return e}function ht(e,t,n){if(w.isFunction(t)){return w.grep(e,function(e,r){return!!t.call(e,r,e)!==n})}if(t.nodeType){return w.grep(e,function(e){return e===t!==n})}if(typeof t==="string"){if(ut.test(t)){return w.filter(t,e,n)}t=w.filter(t,e)}return w.grep(e,function(e){return w.inArray(e,t)>=0!==n})}function pt(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement){while(t.length){n.createElement(t.pop())}}return n}function Mt(e,t){return w.nodeName(e,"table")&&w.nodeName(t.nodeType===1?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _t(e){e.type=(w.find.attr(e,"type")!==null)+"/"+e.type;return e}function Dt(e){var t=Ct.exec(e.type);if(t){e.type=t[1]}else{e.removeAttribute("type")}return e}function Pt(e,t){var n,r=0;for(;(n=e[r])!=null;r++){w._data(n,"globalEval",!t||w._data(t[r],"globalEval"))}}function Ht(e,t){if(t.nodeType!==1||!w.hasData(e)){return}var n,r,i,s=w._data(e),o=w._data(t,s),u=s.events;if(u){delete o.handle;o.events={};for(n in u){for(r=0,i=u[n].length;r<i;r++){w.event.add(t,n,u[n][r])}}}if(o.data){o.data=w.extend({},o.data)}}function Bt(e,t){var n,r,i;if(t.nodeType!==1){return}n=t.nodeName.toLowerCase();if(!w.support.noCloneEvent&&t[w.expando]){i=w._data(t);for(r in i.events){w.removeEvent(t,r,i.handle)}t.removeAttribute(w.expando)}if(n==="script"&&t.text!==e.text){_t(t).text=e.text;Dt(t)}else if(n==="object"){if(t.parentNode){t.outerHTML=e.outerHTML}if(w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)){t.innerHTML=e.innerHTML}}else if(n==="input"&&xt.test(e.type)){t.defaultChecked=t.checked=e.checked;if(t.value!==e.value){t.value=e.value}}else if(n==="option"){t.defaultSelected=t.selected=e.defaultSelected}else if(n==="input"||n==="textarea"){t.defaultValue=e.defaultValue}}function jt(e,n){var r,s,o=0,u=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!u){for(u=[],r=e.childNodes||e;(s=r[o])!=null;o++){if(!n||w.nodeName(s,n)){u.push(s)}else{w.merge(u,jt(s,n))}}}return n===t||n&&w.nodeName(e,n)?w.merge([e],u):u}function Ft(e){if(xt.test(e.type)){e.defaultChecked=e.checked}}function tn(e,t){if(t in e){return t}var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){t=en[i]+n;if(t in e){return t}}return r}function nn(e,t){e=t||e;return w.css(e,"display")==="none"||!w.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style){continue}s[o]=w._data(r,"olddisplay");n=r.style.display;if(t){if(!s[o]&&n==="none"){r.style.display=""}if(r.style.display===""&&nn(r)){s[o]=w._data(r,"olddisplay",an(r.nodeName))}}else{if(!s[o]){i=nn(r);if(n&&n!=="none"||!i){w._data(r,"olddisplay",i?n:w.css(r,"display"))}}}}for(o=0;o<u;o++){r=e[o];if(!r.style){continue}if(!t||r.style.display==="none"||r.style.display===""){r.style.display=t?s[o]||"":"none"}}return e}function sn(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function on(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2){if(n==="margin"){o+=w.css(e,n+Zt[s],true,i)}if(r){if(n==="content"){o-=w.css(e,"padding"+Zt[s],true,i)}if(n!=="margin"){o-=w.css(e,"border"+Zt[s]+"Width",true,i)}}else{o+=w.css(e,"padding"+Zt[s],true,i);if(n!=="padding"){o+=w.css(e,"border"+Zt[s]+"Width",true,i)}}}return o}function un(e,t,n){var r=true,i=t==="width"?e.offsetWidth:e.offsetHeight,s=qt(e),o=w.support.boxSizing&&w.css(e,"boxSizing",false,s)==="border-box";if(i<=0||i==null){i=Rt(e,t,s);if(i<0||i==null){i=e.style[t]}if(Jt.test(i)){return i}r=o&&(w.support.boxSizingReliable||i===e.style[t]);i=parseFloat(i)||0}return i+on(e,t,n||(o?"border":"content"),r,s)+"px"}function an(e){var t=o,n=Qt[e];if(!n){n=fn(e,t);if(n==="none"||!n){It=(It||w("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement);t=(It[0].contentWindow||It[0].contentDocument).document;t.write("<!doctype html><html><body>");t.close();n=fn(e,t);It.detach()}Qt[e]=n}return n}function fn(e,t){var n=w(t.createElement(e)).appendTo(t.body),r=w.css(n[0],"display");n.remove();return r}function vn(e,t,n,r){var i;if(w.isArray(t)){w.each(t,function(t,i){if(n||cn.test(e)){r(e,i)}else{vn(e+"["+(typeof i==="object"?t:"")+"]",i,n,r)}})}else if(!n&&w.type(t)==="object"){for(i in t){vn(e+"["+i+"]",t[i],n,r)}}else{r(e,t)}}function _n(e){return function(t,n){if(typeof t!=="string"){n=t;t="*"}var r,i=0,s=t.toLowerCase().match(S)||[];if(w.isFunction(n)){while(r=s[i++]){if(r[0]==="+"){r=r.slice(1)||"*";(e[r]=e[r]||[]).unshift(n)}else{(e[r]=e[r]||[]).push(n)}}}}}function Dn(e,t,n,r){function o(u){var a;i[u]=true;w.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f==="string"&&!s&&!i[f]){t.dataTypes.unshift(f);o(f);return false}else if(s){return!(a=f)}});return a}var i={},s=e===An;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Pn(e,n){var r,i,s=w.ajaxSettings.flatOptions||{};for(i in n){if(n[i]!==t){(s[i]?e:r||(r={}))[i]=n[i]}}if(r){w.extend(true,e,r)}return e}function Hn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes;while(f[0]==="*"){f.shift();if(s===t){s=e.mimeType||n.getResponseHeader("Content-Type")}}if(s){for(u in a){if(a[u]&&a[u].test(s)){f.unshift(u);break}}}if(f[0]in r){o=f[0]}else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}if(!i){i=u}}o=o||i}if(o){if(o!==f[0]){f.unshift(o)}return r[o]}}function Bn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1]){for(o in e.converters){f[o.toLowerCase()]=e.converters[o]}}s=l.shift();while(s){if(e.responseFields[s]){n[e.responseFields[s]]=t}if(!a&&r&&e.dataFilter){t=e.dataFilter(t,e.dataType)}a=s;s=l.shift();if(s){if(s==="*"){s=a}else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o){for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){if(o===true){o=f[i]}else if(f[i]!==true){s=u[0];l.unshift(u[1])}break}}}}if(o!==true){if(o&&e["throws"]){t=o(t)}else{try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}}}}return{state:"success",data:t}}function zn(){try{return new e.XMLHttpRequest}catch(t){}}function Wn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Yn(){setTimeout(function(){Xn=t});return Xn=w.now()}function Zn(e,t,n){var r,i=(Gn[t]||[]).concat(Gn["*"]),s=0,o=i.length;for(;s<o;s++){if(r=i[s].call(n,t,e)){return r}}}function er(e,t,n){var r,i,s=0,o=Qn.length,u=w.Deferred().always(function(){delete a.elem}),a=function(){if(i){return false}var t=Xn||Yn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++){f.tweens[o].run(s)}u.notifyWith(e,[f,s,n]);if(s<1&&a){return n}else{u.resolveWith(e,[f]);return false}},f=u.promise({elem:e,props:w.extend({},t),opts:w.extend(true,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Yn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);f.tweens.push(r);return r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i){return this}i=true;for(;n<r;n++){f.tweens[n].run(1)}if(t){u.resolveWith(e,[f,t])}else{u.rejectWith(e,[f,t])}return this}}),l=f.props;tr(l,f.opts.specialEasing);for(;s<o;s++){r=Qn[s].call(f,e,l,f.opts);if(r){return r}}w.map(l,Zn,f);if(w.isFunction(f.opts.start)){f.opts.start.call(e,f)}w.fx.timer(w.extend(a,{elem:e,anim:f,queue:f.opts.queue}));return f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function tr(e,t){var n,r,i,s,o;for(n in e){r=w.camelCase(n);i=t[r];s=e[n];if(w.isArray(s)){i=s[1];s=e[n]=s[0]}if(n!==r){e[r]=s;delete e[n]}o=w.cssHooks[r];if(o&&"expand"in o){s=o.expand(s);delete e[r];for(n in s){if(!(n in e)){e[n]=s[n];t[n]=i}}}else{t[r]=i}}}function nr(e,t,n){var r,i,s,o,u,a,f=this,l={},c=e.style,h=e.nodeType&&nn(e),p=w._data(e,"fxshow");if(!n.queue){u=w._queueHooks(e,"fx");if(u.unqueued==null){u.unqueued=0;a=u.empty.fire;u.empty.fire=function(){if(!u.unqueued){a()}}}u.unqueued++;f.always(function(){f.always(function(){u.unqueued--;if(!w.queue(e,"fx").length){u.empty.fire()}})})}if(e.nodeType===1&&("height"in t||"width"in t)){n.overflow=[c.overflow,c.overflowX,c.overflowY];if(w.css(e,"display")==="inline"&&w.css(e,"float")==="none"){if(!w.support.inlineBlockNeedsLayout||an(e.nodeName)==="inline"){c.display="inline-block"}else{c.zoom=1}}}if(n.overflow){c.overflow="hidden";if(!w.support.shrinkWrapBlocks){f.always(function(){c.overflow=n.overflow[0];c.overflowX=n.overflow[1];c.overflowY=n.overflow[2]})}}for(r in t){i=t[r];if($n.exec(i)){delete t[r];s=s||i==="toggle";if(i===(h?"hide":"show")){continue}l[r]=p&&p[r]||w.style(e,r)}}if(!w.isEmptyObject(l)){if(p){if("hidden"in p){h=p.hidden}}else{p=w._data(e,"fxshow",{})}if(s){p.hidden=!h}if(h){w(e).show()}else{f.done(function(){w(e).hide()})}f.done(function(){var t;w._removeData(e,"fxshow");for(t in l){w.style(e,t,l[t])}});for(r in l){o=Zn(h?p[r]:0,r,f);if(!(r in p)){p[r]=o.start;if(h){o.end=o.start;o.start=r==="width"||r==="height"?1:0}}}}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t){n=Zt[i];r["margin"+n]=r["padding"+n]=e}if(t){r.opacity=r.width=e}return r}function sr(e){return w.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}var n,r,i=typeof t,s=e.location,o=e.document,u=o.documentElement,a=e.jQuery,f=e.$,l={},c=[],h="1.10.2",p=c.concat,d=c.push,v=c.slice,m=c.indexOf,g=l.toString,y=l.hasOwnProperty,b=h.trim,w=function(e,t){return new w.fn.init(e,t,r)},E=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,S=/\S+/g,x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,k=/(?:^|:|,)(?:\s*\[)+/g,L=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,O=/^-ms-/,M=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()},D=function(e){if(o.addEventListener||e.type==="load"||o.readyState==="complete"){P();w.ready()}},P=function(){if(o.addEventListener){o.removeEventListener("DOMContentLoaded",D,false);e.removeEventListener("load",D,false)}else{o.detachEvent("onreadystatechange",D);e.detachEvent("onload",D)}};w.fn=w.prototype={jquery:h,constructor:w,init:function(e,n,r){var i,s;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){i=[null,e,null]}else{i=T.exec(e)}if(i&&(i[1]||!n)){if(i[1]){n=n instanceof w?n[0]:n;w.merge(this,w.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,true));if(N.test(i[1])&&w.isPlainObject(n)){for(i in n){if(w.isFunction(this[i])){this[i](n[i])}else{this.attr(i,n[i])}}}return this}else{s=o.getElementById(i[2]);if(s&&s.parentNode){if(s.id!==i[2]){return r.find(e)}this.length=1;this[0]=s}this.context=o;this.selector=e;return this}}else if(!n||n.jquery){return(n||r).find(e)}else{return this.constructor(n).find(e)}}else if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else if(w.isFunction(e)){return r.ready(e)}if(e.selector!==t){this.selector=e.selector;this.context=e.context}return w.makeArray(e,this)},selector:"",length:0,toArray:function(){return v.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);t.prevObject=this;t.context=this.context;return t},each:function(e,t){return w.each(this,e,t)},ready:function(e){w.ready.promise().done(e);return this},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice};w.fn.init.prototype=w.fn;w.extend=w.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=false;if(typeof u==="boolean"){l=u;u=arguments[1]||{};a=2}if(typeof u!=="object"&&!w.isFunction(u)){u={}}if(f===a){u=this;--a}for(;a<f;a++){if((s=arguments[a])!=null){for(i in s){e=u[i];r=s[i];if(u===r){continue}if(l&&r&&(w.isPlainObject(r)||(n=w.isArray(r)))){if(n){n=false;o=e&&w.isArray(e)?e:[]}else{o=e&&w.isPlainObject(e)?e:{}}u[i]=w.extend(l,o,r)}else if(r!==t){u[i]=r}}}}return u};w.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),noConflict:function(t){if(e.$===w){e.$=f}if(t&&e.jQuery===w){e.jQuery=a}return w},isReady:false,readyWait:1,holdReady:function(e){if(e){w.readyWait++}else{w.ready(true)}},ready:function(e){if(e===true?--w.readyWait:w.isReady){return}if(!o.body){return setTimeout(w.ready)}w.isReady=true;if(e!==true&&--w.readyWait>0){return}n.resolveWith(o,[w]);if(w.fn.trigger){w(o).trigger("ready").off("ready")}},isFunction:function(e){return w.type(e)==="function"},isArray:Array.isArray||function(e){return w.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?l[g.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||w.type(e)!=="object"||e.nodeType||w.isWindow(e)){return false}try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf")){return false}}catch(r){return false}if(w.support.ownLast){for(n in e){return y.call(e,n)}}for(n in e){}return n===t||y.call(e,n)},isEmptyObject:function(e){var t;for(t in e){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!=="string"){return null}if(typeof t==="boolean"){n=t;t=false}t=t||o;var r=N.exec(e),i=!n&&[];if(r){return[t.createElement(r[1])]}r=w.buildFragment([e],t,i);if(i){w(i).remove()}return w.merge([],r.childNodes)},parseJSON:function(t){if(e.JSON&&e.JSON.parse){return e.JSON.parse(t)}if(t===null){return t}if(typeof t==="string"){t=w.trim(t);if(t){if(C.test(t.replace(L,"@").replace(A,"]").replace(k,""))){return(new Function("return "+t))()}}}w.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!=="string"){return null}try{if(e.DOMParser){i=new DOMParser;r=i.parseFromString(n,"text/xml")}else{r=new ActiveXObject("Microsoft.XMLDOM");r.async="false";r.loadXML(n)}}catch(s){r=t}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length){w.error("Invalid XML: "+n)}return r},noop:function(){},globalEval:function(t){if(t&&w.trim(t)){(e.execScript||function(t){e["eval"].call(e,t)})(t)}},camelCase:function(e){return e.replace(O,"ms-").replace(M,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=H(e);if(n){if(o){for(;i<s;i++){r=t.apply(e[i],n);if(r===false){break}}}else{for(i in e){r=t.apply(e[i],n);if(r===false){break}}}}else{if(o){for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===false){break}}}else{for(i in e){r=t.call(e[i],i,e[i]);if(r===false){break}}}}return e},trim:b&&!b.call("﻿ ")?function(e){return e==null?"":b.call(e)}:function(e){return e==null?"":(e+"").replace(x,"")},makeArray:function(e,t){var n=t||[];if(e!=null){if(H(Object(e))){w.merge(n,typeof e==="string"?[e]:e)}else{d.call(n,e)}}return n},inArray:function(e,t,n){var r;if(t){if(m){return m.call(t,e,n)}r=t.length;n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++){if(n in t&&t[n]===e){return n}}}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r==="number"){for(;s<r;s++){e[i++]=n[s]}}else{while(n[s]!==t){e[i++]=n[s++]}}e.length=i;return e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++){r=!!t(e[s],s);if(n!==r){i.push(e[s])}}return i},map:function(e,t,n){var r,i=0,s=e.length,o=H(e),u=[];if(o){for(;i<s;i++){r=t(e[i],i,n);if(r!=null){u[u.length]=r}}}else{for(i in e){r=t(e[i],i,n);if(r!=null){u[u.length]=r}}}return p.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;if(typeof n==="string"){s=e[n];n=e;e=s}if(!w.isFunction(e)){return t}r=v.call(arguments,2);i=function(){return e.apply(n||this,r.concat(v.call(arguments)))};i.guid=e.guid=e.guid||w.guid++;return i},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(w.type(r)==="object"){s=true;for(a in r){w.access(e,n,a,r[a],true,o,u)}}else if(i!==t){s=true;if(!w.isFunction(i)){u=true}if(l){if(u){n.call(e,i);n=null}else{l=n;n=function(e,t,n){return l.call(w(e),n)}}}if(n){for(;a<f;a++){n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}}}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,s,o={};for(s in t){o[s]=e.style[s];e.style[s]=t[s]}i=n.apply(e,r||[]);for(s in t){e.style[s]=o[s]}return i}});w.ready.promise=function(t){if(!n){n=w.Deferred();if(o.readyState==="complete"){setTimeout(w.ready)}else if(o.addEventListener){o.addEventListener("DOMContentLoaded",D,false);e.addEventListener("load",D,false)}else{o.attachEvent("onreadystatechange",D);e.attachEvent("onload",D);var r=false;try{r=e.frameElement==null&&o.documentElement}catch(i){}if(r&&r.doScroll){(function s(){if(!w.isReady){try{r.doScroll("left")}catch(e){return setTimeout(s,50)}P();w.ready()}})()}}}return n.promise(t)};w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});r=w(o);(function(e,t){function ot(e,t,n,i){var s,o,u,a,f,l,p,m,g,w;if((t?t.ownerDocument||t:E)!==h){c(t)}t=t||h;n=n||[];if(!e||typeof e!=="string"){return n}if((a=t.nodeType)!==1&&a!==9){return[]}if(d&&!i){if(s=Z.exec(e)){if(u=s[1]){if(a===9){o=t.getElementById(u);if(o&&o.parentNode){if(o.id===u){n.push(o);return n}}else{return n}}else{if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u){n.push(o);return n}}}else if(s[2]){H.apply(n,t.getElementsByTagName(e));return n}else if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName){H.apply(n,t.getElementsByClassName(u));return n}}if(r.qsa&&(!v||!v.test(e))){m=p=b;g=t;w=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){l=mt(e);if(p=t.getAttribute("id")){m=p.replace(nt,"\\$&")}else{t.setAttribute("id",m)}m="[id='"+m+"'] ";f=l.length;while(f--){l[f]=m+gt(l[f])}g=$.test(e)&&t.parentNode||t;w=l.join(",")}if(w){try{H.apply(n,g.querySelectorAll(w));return n}catch(S){}finally{if(!p){t.removeAttribute("id")}}}}}return Nt(e.replace(W,"$1"),t,n,i)}function ut(){function t(n,r){if(e.push(n+=" ")>s.cacheLength){delete t[e.shift()]}return t[n]=r}var e=[];return t}function at(e){e[b]=true;return e}function ft(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return false}finally{if(t.parentNode){t.parentNode.removeChild(t)}t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--){s.attrHandle[n[r]]=t}}function ct(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return-1}}}return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function dt(e){return at(function(t){t=+t;return at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--){if(n[i=s[o]]){n[i]=!(r[i]=n[i])}}})})}function vt(){}function mt(e,t){var n,r,i,o,u,a,f,l=N[e+" "];if(l){return t?0:l.slice(0)}u=e;a=[];f=s.preFilter;while(u){if(!n||(r=X.exec(u))){if(r){u=u.slice(r[0].length)||u}a.push(i=[])}n=false;if(r=V.exec(u)){n=r.shift();i.push({value:n,type:r[0].replace(W," ")});u=u.slice(n.length)}for(o in s.filter){if((r=G[o].exec(u))&&(!f[o]||(r=f[o](r)))){n=r.shift();i.push({value:n,type:o,matches:r});u=u.slice(n.length)}}if(!n){break}}return t?u.length:u?ot.error(e):N(e,a).slice(0)}function gt(e){var t=0,n=e.length,r="";for(;t<n;t++){r+=e[t].value}return r}function yt(e,t,n){var r=t.dir,s=n&&r==="parentNode",o=x++;return t.first?function(t,n,i){while(t=t[r]){if(t.nodeType===1||s){return e(t,n,i)}}}:function(t,n,u){var a,f,l,c=S+" "+o;if(u){while(t=t[r]){if(t.nodeType===1||s){if(e(t,n,u)){return true}}}}else{while(t=t[r]){if(t.nodeType===1||s){l=t[b]||(t[b]={});if((f=l[r])&&f[0]===c){if((a=f[1])===true||a===i){return a===true}}else{f=l[r]=[c];f[1]=e(t,n,u)||i;if(f[1]===true){return true}}}}}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return false}}return true}:e[0]}function wt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++){if(s=e[u]){if(!n||n(s,r,i)){o.push(s);if(f){t.push(u)}}}}return o}function Et(e,t,n,r,i,s){if(r&&!r[b]){r=Et(r)}if(i&&!i[b]){i=Et(i,s)}return at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||Tt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?wt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;if(n){n(m,g,u,a)}if(r){f=wt(g,p);r(f,[],u,a);l=f.length;while(l--){if(c=f[l]){g[p[l]]=!(m[p[l]]=c)}}}if(s){if(i||e){if(i){f=[];l=g.length;while(l--){if(c=g[l]){f.push(m[l]=c)}}i(null,g=[],f,a)}l=g.length;while(l--){if((c=g[l])&&(f=i?j.call(s,c):h[l])>-1){s[f]=!(o[f]=c)}}}}else{g=wt(g===o?g.splice(d,g.length):g);if(i){i(null,o,g,a)}else{H.apply(o,g)}}})}function St(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,true),c=yt(function(e){return j.call(t,e)>-1},u,true),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<i;a++){if(n=s.relative[e[a].type]){h=[yt(bt(h),n)]}else{n=s.filter[e[a].type].apply(null,e[a].matches);if(n[b]){r=++a;for(;r<i;r++){if(s.relative[e[r].type]){break}}return Et(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(W,"$1"),n,a<r&&St(e.slice(a,r)),r<i&&St(e=e.slice(r)),r<i&&gt(e))}h.push(n)}}return bt(h)}function xt(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,x=f,T=u||o&&s.find["TAG"]("*",p&&a.parentNode||a),N=S+=x==null?1:Math.random()||.1;if(E){f=a!==h&&a;i=n}for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++]){if(m(d,a,l)){c.push(d);break}}if(E){S=N;i=++n}}if(r){if(d=!m&&d){y--}if(u){w.push(d)}}}y+=b;if(r&&b!==y){v=0;while(m=t[v++]){m(w,g,a,l)}if(u){if(y>0){while(b--){if(!(w[b]||g[b])){g[b]=D.call(c)}}}g=wt(g)}H.apply(c,g);if(E&&!u&&g.length>0&&y+t.length>1){ot.uniqueSort(c)}}if(E){S=N;f=x}return w};return r?at(u):u}function Tt(e,t,n){var r=0,i=t.length;for(;r<i;r++){ot(e,t[r],n)}return n}function Nt(e,t,n,i){var o,u,f,l,c,h=mt(e);if(!i){if(h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&r.getById&&t.nodeType===9&&d&&s.relative[u[1].type]){t=(s.find["ID"](f.matches[0].replace(rt,it),t)||[])[0];if(!t){return n}e=e.slice(u.shift().value.length)}o=G["needsContext"].test(e)?0:u.length;while(o--){f=u[o];if(s.relative[l=f.type]){break}if(c=s.find[l]){if(i=c(f.matches[0].replace(rt,it),$.test(u[0].type)&&t.parentNode||t)){u.splice(o,1);e=i.length&&gt(u);if(!e){H.apply(n,i);return n}break}}}}}a(e,h)(i,t,!d,n,$.test(e));return n}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=false,L=function(e,t){if(e===t){k=true;return 0}return 0},A=typeof t,O=1<<31,M={}.hasOwnProperty,_=[],D=_.pop,P=_.push,H=_.push,B=_.slice,j=_.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++){if(this[t]===e){return t}}return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=q.replace("w","w#"),U="\\["+I+"*("+q+")"+I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+I+"*\\]",z=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+U.replace(3,8)+")*)|.*)\\)|)",W=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),X=new RegExp("^"+I+"*,"+I+"*"),V=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),$=new RegExp(I+"*[+~]"),J=new RegExp("="+I+"*([^\\]'\"]*)"+I+"*\\]","g"),K=new RegExp(z),Q=new RegExp("^"+R+"$"),G={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{H.apply(_=B.call(E.childNodes),E.childNodes);_[E.childNodes.length].nodeType}catch(st){H={apply:_.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1}}}u=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};r=ot.support={};c=ot.setDocument=function(e){var t=e?e.ownerDocument||e:E,n=t.defaultView;if(t===h||t.nodeType!==9||!t.documentElement){return h}h=t;p=t.documentElement;d=!u(t);if(n&&n.attachEvent&&n!==n.top){n.attachEvent("onbeforeunload",function(){c()})}r.attributes=ft(function(e){e.className="i";return!e.getAttribute("className")});r.getElementsByTagName=ft(function(e){e.appendChild(t.createComment(""));return!e.getElementsByTagName("*").length});r.getElementsByClassName=ft(function(e){e.innerHTML="<div class='a'></div><div class='a i'></div>";e.firstChild.className="i";return e.getElementsByClassName("i").length===2});r.getById=ft(function(e){p.appendChild(e).id=b;return!t.getElementsByName||!t.getElementsByName(b).length});if(r.getById){s.find["ID"]=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}};s.filter["ID"]=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}}else{delete s.find["ID"];s.filter["ID"]=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}}s.find["TAG"]=r.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==A){return t.getElementsByTagName(e)}}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++]){if(n.nodeType===1){r.push(n)}}return r}return s};s.find["CLASS"]=r.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==A&&d){return t.getElementsByClassName(e)}};m=[];v=[];if(r.qsa=Y.test(t.querySelectorAll)){ft(function(e){e.innerHTML="<select><option selected=''></option></select>";if(!e.querySelectorAll("[selected]").length){v.push("\\["+I+"*(?:value|"+F+")")}if(!e.querySelectorAll(":checked").length){v.push(":checked")}});ft(function(e){var n=t.createElement("input");n.setAttribute("type","hidden");e.appendChild(n).setAttribute("t","");if(e.querySelectorAll("[t^='']").length){v.push("[*^$]="+I+"*(?:''|\"\")")}if(!e.querySelectorAll(":enabled").length){v.push(":enabled",":disabled")}e.querySelectorAll("*,:x");v.push(",.*:")})}if(r.matchesSelector=Y.test(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector)){ft(function(e){r.disconnectedMatch=g.call(e,"div");g.call(e,"[s!='']:x");m.push("!=",z)})}v=v.length&&new RegExp(v.join("|"));m=m.length&&new RegExp(m.join("|"));y=Y.test(p.contains)||p.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};L=p.compareDocumentPosition?function(e,n){if(e===n){k=true;return 0}var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);if(i){if(i&1||!r.sortDetached&&n.compareDocumentPosition(e)===i){if(e===t||y(E,e)){return-1}if(n===t||y(E,n)){return 1}return l?j.call(l,e)-j.call(l,n):0}return i&4?-1:1}return e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,s=e.parentNode,o=n.parentNode,u=[e],a=[n];if(e===n){k=true;return 0}else if(!s||!o){return e===t?-1:n===t?1:s?-1:o?1:l?j.call(l,e)-j.call(l,n):0}else if(s===o){return ct(e,n)}r=e;while(r=r.parentNode){u.unshift(r)}r=n;while(r=r.parentNode){a.unshift(r)}while(u[i]===a[i]){i++}return i?ct(u[i],a[i]):u[i]===E?-1:a[i]===E?1:0};return t};ot.matches=function(e,t){return ot(e,null,null,t)};ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h){c(e)}t=t.replace(J,"='$1']");if(r.matchesSelector&&d&&(!m||!m.test(t))&&(!v||!v.test(t))){try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&e.document.nodeType!==11){return n}}catch(i){}}return ot(t,h,null,[e]).length>0};ot.contains=function(e,t){if((e.ownerDocument||e)!==h){c(e)}return y(e,t)};ot.attr=function(e,n){if((e.ownerDocument||e)!==h){c(e)}var i=s.attrHandle[n.toLowerCase()],o=i&&M.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o};ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};ot.uniqueSort=function(e){var t,n=[],i=0,s=0;k=!r.detectDuplicates;l=!r.sortStable&&e.slice(0);e.sort(L);if(k){while(t=e[s++]){if(t===e[s]){i=n.push(s)}}while(i--){e.splice(n[i],1)}}return e};o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i){for(;t=e[r];r++){n+=o(t)}}else if(i===1||i===9||i===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){n+=o(e)}}}else if(i===3||i===4){return e.nodeValue}return n};s=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(rt,it);e[3]=(e[4]||e[5]||"").replace(rt,it);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){ot.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){ot.error(e[0])}return e},PSEUDO:function(e){var n,r=!e[5]&&e[2];if(G["CHILD"].test(e[0])){return null}if(e[3]&&e[4]!==t){e[2]=e[4]}else if(r&&K.test(r)&&(n=mt(r,true))&&(n=r.indexOf(")",r.length-n)-r.length)){e[0]=e[0].slice(0,n);e[2]=r.slice(0,n)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return e==="*"?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&T(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);if(i==null){return t==="!="}if(!t){return true}i+="";return t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":false}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v]){if(u?c.nodeName.toLowerCase()===g:c.nodeType===1){return false}}d=v=e==="only"&&!d&&"nextSibling"}return true}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[b]||(m[b]={});f=l[e]||[];p=f[0]===S&&f[1];h=f[0]===S&&f[2];c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop()){if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===S){h=f[1]}else{while(c=++p&&c&&c[v]||(h=p=0)||d.pop()){if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){if(y){(c[b]||(c[b]={}))[e]=[S,h]}if(c===t){break}}}}h-=i;return h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);if(r[b]){return r(t)}if(r.length>1){n=[e,e,"",t];return s.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,s=r(e,t),o=s.length;while(o--){i=j.call(e,s[o]);e[i]=!(n[i]=s[o])}}):function(e){return r(e,0,n)}}return r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[b]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--){if(s=o[u]){e[u]=!(t[u]=s)}}}):function(e,i,s){t[0]=e;r(t,null,s,n);return!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){if(!Q.test(e||"")){ot.error("unsupported lang: "+e)}e=e.replace(rt,it).toLowerCase();return function(t){var n;do{if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){n=n.toLowerCase();return n===e||n.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return!s.pseudos["empty"](e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[n<0?n+t:n]}),even:dt(function(e,t){var n=0;for(;n<t;n+=2){e.push(n)}return e}),odd:dt(function(e,t){var n=1;for(;n<t;n+=2){e.push(n)}return e}),lt:dt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;){e.push(r)}return e}),gt:dt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;){e.push(r)}return e})}};s.pseudos["nth"]=s.pseudos["eq"];for(n in{radio:true,checkbox:true,file:true,password:true,image:true}){s.pseudos[n]=ht(n)}for(n in{submit:true,reset:true}){s.pseudos[n]=pt(n)}vt.prototype=s.filters=s.pseudos;s.setFilters=new vt;a=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){if(!t){t=mt(e)}n=t.length;while(n--){s=St(t[n]);if(s[b]){r.push(s)}else{i.push(s)}}s=C(e,xt(i,r))}return s};r.sortStable=b.split("").sort(L).join("")===b;r.detectDuplicates=k;c();r.sortDetached=ft(function(e){return e.compareDocumentPosition(h.createElement("div"))&1});if(!ft(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){lt("type|href|height|width",function(e,t,n){if(!n){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}})}if(!r.attributes||!ft(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){lt("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input"){return e.defaultValue}})}if(!ft(function(e){return e.getAttribute("disabled")==null})){lt(F,function(e,t,n){var r;if(!n){return(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===true?t.toLowerCase():null}})}w.find=ot;w.expr=ot.selectors;w.expr[":"]=w.expr.pseudos;w.unique=ot.uniqueSort;w.text=ot.getText;w.isXMLDoc=ot.isXML;w.contains=ot.contains})(e);var B={};w.Callbacks=function(e){e=typeof e==="string"?B[e]||j(e):w.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){r=e.memory&&t;i=true;o=u||0;u=0;s=a.length;n=true;for(;a&&o<s;o++){if(a[o].apply(t[0],t[1])===false&&e.stopOnFalse){r=false;break}}n=false;if(a){if(f){if(f.length){l(f.shift())}}else if(r){a=[]}else{c.disable()}}},c={add:function(){if(a){var t=a.length;(function i(t){w.each(t,function(t,n){var r=w.type(n);if(r==="function"){if(!e.unique||!c.has(n)){a.push(n)}}else if(n&&n.length&&r!=="string"){i(n)}})})(arguments);if(n){s=a.length}else if(r){u=t;l(r)}}return this},remove:function(){if(a){w.each(arguments,function(e,t){var r;while((r=w.inArray(t,a,r))>-1){a.splice(r,1);if(n){if(r<=s){s--}if(r<=o){o--}}}})}return this},has:function(e){return e?w.inArray(e,a)>-1:!!(a&&a.length)},empty:function(){a=[];s=0;return this},disable:function(){a=f=r=t;return this},disabled:function(){return!a},lock:function(){f=t;if(!r){c.disable()}return this},locked:function(){return!f},fireWith:function(e,t){if(a&&(!i||f)){t=t||[];t=[e,t.slice?t.slice():t];if(n){f.push(t)}else{l(t)}}return this},fire:function(){c.fireWith(this,arguments);return this},fired:function(){return!!i}};return c};w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){i.done(arguments).fail(arguments);return this},then:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,s){var o=s[0],u=w.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);if(e&&w.isFunction(e.promise)){e.promise().done(n.resolve).fail(n.reject).progress(n.notify)}else{n[o+"With"](this===r?n.promise():this,u?[e]:arguments)}})});e=null}).promise()},promise:function(e){return e!=null?w.extend(e,r):r}},i={};r.pipe=r.then;w.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add;if(u){o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock)}i[s[0]]=function(){i[s[0]+"With"](this===i?r:this,arguments);return this};i[s[0]+"With"]=o.fireWith});r.promise(i);if(e){e.call(i,i)}return i},when:function(e){var t=0,n=v.call(arguments),r=n.length,i=r!==1||e&&w.isFunction(e.promise)?r:0,s=i===1?e:w.Deferred(),o=function(e,t,n){return function(r){t[e]=this;n[e]=arguments.length>1?v.call(arguments):r;if(n===u){s.notifyWith(t,n)}else if(!--i){s.resolveWith(t,n)}}},u,a,f;if(r>1){u=new Array(r);a=new Array(r);f=new Array(r);for(;t<r;t++){if(n[t]&&w.isFunction(n[t].promise)){n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u))}else{--i}}}if(!i){s.resolveWith(f,n)}return s.promise()}});w.support=function(t){var n,r,s,u,a,f,l,c,h,p=o.createElement("div");p.setAttribute("className","t");p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";n=p.getElementsByTagName("*")||[];r=p.getElementsByTagName("a")[0];if(!r||!r.style||!n.length){return t}u=o.createElement("select");f=u.appendChild(o.createElement("option"));s=p.getElementsByTagName("input")[0];r.style.cssText="top:1px;float:left;opacity:.5";t.getSetAttribute=p.className!=="t";t.leadingWhitespace=p.firstChild.nodeType===3;t.tbody=!p.getElementsByTagName("tbody").length;t.htmlSerialize=!!p.getElementsByTagName("link").length;t.style=/top/.test(r.getAttribute("style"));t.hrefNormalized=r.getAttribute("href")==="/a";t.opacity=/^0.5/.test(r.style.opacity);t.cssFloat=!!r.style.cssFloat;t.checkOn=!!s.value;t.optSelected=f.selected;t.enctype=!!o.createElement("form").enctype;t.html5Clone=o.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>";t.inlineBlockNeedsLayout=false;t.shrinkWrapBlocks=false;t.pixelPosition=false;t.deleteExpando=true;t.noCloneEvent=true;t.reliableMarginRight=true;t.boxSizingReliable=true;s.checked=true;t.noCloneChecked=s.cloneNode(true).checked;u.disabled=true;t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=false}s=o.createElement("input");s.setAttribute("value","");t.input=s.getAttribute("value")==="";s.value="t";s.setAttribute("type","radio");t.radioValue=s.value==="t";s.setAttribute("checked","t");s.setAttribute("name","t");a=o.createDocumentFragment();a.appendChild(s);t.appendChecked=s.checked;t.checkClone=a.cloneNode(true).cloneNode(true).lastChild.checked;if(p.attachEvent){p.attachEvent("onclick",function(){t.noCloneEvent=false});p.cloneNode(true).click()}for(h in{submit:true,change:true,focusin:true}){p.setAttribute(l="on"+h,"t");t[h+"Bubbles"]=l in e||p.attributes[l].expando===false}p.style.backgroundClip="content-box";p.cloneNode(true).style.backgroundClip="";t.clearCloneStyle=p.style.backgroundClip==="content-box";for(h in w(t)){break}t.ownLast=h!=="0";w(function(){var n,r,s,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=o.getElementsByTagName("body")[0];if(!a){return}n=o.createElement("div");n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";a.appendChild(n).appendChild(p);p.innerHTML="<table><tr><td></td><td>t</td></tr></table>";s=p.getElementsByTagName("td");s[0].style.cssText="padding:0;margin:0;border:0;display:none";c=s[0].offsetHeight===0;s[0].style.display="";s[1].style.display="none";t.reliableHiddenOffsets=c&&s[0].offsetHeight===0;p.innerHTML="";p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";w.swap(a,a.style.zoom!=null?{zoom:1}:{},function(){t.boxSizing=p.offsetWidth===4});if(e.getComputedStyle){t.pixelPosition=(e.getComputedStyle(p,null)||{}).top!=="1%";t.boxSizingReliable=(e.getComputedStyle(p,null)||{width:"4px"}).width==="4px";r=p.appendChild(o.createElement("div"));r.style.cssText=p.style.cssText=u;r.style.marginRight=r.style.width="0";p.style.width="1px";t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)}if(typeof p.style.zoom!==i){p.innerHTML="";p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1";t.inlineBlockNeedsLayout=p.offsetWidth===3;p.style.display="block";p.innerHTML="<div></div>";p.firstChild.style.width="5px";t.shrinkWrapBlocks=p.offsetWidth!==3;if(t.inlineBlockNeedsLayout){a.style.zoom=1}}a.removeChild(n);n=p=s=r=null});n=u=a=f=r=s=null;return t}({});var F=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;w.extend({cache:{},noData:{applet:true,embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){e=e.nodeType?w.cache[e[w.expando]]:e[w.expando];return!!e&&!z(e)},data:function(e,t,n){return q(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return q(e,t,n,true)},_removeData:function(e,t){return R(e,t,true)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9){return false}var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||t!==true&&e.getAttribute("classid")===t}});w.fn.extend({data:function(e,n){var r,i,s=null,o=0,u=this[0];if(e===t){if(this.length){s=w.data(u);if(u.nodeType===1&&!w._data(u,"parsedAttrs")){r=u.attributes;for(;o<r.length;o++){i=r[o].name;if(i.indexOf("data-")===0){i=w.camelCase(i.slice(5));U(u,i,s[i])}}w._data(u,"parsedAttrs",true)}}return s}if(typeof e==="object"){return this.each(function(){w.data(this,e)})}return arguments.length>1?this.each(function(){w.data(this,e,n)}):u?U(u,e,w.data(u,e)):null},removeData:function(e){return this.each(function(){w.removeData(this,e)})}});w.extend({queue:function(e,t,n){var r;if(e){t=(t||"fx")+"queue";r=w._data(e,t);if(n){if(!r||w.isArray(n)){r=w._data(e,t,w.makeArray(n))}else{r.push(n)}}return r||[]}},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),s=w._queueHooks(e,t),o=function(){w.dequeue(e,t)};if(i==="inprogress"){i=n.shift();r--}if(i){if(t==="fx"){n.unshift("inprogress")}delete s.stop;i.call(e,o,s)}if(!r&&s){s.empty.fire()}},_queueHooks:function(e,t){var n=t+"queueHooks";return w._data(e,n)||w._data(e,n,{empty:w.Callbacks("once memory").add(function(){w._removeData(e,t+"queue");w._removeData(e,n)})})}});w.fn.extend({queue:function(e,n){var r=2;if(typeof e!=="string"){n=e;e="fx";r--}if(arguments.length<r){return w.queue(this[0],e)}return n===t?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e);if(e==="fx"&&t[0]!=="inprogress"){w.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(e,t){e=w.fx?w.fx.speeds[e]||e:e;t=t||"fx";return this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=w.Deferred(),o=this,u=this.length,a=function(){if(!--i){s.resolveWith(o,[o])}};if(typeof e!=="string"){n=e;e=t}e=e||"fx";while(u--){r=w._data(o[u],e+"queueHooks");if(r&&r.empty){i++;r.empty.add(a)}}a();return s.promise(n)}});var W,X,V=/[\t\r\n\f]/g,$=/\r/g,J=/^(?:input|select|textarea|button|object)$/i,K=/^(?:a|area)$/i,Q=/^(?:checked|selected)$/i,G=w.support.getSetAttribute,Y=w.support.input;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){e=w.propFix[e]||e;return this.each(function(){try{this[e]=t;delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e==="string"&&e;if(w.isFunction(e)){return this.each(function(t){w(this).addClass(e.call(this,t,this.className))})}if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o];r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):" ");if(r){s=0;while(i=t[s++]){if(r.indexOf(" "+i+" ")<0){r+=i+" "}}n.className=w.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e==="string"&&e;if(w.isFunction(e)){return this.each(function(t){w(this).removeClass(e.call(this,t,this.className))})}if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o];r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):"");if(r){s=0;while(i=t[s++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ")}}n.className=e?w.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e;if(typeof t==="boolean"&&n==="string"){return t?this.addClass(e):this.removeClass(e)}if(w.isFunction(e)){return this.each(function(n){w(this).toggleClass(e.call(this,n,this.className,t),t)})}return this.each(function(){if(n==="string"){var t,r=0,s=w(this),o=e.match(S)||[];while(t=o[r++]){if(s.hasClass(t)){s.removeClass(t)}else{s.addClass(t)}}}else if(n===i||n==="boolean"){if(this.className){w._data(this,"__className__",this.className)}this.className=this.className||e===false?"":w._data(this,"__className__")||""}})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++){if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(V," ").indexOf(t)>=0){return true}}return false},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s){r=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()];if(r&&"get"in r&&(n=r.get(s,"value"))!==t){return n}n=s.value;return typeof n==="string"?n.replace($,""):n==null?"":n}return}i=w.isFunction(e);return this.each(function(n){var s;if(this.nodeType!==1){return}if(i){s=e.call(this,n,w(this).val())}else{s=e}if(s==null){s=""}else if(typeof s==="number"){s+=""}else if(w.isArray(s)){s=w.map(s,function(e){return e==null?"":e+""})}r=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,s,"value")===t){this.value=s}})}});w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return t!=null?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(w.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!w.nodeName(n.parentNode,"optgroup"))){t=w(n).val();if(s){return t}o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=w.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=w.inArray(w(r).val(),s)>=0){n=true}}if(!n){e.selectedIndex=-1}return s}}},attr:function(e,n,r){var s,o,u=e.nodeType;if(!e||u===3||u===8||u===2){return}if(typeof e.getAttribute===i){return w.prop(e,n,r)}if(u!==1||!w.isXMLDoc(e)){n=n.toLowerCase();s=w.attrHooks[n]||(w.expr.match.bool.test(n)?X:W)}if(r!==t){if(r===null){w.removeAttr(e,n)}else if(s&&"set"in s&&(o=s.set(e,r,n))!==t){return o}else{e.setAttribute(n,r+"");return r}}else if(s&&"get"in s&&(o=s.get(e,n))!==null){return o}else{o=w.find.attr(e,n);return o==null?t:o}},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(S);if(s&&e.nodeType===1){while(n=s[i++]){r=w.propFix[n]||n;if(w.expr.match.bool.test(n)){if(Y&&G||!Q.test(n)){e[r]=false}else{e[w.camelCase("default-"+n)]=e[r]=false}}else{w.attr(e,n,"")}e.removeAttribute(G?n:r)}}},attrHooks:{type:{set:function(e,t){if(!w.support.radioValue&&t==="radio"&&w.nodeName(e,"input")){var n=e.value;e.setAttribute("type",t);if(n){e.value=n}return t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2){return}o=u!==1||!w.isXMLDoc(e);if(o){n=w.propFix[n]||n;s=w.propHooks[n]}if(r!==t){return s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r}else{return s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]}},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):J.test(e.nodeName)||K.test(e.nodeName)&&e.href?0:-1}}}});X={set:function(e,t,n){if(t===false){w.removeAttr(e,n)}else if(Y&&G||!Q.test(n)){e.setAttribute(!G&&w.propFix[n]||n,n)}else{e[w.camelCase("default-"+n)]=e[n]=true}return n}};w.each(w.expr.match.bool.source.match(/\w+/g),function(e,n){var r=w.expr.attrHandle[n]||w.find.attr;w.expr.attrHandle[n]=Y&&G||!Q.test(n)?function(e,n,i){var s=w.expr.attrHandle[n],o=i?t:(w.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;w.expr.attrHandle[n]=s;return o}:function(e,n,r){return r?t:e[w.camelCase("default-"+n)]?n.toLowerCase():null}});if(!Y||!G){w.attrHooks.value={set:function(e,t,n){if(w.nodeName(e,"input")){e.defaultValue=t}else{return W&&W.set(e,t,n)}}}}if(!G){W={set:function(e,n,r){var i=e.getAttributeNode(r);if(!i){e.setAttributeNode(i=e.ownerDocument.createAttribute(r))}i.value=n+="";return r==="value"||n===e.getAttribute(r)?n:t}};w.expr.attrHandle.id=w.expr.attrHandle.name=w.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.value!==""?i.value:null};w.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:W.set};w.attrHooks.contenteditable={set:function(e,t,n){W.set(e,t===""?false:t,n)}};w.each(["width","height"],function(e,t){w.attrHooks[t]={set:function(e,n){if(n===""){e.setAttribute(t,"auto");return n}}}})}if(!w.support.hrefNormalized){w.each(["href","src"],function(e,t){w.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})}if(!w.support.style){w.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}}if(!w.support.optSelected){w.propHooks.selected={get:function(e){var t=e.parentNode;if(t){t.selectedIndex;if(t.parentNode){t.parentNode.selectedIndex}}return null}}}w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});if(!w.support.enctype){w.propFix.enctype="encoding"}w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(w.isArray(t)){return e.checked=w.inArray(w(e).val(),t)>=0}}};if(!w.support.checkOn){w.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;w.event={global:{},add:function(e,n,r,s,o){var u,a,f,l,c,h,p,d,v,m,g,y=w._data(e);if(!y){return}if(r.handler){l=r;r=l.handler;o=l.selector}if(!r.guid){r.guid=w.guid++}if(!(a=y.events)){a=y.events={}}if(!(h=y.handle)){h=y.handle=function(e){return typeof w!==i&&(!e||w.event.triggered!==e.type)?w.event.dispatch.apply(h.elem,arguments):t};h.elem=e}n=(n||"").match(S)||[""];f=n.length;while(f--){u=rt.exec(n[f])||[];v=g=u[1];m=(u[2]||"").split(".").sort();if(!v){continue}c=w.event.special[v]||{};v=(o?c.delegateType:c.bindType)||v;c=w.event.special[v]||{};p=w.extend({type:v,origType:g,data:s,handler:r,guid:r.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:m.join(".")},l);if(!(d=a[v])){d=a[v]=[];d.delegateCount=0;if(!c.setup||c.setup.call(e,s,m,h)===false){if(e.addEventListener){e.addEventListener(v,h,false)}else if(e.attachEvent){e.attachEvent("on"+v,h)}}}if(c.add){c.add.call(e,p);if(!p.handler.guid){p.handler.guid=r.guid}}if(o){d.splice(d.delegateCount++,0,p)}else{d.push(p)}w.event.global[v]=true}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=w.hasData(e)&&w._data(e);if(!m||!(l=m.events)){return}t=(t||"").match(S)||[""];f=t.length;while(f--){u=rt.exec(t[f])||[];p=v=u[1];d=(u[2]||"").split(".").sort();if(!p){for(p in l){w.event.remove(e,p+t[f],n,r,true)}continue}c=w.event.special[p]||{};p=(r?c.delegateType:c.bindType)||p;h=l[p]||[];u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)");a=s=h.length;while(s--){o=h[s];if((i||v===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)){h.splice(s,1);if(o.selector){h.delegateCount--}if(c.remove){c.remove.call(e,o)}}}if(a&&!h.length){if(!c.teardown||c.teardown.call(e,d,m.handle)===false){w.removeEvent(e,p,m.handle)}delete l[p]}}if(w.isEmptyObject(l)){delete m.handle;w._removeData(e,"events")}},trigger:function(n,r,i,s){var u,a,f,l,c,h,p,d=[i||o],v=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];f=h=i=i||o;if(i.nodeType===3||i.nodeType===8){return}if(nt.test(v+w.event.triggered)){return}if(v.indexOf(".")>=0){m=v.split(".");v=m.shift();m.sort()}a=v.indexOf(":")<0&&"on"+v;n=n[w.expando]?n:new w.Event(v,typeof n==="object"&&n);n.isTrigger=s?2:3;n.namespace=m.join(".");n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;n.result=t;if(!n.target){n.target=i}r=r==null?[n]:w.makeArray(r,[n]);c=w.event.special[v]||{};if(!s&&c.trigger&&c.trigger.apply(i,r)===false){return}if(!s&&!c.noBubble&&!w.isWindow(i)){l=c.delegateType||v;if(!nt.test(l+v)){f=f.parentNode}for(;f;f=f.parentNode){d.push(f);h=f}if(h===(i.ownerDocument||o)){d.push(h.defaultView||h.parentWindow||e)}}p=0;while((f=d[p++])&&!n.isPropagationStopped()){n.type=p>1?l:c.bindType||v;u=(w._data(f,"events")||{})[n.type]&&w._data(f,"handle");if(u){u.apply(f,r)}u=a&&f[a];if(u&&w.acceptData(f)&&u.apply&&u.apply(f,r)===false){n.preventDefault()}}n.type=v;if(!s&&!n.isDefaultPrevented()){if((!c._default||c._default.apply(d.pop(),r)===false)&&w.acceptData(i)){if(a&&i[v]&&!w.isWindow(i)){h=i[a];if(h){i[a]=null}w.event.triggered=v;try{i[v]()}catch(g){}w.event.triggered=t;if(h){i[a]=h}}}}return n.result},dispatch:function(e){e=w.event.fix(e);var n,r,i,s,o,u=[],a=v.call(arguments),f=(w._data(this,"events")||{})[e.type]||[],l=w.event.special[e.type]||{};a[0]=e;e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===false){return}u=w.event.handlers.call(this,e,f);n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem;o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(i.namespace)){e.handleObj=i;e.data=i.data;r=((w.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a);if(r!==t){if((e.result=r)===false){e.preventDefault();e.stopPropagation()}}}}}if(l.postDispatch){l.postDispatch.call(this,e)}return e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click")){for(;f!=this;f=f.parentNode||this){if(f.nodeType===1&&(f.disabled!==true||e.type!=="click")){s=[];for(o=0;o<a;o++){i=n[o];r=i.selector+" ";if(s[r]===t){s[r]=i.needsContext?w(r,this).index(f)>=0:w.find(r,this,null,[f]).length}if(s[r]){s.push(i)}}if(s.length){u.push({elem:f,handlers:s})}}}}if(a<n.length){u.push({elem:this,handlers:n.slice(a)})}return u},fix:function(e){if(e[w.expando]){return e}var t,n,r,i=e.type,s=e,u=this.fixHooks[i];if(!u){this.fixHooks[i]=u=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}}r=u.props?this.props.concat(u.props):this.props;e=new w.Event(s);t=r.length;while(t--){n=r[t];e[n]=s[n]}if(!e.target){e.target=s.srcElement||o}if(e.target.nodeType===3){e.target=e.target.parentNode}e.metaKey=!!e.metaKey;return u.filter?u.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){if(e.which==null){e.which=t.charCode!=null?t.charCode:t.keyCode}return e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,u=n.button,a=n.fromElement;if(e.pageX==null&&n.clientX!=null){i=e.target.ownerDocument||o;s=i.documentElement;r=i.body;e.pageX=n.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0);e.pageY=n.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)}if(!e.relatedTarget&&a){e.relatedTarget=a===e.target?n.toElement:a}if(!e.which&&u!==t){e.which=u&1?1:u&2?3:u&4?2:0}return e}},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==ot()&&this.focus){try{this.focus();return false}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===ot()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(w.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==t){e.originalEvent.returnValue=e.result}}}},simulate:function(e,t,n,r){var i=w.extend(new w.Event,n,{type:e,isSimulated:true,originalEvent:{}});if(r){w.event.trigger(i,null,t)}else{w.event.dispatch.call(t,i)}if(i.isDefaultPrevented()){n.preventDefault()}}};w.removeEvent=o.removeEventListener?function(e,t,n){if(e.removeEventListener){e.removeEventListener(t,n,false)}}:function(e,t,n){var r="on"+t;if(e.detachEvent){if(typeof e[r]===i){e[r]=null}e.detachEvent(r,n)}};w.Event=function(e,t){if(!(this instanceof w.Event)){return new w.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.returnValue===false||e.getPreventDefault&&e.getPreventDefault()?it:st}else{this.type=e}if(t){w.extend(this,t)}this.timeStamp=e&&e.timeStamp||w.now();this[w.expando]=true};w.Event.prototype={isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it;if(!e){return}if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it;this.stopPropagation()}};w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!w.contains(r,i)){e.type=s.origType;n=s.handler.apply(this,arguments);e.type=t}return n}}});if(!w.support.submitBubbles){w.event.special.submit={setup:function(){if(w.nodeName(this,"form")){return false}w.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=w.nodeName(n,"input")||w.nodeName(n,"button")?n.form:t;if(r&&!w._data(r,"submitBubbles")){w.event.add(r,"submit._submit",function(e){e._submit_bubble=true});w._data(r,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){w.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(w.nodeName(this,"form")){return false}w.event.remove(this,"._submit")}}}if(!w.support.changeBubbles){w.event.special.change={setup:function(){if(Z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){w.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});w.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}w.event.simulate("change",this,e,true)})}return false}w.event.add(this,"beforeactivate._change",function(e){var t=e.target;if(Z.test(t.nodeName)&&!w._data(t,"changeBubbles")){w.event.add(t,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){w.event.simulate("change",this.parentNode,e,true)}});w._data(t,"changeBubbles",true)}})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox"){return e.handleObj.handler.apply(this,arguments)}},teardown:function(){w.event.remove(this,"._change");return!Z.test(this.nodeName)}}}if(!w.support.focusinBubbles){w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){w.event.simulate(t,e.target,w.event.fix(e),true)};w.event.special[t]={setup:function(){if(n++===0){o.addEventListener(e,r,true)}},teardown:function(){if(--n===0){o.removeEventListener(e,r,true)}}}})}w.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e==="object"){if(typeof n!=="string"){r=r||n;n=t}for(o in e){this.on(o,n,r,e[o],s)}return this}if(r==null&&i==null){i=n;r=n=t}else if(i==null){if(typeof n==="string"){i=r;r=t}else{i=r;r=n;n=t}}if(i===false){i=st}else if(!i){return this}if(s===1){u=i;i=function(e){w().off(e);return u.apply(this,arguments)};i.guid=u.guid||(u.guid=w.guid++)}return this.each(function(){w.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj){i=e.handleObj;w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if(typeof e==="object"){for(s in e){this.off(s,n,e[s])}return this}if(n===false||typeof n==="function"){r=n;n=t}if(r===false){r=st}return this.each(function(){w.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n){return w.event.trigger(e,t,n,true)}}});var ut=/^.[^:#\[\.,]*$/,at=/^(?:parents|prev(?:Until|All))/,ft=w.expr.match.needsContext,lt={children:true,contents:true,next:true,prev:true};w.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if(typeof e!=="string"){return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++){if(w.contains(r[t],this)){return true}}}))}for(t=0;t<i;t++){w.find(e,r[t],n)}n=this.pushStack(i>1?w.unique(n):n);n.selector=this.selector?this.selector+" "+e:e;return n},has:function(e){var t,n=w(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++){if(w.contains(this,n[t])){return true}}})},not:function(e){return this.pushStack(ht(this,e||[],true))},filter:function(e){return this.pushStack(ht(this,e||[],false))},is:function(e){return!!ht(this,typeof e==="string"&&ft.test(e)?w(e):e||[],false).length},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ft.test(e)||typeof e!=="string"?w(e,t||this.context):0;for(;r<i;r++){for(n=this[r];n&&n!==t;n=n.parentNode){if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&w.find.matchesSelector(n,e))){n=s.push(n);break}}}return this.pushStack(s.length>1?w.unique(s):s)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return w.inArray(this[0],w(e))}return w.inArray(e.jquery?e[0]:e,this)},add:function(e,t){var n=typeof e==="string"?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),r=w.merge(this.get(),n);return this.pushStack(w.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});w.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,n){return w.dir(e,"parentNode",n)},next:function(e){return ct(e,"nextSibling")},prev:function(e){return ct(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,n){return w.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return w.dir(e,"previousSibling",n)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);if(e.slice(-5)!=="Until"){r=n}if(r&&typeof r==="string"){i=w.filter(r,i)}if(this.length>1){if(!lt[e]){i=w.unique(i)}if(at.test(e)){i=i.reverse()}}return this.pushStack(i)}});w.extend({filter:function(e,t,n){var r=t[0];if(n){e=":not("+e+")"}return t.length===1&&r.nodeType===1?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return e.nodeType===1}))},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!w(s).is(r))){if(s.nodeType===1){i.push(s)}s=s[n]}return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){n.push(e)}}return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:null|\d+)"/g,mt=new RegExp("<(?:"+dt+")[\\s/>]","i"),gt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,wt=/<tbody/i,Et=/<|&#?\w+;/,St=/<(?:script|style|link)/i,xt=/^(?:checkbox|radio)$/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:w.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=pt(o),Ot=At.appendChild(o.createElement("div"));Lt.optgroup=Lt.option;Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead;Lt.th=Lt.td;w.fn.extend({text:function(e){return w.access(this,function(e){return e===t?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Mt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Mt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,t){var n,r=e?w.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++){if(!t&&n.nodeType===1){w.cleanData(jt(n))}if(n.parentNode){if(t&&w.contains(n.ownerDocument,n)){Pt(jt(n,"script"))}n.parentNode.removeChild(n)}}return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){w.cleanData(jt(e,false))}while(e.firstChild){e.removeChild(e.firstChild)}if(e.options&&w.nodeName(e,"select")){e.options.length=0}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t){return n.nodeType===1?n.innerHTML.replace(vt,""):t}if(typeof e==="string"&&!St.test(e)&&(w.support.htmlSerialize||!mt.test(e))&&(w.support.leadingWhitespace||!gt.test(e))&&!Lt[(bt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(yt,"<$1></$2>");try{for(;r<i;r++){n=this[r]||{};if(n.nodeType===1){w.cleanData(jt(n,false));n.innerHTML=e}}n=0}catch(s){}}if(n){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(){var e=w.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;this.domManip(arguments,function(n){var r=e[t++],i=e[t++];if(i){if(r&&r.parentNode!==i){r=this.nextSibling}w(this).remove();i.insertBefore(n,r)}},true);return t?this:this.remove()},detach:function(e){return this.remove(e,true)},domManip:function(e,t,n){e=p.apply([],e);var r,i,s,o,u,a,f=0,l=this.length,c=this,h=l-1,d=e[0],v=w.isFunction(d);if(v||!(l<=1||typeof d!=="string"||w.support.checkClone||!Tt.test(d))){return this.each(function(r){var i=c.eq(r);if(v){e[0]=d.call(this,r,i.html())}i.domManip(e,t,n)})}if(l){a=w.buildFragment(e,this[0].ownerDocument,false,!n&&this);r=a.firstChild;if(a.childNodes.length===1){a=r}if(r){o=w.map(jt(a,"script"),_t);s=o.length;for(;f<l;f++){i=a;if(f!==h){i=w.clone(i,true,true);if(s){w.merge(o,jt(i,"script"))}}t.call(this[f],i,f)}if(s){u=o[o.length-1].ownerDocument;w.map(o,Dt);for(f=0;f<s;f++){i=o[f];if(Nt.test(i.type||"")&&!w._data(i,"globalEval")&&w.contains(u,i)){if(i.src){w._evalUrl(i.src)}else{w.globalEval((i.text||i.textContent||i.innerHTML||"").replace(kt,""))}}}}a=r=null}}return this}});w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){var n,r=0,i=[],s=w(e),o=s.length-1;for(;r<=o;r++){n=r===o?this:this.clone(true);w(s[r])[t](n);d.apply(i,n.get())}return this.pushStack(i)}});w.extend({clone:function(e,t,n){var r,i,s,o,u,a=w.contains(e.ownerDocument,e);if(w.support.html5Clone||w.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")){s=e.cloneNode(true)}else{Ot.innerHTML=e.outerHTML;Ot.removeChild(s=Ot.firstChild)}if((!w.support.noCloneEvent||!w.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!w.isXMLDoc(e)){r=jt(s);u=jt(e);for(o=0;(i=u[o])!=null;++o){if(r[o]){Bt(i,r[o])}}}if(t){if(n){u=u||jt(e);r=r||jt(s);for(o=0;(i=u[o])!=null;o++){Ht(i,r[o])}}else{Ht(e,s)}}r=jt(s,"script");if(r.length>0){Pt(r,!a&&jt(e,"script"))}r=u=i=null;return s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=pt(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0){if(w.type(s)==="object"){w.merge(p,s.nodeType?[s]:s)}else if(!Et.test(s)){p.push(t.createTextNode(s))}else{u=u||h.appendChild(t.createElement("div"));a=(bt.exec(s)||["",""])[1].toLowerCase();l=Lt[a]||Lt._default;u.innerHTML=l[1]+s.replace(yt,"<$1></$2>")+l[2];i=l[0];while(i--){u=u.lastChild}if(!w.support.leadingWhitespace&&gt.test(s)){p.push(t.createTextNode(gt.exec(s)[0]))}if(!w.support.tbody){s=a==="table"&&!wt.test(s)?u.firstChild:l[1]==="<table>"&&!wt.test(s)?u:0;i=s&&s.childNodes.length;while(i--){if(w.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length){s.removeChild(f)}}}w.merge(p,u.childNodes);u.textContent="";while(u.firstChild){u.removeChild(u.firstChild)}u=h.lastChild}}}if(u){h.removeChild(u)}if(!w.support.appendChecked){w.grep(jt(p,"input"),Ft)}d=0;while(s=p[d++]){if(r&&w.inArray(s,r)!==-1){continue}o=w.contains(s.ownerDocument,s);u=jt(h.appendChild(s),"script");if(o){Pt(u)}if(n){i=0;while(s=u[i++]){if(Nt.test(s.type||"")){n.push(s)}}}}u=null;return h},cleanData:function(e,t){var n,r,s,o,u=0,a=w.expando,f=w.cache,l=w.support.deleteExpando,h=w.event.special;for(;(n=e[u])!=null;u++){if(t||w.acceptData(n)){s=n[a];o=s&&f[s];if(o){if(o.events){for(r in o.events){if(h[r]){w.event.remove(n,r)}else{w.removeEvent(n,r,o.handle)}}}if(f[s]){delete f[s];if(l){delete n[a]}else if(typeof n.removeAttribute!==i){n.removeAttribute(a)}else{n[a]=null}c.push(s)}}}}},_evalUrl:function(e){return w.ajax({url:e,type:"GET",dataType:"script",async:false,global:false,"throws":true})}});w.fn.extend({wrapAll:function(e){if(w.isFunction(e)){return this.each(function(t){w(this).wrapAll(e.call(this,t))})}if(this[0]){var t=w(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1){e=e.firstChild}return e}).append(this)}return this},wrapInner:function(e){if(w.isFunction(e)){return this.each(function(t){w(this).wrapInner(e.call(this,t))})}return this.each(function(){var t=w(this),n=t.contents();if(n.length){n.wrapAll(e)}else{t.append(e)}})},wrap:function(e){var t=w.isFunction(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){if(!w.nodeName(this,"body")){w(this).replaceWith(this.childNodes)}}).end()}});var It,qt,Rt,Ut=/alpha\([^)]*\)/i,zt=/opacity\s*=\s*([^)]*)/,Wt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,$t=new RegExp("^("+E+")(.*)$","i"),Jt=new RegExp("^("+E+")(?!px)[a-z%]+$","i"),Kt=new RegExp("^([+-])=("+E+")","i"),Qt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];w.fn.extend({css:function(e,n){return w.access(this,function(e,n,r){var i,s,o={},u=0;if(w.isArray(n)){s=qt(e);i=n.length;for(;u<i;u++){o[n[u]]=w.css(e,n[u],false,s)}return o}return r!==t?w.style(e,n,r):w.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,true)},hide:function(){return rn(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(nn(this)){w(this).show()}else{w(this).hide()}})}});w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Rt(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var s,o,u,a=w.camelCase(n),f=e.style;n=w.cssProps[a]||(w.cssProps[a]=tn(f,a));u=w.cssHooks[n]||w.cssHooks[a];if(r!==t){o=typeof r;if(o==="string"&&(s=Kt.exec(r))){r=(s[1]+1)*s[2]+parseFloat(w.css(e,n));o="number"}if(r==null||o==="number"&&isNaN(r)){return}if(o==="number"&&!w.cssNumber[a]){r+="px"}if(!w.support.clearCloneStyle&&r===""&&n.indexOf("background")===0){f[n]="inherit"}if(!u||!("set"in u)||(r=u.set(e,r,i))!==t){try{f[n]=r}catch(l){}}}else{if(u&&"get"in u&&(s=u.get(e,false,i))!==t){return s}return f[n]}},css:function(e,n,r,i){var s,o,u,a=w.camelCase(n);n=w.cssProps[a]||(w.cssProps[a]=tn(e.style,a));u=w.cssHooks[n]||w.cssHooks[a];if(u&&"get"in u){o=u.get(e,true,r)}if(o===t){o=Rt(e,n,i)}if(o==="normal"&&n in Yt){o=Yt[n]}if(r===""||r){s=parseFloat(o);return r===true||w.isNumeric(s)?s||0:o}return o}});if(e.getComputedStyle){qt=function(t){return e.getComputedStyle(t,null)};Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;if(u){if(a===""&&!w.contains(e.ownerDocument,e)){a=w.style(e,n)}if(Jt.test(a)&&Vt.test(n)){i=f.width;s=f.minWidth;o=f.maxWidth;f.minWidth=f.maxWidth=f.width=a;a=u.width;f.width=i;f.minWidth=s;f.maxWidth=o}}return a}}else if(o.documentElement.currentStyle){qt=function(e){return e.currentStyle};Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u[n]:t,f=e.style;if(a==null&&f&&f[n]){a=f[n]}if(Jt.test(a)&&!Wt.test(n)){i=f.left;s=e.runtimeStyle;o=s&&s.left;if(o){s.left=e.currentStyle.left}f.left=n==="fontSize"?"1em":a;a=f.pixelLeft+"px";f.left=i;if(o){s.left=o}}return a===""?"auto":a}}w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n){return e.offsetWidth===0&&Xt.test(w.css(e,"display"))?w.swap(e,Gt,function(){return un(e,t,r)}):un(e,t,r)}},set:function(e,n,r){var i=r&&qt(e);return sn(e,n,r?on(e,t,r,w.support.boxSizing&&w.css(e,"boxSizing",false,i)==="border-box",i):0)}}});if(!w.support.opacity){w.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=w.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&w.trim(s.replace(Ut,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter){return}}n.filter=Ut.test(s)?s.replace(Ut,i):s+" "+i}}}w(function(){if(!w.support.reliableMarginRight){w.cssHooks.marginRight={get:function(e,t){if(t){return w.swap(e,{display:"inline-block"},Rt,[e,"marginRight"])}}}}if(!w.support.pixelPosition&&w.fn.position){w.each(["top","left"],function(e,t){w.cssHooks[t]={get:function(e,n){if(n){n=Rt(e,t);return Jt.test(n)?w(e).position()[t]+"px":n}}}})}});if(w.expr&&w.expr.filters){w.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!w.support.reliableHiddenOffsets&&(e.style&&e.style.display||w.css(e,"display"))==="none"};w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}}w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n==="string"?n.split(" "):[n];for(;r<4;r++){i[e+Zt[r]+t]=s[r]||s[r-2]||s[0]}return i}};if(!Vt.test(e)){w.cssHooks[e+t].set=sn}});var ln=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,dn=/^(?:input|select|textarea|keygen)/i;w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&dn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=w(this).val();return n==null?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}});w.param=function(e,n){var r,i=[],s=function(e,t){t=w.isFunction(t)?t():t==null?"":t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t){n=w.ajaxSettings&&w.ajaxSettings.traditional}if(w.isArray(e)||e.jquery&&!w.isPlainObject(e)){w.each(e,function(){s(this.name,this.value)})}else{for(r in e){vn(r,e[r],n,s)}}return i.join("&").replace(ln,"+")};w.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,gn,yn=w.now(),bn=/\?/,wn=/#.*$/,En=/([?&])_=[^&]*/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Cn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=w.fn.load,Ln={},An={},On="*/".concat("*");try{gn=s.href}catch(Mn){gn=o.createElement("a");gn.href="";gn=gn.href}mn=Cn.exec(gn.toLowerCase())||[];w.fn.load=function(e,n,r){if(typeof e!=="string"&&kn){return kn.apply(this,arguments)}var i,s,o,u=this,a=e.indexOf(" ");if(a>=0){i=e.slice(a,e.length);e=e.slice(0,a)}if(w.isFunction(n)){r=n;n=t}else if(n&&typeof n==="object"){o="POST"}if(u.length>0){w.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments;u.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])})}return this};w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}});w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gn,type:"GET",isLocal:xn.test(mn[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":On,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?Pn(Pn(e,w.ajaxSettings),t):Pn(w.ajaxSettings,e)},ajaxPrefilter:_n(Ln),ajaxTransport:_n(An),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;if(b===2){return}b=2;if(u){clearTimeout(u)}f=t;o=i||"";x.readyState=e>0?4:0;l=e>=200&&e<300||e===304;if(r){E=Hn(c,x,r)}E=Bn(c,E,x,l);if(l){if(c.ifModified){S=x.getResponseHeader("Last-Modified");if(S){w.lastModified[s]=S}S=x.getResponseHeader("etag");if(S){w.etag[s]=S}}if(e===204||c.type==="HEAD"){T="nocontent"}else if(e===304){T="notmodified"}else{T=E.state;g=E.data;y=E.error;l=!y}}else{y=T;if(e||!T){T="error";if(e<0){e=0}}}x.status=e;x.statusText=(n||T)+"";if(l){d.resolveWith(h,[g,T,x])}else{d.rejectWith(h,[x,T,y])}x.statusCode(m);m=t;if(a){p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y])}v.fireWith(h,[x,T]);if(a){p.trigger("ajaxComplete",[x,c]);if(!--w.active){w.event.trigger("ajaxStop")}}}if(typeof e==="object"){n=e;e=t}n=n||{};var r,i,s,o,u,a,f,l,c=w.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?w(h):w.event,d=w.Deferred(),v=w.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,E="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(b===2){if(!l){l={};while(t=Sn.exec(o)){l[t[1].toLowerCase()]=t[2]}}t=l[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return b===2?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();if(!b){e=y[n]=y[n]||e;g[e]=t}return this},overrideMimeType:function(e){if(!b){c.mimeType=e}return this},statusCode:function(e){var t;if(e){if(b<2){for(t in e){m[t]=[m[t],e[t]]}}else{x.always(e[x.status])}}return this},abort:function(e){var t=e||E;if(f){f.abort(t)}N(0,t);return this}};d.promise(x).complete=v.add;x.success=x.done;x.error=x.fail;c.url=((e||c.url||gn)+"").replace(wn,"").replace(Nn,mn[1]+"//");c.type=n.method||n.type||c.method||c.type;c.dataTypes=w.trim(c.dataType||"*").toLowerCase().match(S)||[""];if(c.crossDomain==null){r=Cn.exec(c.url.toLowerCase());c.crossDomain=!!(r&&(r[1]!==mn[1]||r[2]!==mn[2]||(r[3]||(r[1]==="http:"?"80":"443"))!==(mn[3]||(mn[1]==="http:"?"80":"443"))))}if(c.data&&c.processData&&typeof c.data!=="string"){c.data=w.param(c.data,c.traditional)}Dn(Ln,c,n,x);if(b===2){return x}a=c.global;if(a&&w.active++===0){w.event.trigger("ajaxStart")}c.type=c.type.toUpperCase();c.hasContent=!Tn.test(c.type);s=c.url;if(!c.hasContent){if(c.data){s=c.url+=(bn.test(s)?"&":"?")+c.data;delete c.data}if(c.cache===false){c.url=En.test(s)?s.replace(En,"$1_="+yn++):s+(bn.test(s)?"&":"?")+"_="+yn++}}if(c.ifModified){if(w.lastModified[s]){x.setRequestHeader("If-Modified-Since",w.lastModified[s])}if(w.etag[s]){x.setRequestHeader("If-None-Match",w.etag[s])}}if(c.data&&c.hasContent&&c.contentType!==false||n.contentType){x.setRequestHeader("Content-Type",c.contentType)}x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+On+"; q=0.01":""):c.accepts["*"]);for(i in c.headers){x.setRequestHeader(i,c.headers[i])}if(c.beforeSend&&(c.beforeSend.call(h,x,c)===false||b===2)){return x.abort()}E="abort";for(i in{success:1,error:1,complete:1}){x[i](c[i])}f=Dn(An,c,n,x);if(!f){N(-1,"No Transport")}else{x.readyState=1;if(a){p.trigger("ajaxSend",[x,c])}if(c.async&&c.timeout>0){u=setTimeout(function(){x.abort("timeout")},c.timeout)}try{b=1;f.send(g,N)}catch(T){if(b<2){N(-1,T)}else{throw T}}}return x},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,n){return w.get(e,t,n,"script")}});w.each(["get","post"],function(e,n){w[n]=function(e,r,i,s){if(w.isFunction(r)){s=s||i;i=r;r=t}return w.ajax({url:e,type:n,dataType:s,data:r,success:i})}});w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){w.globalEval(e);return e}}});w.ajaxPrefilter("script",function(e){if(e.cache===t){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});w.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||w("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script");n.async=true;if(e.scriptCharset){n.charset=e.scriptCharset}n.src=e.url;n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState)){n.onload=n.onreadystatechange=null;if(n.parentNode){n.parentNode.removeChild(n)}n=null;if(!t){i(200,"success")}}};r.insertBefore(n,r.firstChild)},abort:function(){if(n){n.onload(t,true)}}}}});var jn=[],Fn=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jn.pop()||w.expando+"_"+yn++;this[e]=true;return e}});w.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==false&&(Fn.test(n.url)?"url":typeof n.data==="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp"){s=n.jsonpCallback=w.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback;if(a){n[a]=n[a].replace(Fn,"$1"+s)}else if(n.jsonp!==false){n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+s}n.converters["script json"]=function(){if(!u){w.error(s+" was not called")}return u[0]};n.dataTypes[0]="json";o=e[s];e[s]=function(){u=arguments};i.always(function(){e[s]=o;if(n[s]){n.jsonpCallback=r.jsonpCallback;jn.push(s)}if(u&&w.isFunction(o)){o(u[0])}u=o=t});return"script"}});var In,qn,Rn=0,Un=e.ActiveXObject&&function(){var e;for(e in In){In[e](t,true)}};w.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&zn()||Wn()}:zn;qn=w.ajaxSettings.xhr();w.support.cors=!!qn&&"withCredentials"in qn;qn=w.support.ajax=!!qn;if(qn){w.ajaxTransport(function(n){if(!n.crossDomain||w.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();if(n.username){a.open(n.type,n.url,n.async,n.username,n.password)}else{a.open(n.type,n.url,n.async)}if(n.xhrFields){for(u in n.xhrFields){a[u]=n.xhrFields[u]}}if(n.mimeType&&a.overrideMimeType){a.overrideMimeType(n.mimeType)}if(!n.crossDomain&&!i["X-Requested-With"]){i["X-Requested-With"]="XMLHttpRequest"}try{for(u in i){a.setRequestHeader(u,i[u])}}catch(f){}a.send(n.hasContent&&n.data||null);r=function(e,i){var u,f,l,c;try{if(r&&(i||a.readyState===4)){r=t;if(o){a.onreadystatechange=w.noop;if(Un){delete In[o]}}if(i){if(a.readyState!==4){a.abort()}}else{c={};u=a.status;f=a.getAllResponseHeaders();if(typeof a.responseText==="string"){c.text=a.responseText}try{l=a.statusText}catch(h){l=""}if(!u&&n.isLocal&&!n.crossDomain){u=c.text?200:404}else if(u===1223){u=204}}}}catch(p){if(!i){s(-1,p)}}if(c){s(u,l,c,f)}};if(!n.async){r()}else if(a.readyState===4){setTimeout(r)}else{o=++Rn;if(Un){if(!In){In={};w(e).unload(Un)}In[o]=r}a.onreadystatechange=r}},abort:function(){if(r){r(t,true)}}}}})}var Xn,Vn,$n=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([+-])=|)("+E+")([a-z%]*)$","i"),Kn=/queueHooks$/,Qn=[nr],Gn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Jn.exec(t),s=i&&i[3]||(w.cssNumber[e]?"":"px"),o=(w.cssNumber[e]||s!=="px"&&+r)&&Jn.exec(w.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3];i=i||[];o=+r||1;do{u=u||".5";o=o/u;w.style(n.elem,e,o+s)}while(u!==(u=n.cur()/r)&&u!==1&&--a)}if(i){o=n.start=+o||+r||0;n.unit=s;n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]}return n}]};w.Animation=w.extend(er,{tweener:function(e,t){if(w.isFunction(e)){t=e;e=["*"]}else{e=e.split(" ")}var n,r=0,i=e.length;for(;r<i;r++){n=e[r];Gn[n]=Gn[n]||[];Gn[n].unshift(t)}},prefilter:function(e,t){if(t){Qn.unshift(e)}else{Qn.push(e)}}});w.Tween=rr;rr.prototype={constructor:rr,init:function(e,t,n,r,i,s){this.elem=e;this.prop=n;this.easing=i||"swing";this.options=t;this.start=this.now=this.cur();this.end=r;this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];if(this.options.duration){this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(n&&n.set){n.set(this)}else{rr.propHooks._default.set(this)}return this}};rr.prototype.init.prototype=rr.prototype;rr.propHooks={_default:{get:function(e){var t;if(e.elem[e.prop]!=null&&(!e.elem.style||e.elem.style[e.prop]==null)){return e.elem[e.prop]}t=w.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(w.fx.step[e.prop]){w.fx.step[e.prop](e)}else if(e.elem.style&&(e.elem.style[w.cssProps[e.prop]]!=null||w.cssHooks[e.prop])){w.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return e==null||typeof e==="boolean"?n.apply(this,arguments):this.animate(ir(t,true),e,r,i)}});w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),s=w.speed(t,n,r),o=function(){var t=er(this,w.extend({},e),s);if(i||w._data(this,"finish")){t.stop(true)}};o.finish=o;return i||s.queue===false?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop;t(r)};if(typeof e!=="string"){r=n;n=e;e=t}if(n&&e!==false){this.queue(e||"fx",[])}return this.each(function(){var t=true,n=e!=null&&e+"queueHooks",s=w.timers,o=w._data(this);if(n){if(o[n]&&o[n].stop){i(o[n])}}else{for(n in o){if(o[n]&&o[n].stop&&Kn.test(n)){i(o[n])}}}for(n=s.length;n--;){if(s[n].elem===this&&(e==null||s[n].queue===e)){s[n].anim.stop(r);t=false;s.splice(n,1)}}if(t||!r){w.dequeue(this,e)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var t,n=w._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=w.timers,o=r?r.length:0;n.finish=true;w.queue(this,e,[]);if(i&&i.stop){i.stop.call(this,true)}for(t=s.length;t--;){if(s[t].elem===this&&s[t].queue===e){s[t].anim.stop(true);s.splice(t,1)}}for(t=0;t<o;t++){if(r[t]&&r[t].finish){r[t].finish.call(this)}}delete n.finish})}});w.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}});w.speed=function(e,t,n){var r=e&&typeof e==="object"?w.extend({},e):{complete:n||!n&&t||w.isFunction(e)&&e,duration:e,easing:n&&t||t&&!w.isFunction(t)&&t};r.duration=w.fx.off?0:typeof r.duration==="number"?r.duration:r.duration in w.fx.speeds?w.fx.speeds[r.duration]:w.fx.speeds._default;if(r.queue==null||r.queue===true){r.queue="fx"}r.old=r.complete;r.complete=function(){if(w.isFunction(r.old)){r.old.call(this)}if(r.queue){w.dequeue(this,r.queue)}};return r};w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}};w.timers=[];w.fx=rr.prototype.init;w.fx.tick=function(){var e,n=w.timers,r=0;Xn=w.now();for(;r<n.length;r++){e=n[r];if(!e()&&n[r]===e){n.splice(r--,1)}}if(!n.length){w.fx.stop()}Xn=t};w.fx.timer=function(e){if(e()&&w.timers.push(e)){w.fx.start()}};w.fx.interval=13;w.fx.start=function(){if(!Vn){Vn=setInterval(w.fx.tick,w.fx.interval)}};w.fx.stop=function(){clearInterval(Vn);Vn=null};w.fx.speeds={slow:600,fast:200,_default:400};w.fx.step={};if(w.expr&&w.expr.filters){w.expr.filters.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length}}w.fn.offset=function(e){if(arguments.length){return e===t?this:this.each(function(t){w.offset.setOffset(this,e,t)})}var n,r,s={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(!u){return}n=u.documentElement;if(!w.contains(n,o)){return s}if(typeof o.getBoundingClientRect!==i){s=o.getBoundingClientRect()}r=sr(u);return{top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}};w.offset={setOffset:function(e,t,n){var r=w.css(e,"position");if(r==="static"){e.style.position="relative"}var i=w(e),s=i.offset(),o=w.css(e,"top"),u=w.css(e,"left"),a=(r==="absolute"||r==="fixed")&&w.inArray("auto",[o,u])>-1,f={},l={},c,h;if(a){l=i.position();c=l.top;h=l.left}else{c=parseFloat(o)||0;h=parseFloat(u)||0}if(w.isFunction(t)){t=t.call(e,n,s)}if(t.top!=null){f.top=t.top-s.top+c}if(t.left!=null){f.left=t.left-s.left+h}if("using"in t){t.using.call(e,f)}else{i.css(f)}}};w.fn.extend({position:function(){if(!this[0]){return}var e,t,n={top:0,left:0},r=this[0];if(w.css(r,"position")==="fixed"){t=r.getBoundingClientRect()}else{e=this.offsetParent();t=this.offset();if(!w.nodeName(e[0],"html")){n=e.offset()}n.top+=w.css(e[0],"borderTopWidth",true);n.left+=w.css(e[0],"borderLeftWidth",true)}return{top:t.top-n.top-w.css(r,"marginTop",true),left:t.left-n.left-w.css(r,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||u;while(e&&!w.nodeName(e,"html")&&w.css(e,"position")==="static"){e=e.offsetParent}return e||u})}});w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);w.fn[e]=function(i){return w.access(this,function(e,i,s){var o=sr(e);if(s===t){return o?n in o?o[n]:o.document.documentElement[i]:e[i]}if(o){o.scrollTo(!r?s:w(o).scrollLeft(),r?s:w(o).scrollTop())}else{e[i]=s}},e,i,arguments.length,null)}});w.each({Height:"height",Width:"width"},function(e,n){w.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){w.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!=="boolean"),u=r||(i===true||s===true?"margin":"border");return w.access(this,function(n,r,i){var s;if(w.isWindow(n)){return n.document.documentElement["client"+e]}if(n.nodeType===9){s=n.documentElement;return Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])}return i===t?w.css(n,r,u):w.style(n,r,i,u)},n,o?i:t,o,null)}})});w.fn.size=function(){return this.length};w.fn.andSelf=w.fn.addBack;if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=w}else{e.jQuery=e.$=w;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return w})}}})(window);(function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();if("area"===u){r=t.parentNode;i=r.name;if(!t.href||!i||r.nodeName.toLowerCase()!=="map"){return false}o=e("img[usemap=#"+i+"]")[0];return!!o&&s(o)}return(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{};e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({focus:function(t){return function(n,r){return typeof n==="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus();if(r){r.call(t)}},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;if(e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))){t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0)}else{t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0)}return/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t){return this.css("zIndex",n)}if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0){return s}}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+ ++n}})},removeUniqueId:function(){return this.each(function(){if(r.test(this.id)){e(this).removeAttr("id")}})}});e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}});if(!e("<a>").outerWidth(1).jquery){e.each(["Width","Height"],function(n,r){function u(t,n,r,s){e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0;if(r){n-=parseFloat(e.css(t,"border"+this+"Width"))||0}if(s){n-=parseFloat(e.css(t,"margin"+this))||0}});return n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){if(n===t){return o["inner"+r].call(this)}return this.each(function(){e(this).css(s,u(this,n)+"px")})};e.fn["outer"+r]=function(t,n){if(typeof t!=="number"){return o["outer"+r].call(this,t)}return this.each(function(){e(this).css(s,u(this,t,true,n)+"px")})}})}if(!e.fn.addBack){e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}if(e("<a>").data("a-b","a").removeData("a-b").data("a-b")){e.fn.removeData=function(t){return function(n){if(arguments.length){return t.call(this,e.camelCase(n))}else{return t.call(this)}}}(e.fn.removeData)}e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.support.selectstart="onselectstart"in document.createElement("div");e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r){s.plugins[i]=s.plugins[i]||[];s.plugins[i].push([n,r[i]])}},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11){return}for(r=0;r<i.length;r++){if(e.options[i[r][0]]){i[r][1].apply(e.element,n)}}}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden"){return false}var r=n&&n==="left"?"scrollLeft":"scrollTop",i=false;if(t[r]>0){return true}t[r]=1;i=t[r]>0;t[r]=0;return i}})})(jQuery);(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++){try{e(r).triggerHandler("remove")}catch(s){}}i(t)};e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1];i=f+"-"+t;if(!r){r=n;n=e.Widget}e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)};e[f]=e[f]||{};s=e[f][t];o=e[f][t]=function(e,t){if(!this._createWidget){return new o(e,t)}if(arguments.length){this._createWidget(e,t)}};e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]});u=new n;u.options=e.widget.extend({},u.options);e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;this._super=e;this._superApply=i;s=r.apply(this,arguments);this._super=t;this._superApply=n;return s}}()});o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i});if(s){e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)});delete s._childConstructors}else{n._childConstructors.push(o)}e.widget.bridge(t,o)};e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++){for(u in i[s]){a=i[s][u];if(i[s].hasOwnProperty(u)&&a!==t){if(e.isPlainObject(a)){n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a)}else{n[u]=a}}}}return n};e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o==="string",a=r.call(arguments,1),f=this;o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o;if(u){this.each(function(){var r,i=e.data(this,s);if(!i){return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'")}if(!e.isFunction(i[o])||o.charAt(0)==="_"){return e.error("no such method '"+o+"' for "+n+" widget instance")}r=i[o].apply(i,a);if(r!==i&&r!==t){f=r&&r.jquery?f.pushStack(r.get()):r;return false}})}else{this.each(function(){var t=e.data(this,s);if(t){t.option(o||{})._init()}else{e.data(this,s,new i(o,this))}})}return f}};e.Widget=function(){};e.Widget._childConstructors=[];e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0];this.element=e(r);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=e.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=e();this.hoverable=e();this.focusable=e();if(r!==this){e.data(r,this.widgetFullName,this);this._on(true,this.element,{remove:function(e){if(e.target===r){this.destroy()}}});this.document=e(r.style?r.ownerDocument:r.document||r);this.window=e(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0){return e.widget.extend({},this.options)}if(typeof n==="string"){i={};s=n.split(".");n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++){o[s[u]]=o[s[u]]||{};o=o[s[u]]}n=s.pop();if(r===t){return o[n]===t?null:o[n]}o[n]=r}else{if(r===t){return this.options[n]===t?null:this.options[n]}i[n]=r}}this._setOptions(i);return this},_setOptions:function(e){var t;for(t in e){this._setOption(t,e[t])}return this},_setOption:function(e,t){this.options[e]=t;if(e==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(t,n,r){var i,s=this;if(typeof t!=="boolean"){r=n;n=t;t=false}if(!r){r=n;n=this.element;i=this.widget()}else{n=i=e(n);this.bindings=this.bindings.add(n)}e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===true||e(this).hasClass("ui-state-disabled"))){return}return(typeof o==="string"?s[o]:o).apply(s,arguments)}if(typeof o!=="string"){u.guid=o.guid=o.guid||u.guid||e.guid++}var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];if(l){i.delegate(l,f,u)}else{n.bind(f,u)}})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e==="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{};n=e.Event(n);n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();n.target=this.element[0];s=n.originalEvent;if(s){for(i in s){if(!(i in n)){n[i]=s[i]}}}this.element.trigger(n,r);return!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===false||n.isDefaultPrevented())}};e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){if(typeof i==="string"){i={effect:i}}var o,u=!i?t:i===true||typeof i==="number"?n:i.effect||n;i=i||{};if(typeof i==="number"){i={duration:i}}o=!e.isEmptyObject(i);i.complete=s;if(i.delay){r.delay(i.delay)}if(o&&e.effects&&e.effects.effect[u]){r[t](i)}else if(u!==t&&r[u]){r[u](i.duration,i.easing,s)}else{r.queue(function(n){e(this)[t]();if(s){s.call(r[0])}n()})}}})})(jQuery);d3=function(){function p(e){return e!=null&&!isNaN(e)}function v(e){return e.length}function g(e){var t=1;while(e*t%1)t*=10;return t}function y(e,t){try{for(var n in t){Object.defineProperty(e.prototype,n,{value:t[n],enumerable:false})}}catch(r){e.prototype=t}}function b(){}function S(){}function x(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function T(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,r=N.length;n<r;++n){var i=N[n]+t;if(i in e)return i}}function C(){}function k(){}function L(e){function r(){var n=t,r=-1,i=n.length,s;while(++r<i)if(s=n[r].on)s.apply(this,arguments);return e}var t=[],n=new b;r.on=function(r,i){var s=n.get(r),o;if(arguments.length<2)return s&&s.on;if(s){s.on=null;t=t.slice(0,o=t.indexOf(s)).concat(t.slice(o+1));n.remove(r)}if(i)t.push(n.set(r,{on:i}));return e};return r}function A(){e.event.preventDefault()}function O(){var t=e.event,n;while(n=t.sourceEvent)t=n;return t}function M(t){var n=new k,r=0,i=arguments.length;while(++r<i)n[arguments[r]]=L(n);n.of=function(r,i){return function(s){try{var o=s.sourceEvent=e.event;s.target=t;e.event=s;n[s.type].apply(r,i)}finally{e.event=o}}};return n}function P(e){D(e,I);return e}function q(e){return typeof e==="function"?e:function(){return H(e,this)}}function R(e){return typeof e==="function"?e:function(){return B(e,this)}}function z(t,n){function r(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function s(){this.setAttribute(t,n)}function o(){this.setAttributeNS(t.space,t.local,n)}function u(){var e=n.apply(this,arguments);if(e==null)this.removeAttribute(t);else this.setAttribute(t,e)}function a(){var e=n.apply(this,arguments);if(e==null)this.removeAttributeNS(t.space,t.local);else this.setAttributeNS(t.space,t.local,e)}t=e.ns.qualify(t);return n==null?t.local?i:r:typeof n==="function"?t.local?a:u:t.local?o:s}function W(e){return e.trim().replace(/\s+/g," ")}function X(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function V(e,t){function r(){var r=-1;while(++r<n)e[r](this,t)}function i(){var r=-1,i=t.apply(this,arguments);while(++r<n)e[r](this,i)}e=e.trim().split(/\s+/).map($);var n=e.length;return typeof t==="function"?i:r}function $(e){var t=X(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";if(r){t.lastIndex=0;if(!t.test(i))n.setAttribute("class",W(i+" "+e))}else{n.setAttribute("class",W(i.replace(t," ")))}}}function J(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function s(){var r=t.apply(this,arguments);if(r==null)this.style.removeProperty(e);else this.style.setProperty(e,r,n)}return t==null?r:typeof t==="function"?s:i}function K(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);if(n==null)delete this[e];else this[e]=n}return t==null?n:typeof t==="function"?i:r}function Q(t){return typeof t==="function"?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function G(e){return{__data__:e}}function Y(e){return function(){return F(this,e)}}function Z(t){if(!arguments.length)t=e.ascending;return function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function et(e,t){for(var n=0,r=e.length;n<r;n++){for(var i=e[n],s=0,o=i.length,u;s<o;s++){if(u=i[s])t(u,s,n)}}return e}function tt(e){D(e,nt);return e}function rt(e){var t,n;return function(r,i,s){var o=e[s].update,u=o.length,a;if(s!=n)n=s,t=0;if(i>=t)t=i+1;while(!(a=o[t])&&++t<u);return a}}function it(){var e=this.__transition__;if(e)++e.active}function ot(t,r,i){function f(){var e=this[s];if(e){this.removeEventListener(t,e,e.$);delete this[s]}}function l(){var e=u(r,n(arguments));f.call(this);this.addEventListener(t,this[s]=e,e.$=i);e._=r}function c(){var n=new RegExp("^__on([^.]+)"+e.requote(t)+"$"),r;for(var i in this){if(r=i.match(n)){var s=this[i];this.removeEventListener(r[1],s,s.$);delete this[i]}}}var s="__on"+t,o=t.indexOf("."),u=at;if(o>0)t=t.substring(0,o);var a=ut.get(t);if(a)t=a,u=ft;return o?r?l:f:r?C:c}function at(t,n){return function(r){var i=e.event;e.event=r;n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=i}}}function ft(e,t){var n=at(e,t);return function(e){var t=this,r=e.relatedTarget;if(!r||r!==t&&!(r.compareDocumentPosition(t)&8)){n.call(t,e)}}}function ht(){var t=".dragsuppress-"+ ++ct,n="click"+t,r=e.select(s).on("touchmove"+t,A).on("dragstart"+t,A).on("selectstart"+t,A);if(lt){var o=i.style,u=o[lt];o[lt]="none"}return function(e){r.on(t,null);if(lt)o[lt]=u;if(e){function i(){r.on(n,null)}r.on(n,function(){A();i()},true);setTimeout(i,0)}}}function dt(t,n){if(n.changedTouches)n=n.changedTouches[0];var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(pt<0&&(s.scrollX||s.scrollY)){r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();pt=!(o.f||o.e);r.remove()}if(pt)i.x=n.pageX,i.y=n.pageY;else i.x=n.clientX,i.y=n.clientY;i=i.matrixTransform(t.getScreenCTM().inverse());return[i.x,i.y]}var u=t.getBoundingClientRect();return[n.clientX-u.left-t.clientLeft,n.clientY-u.top-t.clientTop]}function St(e){return e>0?1:e<0?-1:0}function xt(e){return e>1?0:e<-1?vt:Math.acos(e)}function Tt(e){return e>1?gt:e<-1?-gt:Math.asin(e)}function Nt(e){return((e=Math.exp(e))-1/e)/2}function Ct(e){return((e=Math.exp(e))+1/e)/2}function kt(e){return((e=Math.exp(2*e))-1)/(e+1)}function Lt(e){return(e=Math.sin(e/2))*e}function Ht(){}function Bt(e,t,n){return new jt(e,t,n)}function jt(e,t,n){this.h=e;this.s=t;this.l=n}function It(e,t,n){function s(e){if(e>360)e-=360;else if(e<0)e+=360;if(e<60)return r+(i-r)*e/60;if(e<180)return i;if(e<240)return r+(i-r)*(240-e)/60;return r}function o(e){return Math.round(s(e)*255)}var r,i;e=isNaN(e)?0:(e%=360)<0?e+360:e;t=isNaN(t)?0:t<0?0:t>1?1:t;n=n<0?0:n>1?1:n;i=n<=.5?n*(1+t):n+t-n*t;r=2*n-i;return sn(o(e+120),o(e),o(e-120))}function qt(e,t,n){return new Rt(e,t,n)}function Rt(e,t,n){this.h=e;this.c=t;this.l=n}function zt(e,t,n){if(isNaN(e))e=0;if(isNaN(t))t=0;return Wt(n,Math.cos(e*=wt)*t,Math.sin(e)*t)}function Wt(e,t,n){return new Xt(e,t,n)}function Xt(e,t,n){this.l=e;this.a=t;this.b=n}function Gt(e,t,n){var r=(e+16)/116,i=r+t/500,s=r-n/200;i=Zt(i)*$t;r=Zt(r)*Jt;s=Zt(s)*Kt;return sn(tn(3.2404542*i-1.5371385*r-.4985314*s),tn(-.969266*i+1.8760108*r+.041556*s),tn(.0556434*i-.2040259*r+1.0572252*s))}function Yt(e,t,n){return e>0?qt(Math.atan2(n,t)*Et,Math.sqrt(t*t+n*n),e):qt(NaN,NaN,e)}function Zt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function en(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function tn(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function nn(e){return sn(e>>16,e>>8&255,e&255)}function rn(e){return nn(e)+""}function sn(e,t,n){return new on(e,t,n)}function on(e,t,n){this.r=e;this.g=t;this.b=n}function an(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function fn(e,t,n){var r=0,i=0,s=0,o,u,a;o=/([a-z]+)\((.*)\)/i.exec(e);if(o){u=o[2].split(",");switch(o[1]){case"hsl":{return n(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100)};case"rgb":{return t(pn(u[0]),pn(u[1]),pn(u[2]))}}}if(a=dn.get(e))return t(a.r,a.g,a.b);if(e!=null&&e.charAt(0)==="#"){if(e.length===4){r=e.charAt(1);r+=r;i=e.charAt(2);i+=i;s=e.charAt(3);s+=s}else if(e.length===7){r=e.substring(1,3);i=e.substring(3,5);s=e.substring(5,7)}r=parseInt(r,16);i=parseInt(i,16);s=parseInt(s,16)}return t(r,i,s)}function ln(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),s=i-r,o,u,a=(i+r)/2;if(s){u=a<.5?s/(i+r):s/(2-i-r);if(e==i)o=(t-n)/s+(t<n?6:0);else if(t==i)o=(n-e)/s+2;else o=(e-t)/s+4;o*=60}else{o=NaN;u=a>0&&a<1?0:o}return Bt(o,u,a)}function cn(e,t,n){e=hn(e);t=hn(t);n=hn(n);var r=en((.4124564*e+.3575761*t+.1804375*n)/$t),i=en((.2126729*e+.7151522*t+.072175*n)/Jt),s=en((.0193339*e+.119192*t+.9503041*n)/Kt);return Wt(116*i-16,500*(r-i),200*(i-s))}function hn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pn(e){var t=parseFloat(e);return e.charAt(e.length-1)==="%"?Math.round(t*2.55):t}function vn(e){return typeof e==="function"?e:function(){return e}}function mn(e){return e}function gn(e){return function(t,n,r){if(arguments.length===2&&typeof n==="function")r=n,n=null;return yn(t,n,e,r)}}function yn(t,r,i,o){function h(){var e=l.status,t;if(!e&&l.responseText||e>=200&&e<300||e===304){try{t=i.call(u,l)}catch(n){a.error.call(u,n);return}a.load.call(u,t)}else{a.error.call(u,l)}}var u={},a=e.dispatch("beforesend","progress","load","error"),f={},l=new XMLHttpRequest,c=null;if(s.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t))l=new XDomainRequest;"onload"in l?l.onload=l.onerror=h:l.onreadystatechange=function(){l.readyState>3&&h()};l.onprogress=function(t){var n=e.event;e.event=t;try{a.progress.call(u,l)}finally{e.event=n}};u.header=function(e,t){e=(e+"").toLowerCase();if(arguments.length<2)return f[e];if(t==null)delete f[e];else f[e]=t+"";return u};u.mimeType=function(e){if(!arguments.length)return r;r=e==null?null:e+"";return u};u.responseType=function(e){if(!arguments.length)return c;c=e;return u};u.response=function(e){i=e;return u};["get","post"].forEach(function(e){u[e]=function(){return u.send.apply(u,[e].concat(n(arguments)))}});u.send=function(e,n,i){if(arguments.length===2&&typeof n==="function")i=n,n=null;l.open(e,t,true);if(r!=null&&!("accept"in f))f["accept"]=r+",*/*";if(l.setRequestHeader)for(var s in f)l.setRequestHeader(s,f[s]);if(r!=null&&l.overrideMimeType)l.overrideMimeType(r);if(c!=null)l.responseType=c;if(i!=null)u.on("error",i).on("load",function(e){i(null,e)});a.beforesend.call(u,l);l.send(n==null?null:n);return u};u.abort=function(){l.abort();return u};e.rebind(u,a,"on");return o==null?u:u.get(bn(o))}function bn(e){return e.length===1?function(t,n){e(t==null?n:null)}:e}function Cn(){var e=kn(),t=Ln()-e;if(t>24){if(isFinite(t)){clearTimeout(xn);xn=setTimeout(Cn,t)}Sn=0}else{Sn=1;Nn(Cn)}}function kn(){var e=Date.now();Tn=wn;while(Tn){if(e>=Tn.t)Tn.f=Tn.c(e-Tn.t);Tn=Tn.n}return e}function Ln(){var e,t=wn,n=Infinity;while(t){if(t.f){t=e?e.n=t.n:wn=t.n}else{if(t.t<n)n=t.t;t=(e=t).n}}En=e;return n}function Pn(e,t){var n=Math.pow(10,m(8-t)*3);return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function jn(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Fn(e){return e+""}function Rn(){}function zn(e,t,n){var r=n.s=e+t,i=r-e,s=r-i;n.t=e-s+(t-i)}function Wn(e,t){if(e&&Vn.hasOwnProperty(e.type)){Vn[e.type](e,t)}}function $n(e,t,n){var r=-1,i=e.length-n,s;t.lineStart();while(++r<i)s=e[r],t.point(s[0],s[1],s[2]);t.lineEnd()}function Jn(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)$n(e[n],t,1);t.polygonEnd()}function Yn(){function s(e,t){e*=wt;t=t*wt/2+vt/4;var s=e-n,o=Math.cos(t),u=Math.sin(t),a=i*u,f=r*o+a*Math.cos(s),l=a*Math.sin(s);Qn.add(Math.atan2(l,f));n=e,r=o,i=u}var e,t,n,r,i;Gn.point=function(o,u){Gn.point=s;n=(e=o)*wt,r=Math.cos(u=(t=u)*wt/2+vt/4),i=Math.sin(u)};Gn.lineEnd=function(){s(e,t)}}function Zn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function er(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function tr(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function nr(e,t){e[0]+=t[0];e[1]+=t[1];e[2]+=t[2]}function rr(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ir(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t;e[1]/=t;e[2]/=t}function sr(e){return[Math.atan2(e[1],e[0]),Tt(e[2])]}function or(e,t){return m(e[0]-t[0])<yt&&m(e[1]-t[1])<yt}function br(e,t){e*=wt;var n=Math.cos(t*=wt);wr(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function wr(e,t,n){++ur;fr+=(e-fr)/ur;lr+=(t-lr)/ur;cr+=(n-cr)/ur}function Er(){function r(r,i){r*=wt;var s=Math.cos(i*=wt),o=s*Math.cos(r),u=s*Math.sin(r),a=Math.sin(i),f=Math.atan2(Math.sqrt((f=t*a-n*u)*f+(f=n*o-e*a)*f+(f=e*u-t*o)*f),e*o+t*u+n*a);ar+=f;hr+=f*(e+(e=o));pr+=f*(t+(t=u));dr+=f*(n+(n=a));wr(e,t,n)}var e,t,n;yr.point=function(i,s){i*=wt;var o=Math.cos(s*=wt);e=o*Math.cos(i);t=o*Math.sin(i);n=Math.sin(s);yr.point=r;wr(e,t,n)}}function Sr(){yr.point=br}function xr(){function s(e,t){e*=wt;var s=Math.cos(t*=wt),o=s*Math.cos(e),u=s*Math.sin(e),a=Math.sin(t),f=r*a-i*u,l=i*o-n*a,c=n*u-r*o,h=Math.sqrt(f*f+l*l+c*c),p=n*o+r*u+i*a,d=h&&-xt(p)/h,v=Math.atan2(h,p);vr+=d*f;mr+=d*l;gr+=d*c;ar+=v;hr+=v*(n+(n=o));pr+=v*(r+(r=u));dr+=v*(i+(i=a));wr(n,r,i)}var e,t,n,r,i;yr.point=function(o,u){e=o,t=u;yr.point=s;o*=wt;var a=Math.cos(u*=wt);n=a*Math.cos(o);r=a*Math.sin(o);i=Math.sin(u);wr(n,r,i)};yr.lineEnd=function(){s(e,t);yr.lineEnd=Sr;yr.point=br}}function Tr(){return true}function Nr(e,t,n,r,i){var s=[],o=[];e.forEach(function(e){if((t=e.length-1)<=0)return;var t,n=e[0],r=e[t];if(or(n,r)){i.lineStart();for(var u=0;u<t;++u)i.point((n=e[u])[0],n[1]);i.lineEnd();return}var a=new kr(n,e,null,true),f=new kr(n,null,a,false);a.o=f;s.push(a);o.push(f);a=new kr(r,e,null,false);f=new kr(r,null,a,true);a.o=f;s.push(a);o.push(f)});o.sort(t);Cr(s);Cr(o);if(!s.length)return;for(var u=0,a=n,f=o.length;u<f;++u){o[u].e=a=!a}var l=s[0],c,h;while(1){var p=l,d=true;while(p.v)if((p=p.n)===l)return;c=p.z;i.lineStart();do{p.v=p.o.v=true;if(p.e){if(d){for(var u=0,f=c.length;u<f;++u)i.point((h=c[u])[0],h[1])}else{r(p.x,p.n.x,1,i)}p=p.n}else{if(d){c=p.p.z;for(var u=c.length-1;u>=0;--u)i.point((h=c[u])[0],h[1])}else{r(p.x,p.p.x,-1,i)}p=p.p}p=p.o;c=p.z;d=!d}while(!p.v);i.lineEnd()}}function Cr(e){if(!(t=e.length))return;var t,n=0,r=e[0],i;while(++n<t){r.n=i=e[n];i.p=r;r=i}r.n=i=e[0];i.p=r}function kr(e,t,n,r){this.x=e;this.z=t;this.o=n;this.e=r;this.v=false;this.n=this.p=null}function Lr(t,n,r,i){return function(s,o){function l(e,n){var r=s(e,n);if(t(e=r[0],n=r[1]))o.point(e,n)}function c(e,t){var n=s(e,t);u.point(n[0],n[1])}function h(){f.point=c;u.lineStart()}function p(){f.point=l;u.lineEnd()}function b(e,t){y.push([e,t]);var n=s(e,t);m.point(n[0],n[1])}function w(){m.lineStart();y=[]}function E(){b(y[0][0],y[0][1]);m.lineEnd();var e=m.clean(),t=v.buffer(),n,r=t.length;y.pop();g.push(y);y=null;if(!r)return;if(e&1){n=t[0];var r=n.length-1,i=-1,s;o.lineStart();while(++i<r)o.point((s=n[i])[0],s[1]);o.lineEnd();return}if(r>1&&e&2)t.push(t.pop().concat(t.shift()));d.push(t.filter(Ar))}var u=n(o),a=s.invert(i[0],i[1]);var f={point:l,lineStart:h,lineEnd:p,polygonStart:function(){f.point=b;f.lineStart=w;f.lineEnd=E;d=[];g=[];o.polygonStart()},polygonEnd:function(){f.point=l;f.lineStart=h;f.lineEnd=p;d=e.merge(d);var t=_r(a,g);if(d.length){Nr(d,Mr,t,r,o)}else if(t){o.lineStart();r(null,null,1,o);o.lineEnd()}o.polygonEnd();d=g=null},sphere:function(){o.polygonStart();o.lineStart();r(null,null,1,o);o.lineEnd();o.polygonEnd()}};var d;var v=Or(),m=n(v),g,y;return f}}function Ar(e){return e.length>1}function Or(){var e=[],t;return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:C,buffer:function(){var n=e;e=[];t=null;return n},rejoin:function(){if(e.length>1)e.push(e.pop().concat(e.shift()))}}}function Mr(e,t){return((e=e.x)[0]<0?e[1]-gt-yt:gt-e[1])-((t=t.x)[0]<0?t[1]-gt-yt:gt-t[1])}function _r(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],s=0,o=0;Qn.reset();for(var u=0,a=t.length;u<a;++u){var f=t[u],l=f.length;if(!l)continue;var c=f[0],h=c[0],p=c[1]/2+vt/4,d=Math.sin(p),v=Math.cos(p),g=1;while(true){if(g===l)g=0;e=f[g];var y=e[0],b=e[1]/2+vt/4,w=Math.sin(b),E=Math.cos(b),S=y-h,x=m(S)>vt,T=d*w;Qn.add(Math.atan2(T*Math.sin(S),v*E+T*Math.cos(S)));s+=x?S+(S>=0?mt:-mt):S;if(x^h>=n^y>=n){var N=tr(Zn(c),Zn(e));ir(N);var C=tr(i,N);ir(C);var k=(x^S>=0?-1:1)*Tt(C[2]);if(r>k||r===k&&(N[0]||N[1])){o+=x^S>=0?1:-1}}if(!(g++))break;h=y,d=w,v=E,c=e}}return(s<-yt||s<yt&&Qn<0)^o&1}function Pr(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart();i=1},point:function(s,o){var u=s>0?vt:-vt,a=m(s-t);if(m(a-vt)<yt){e.point(t,n=(n+o)/2>0?gt:-gt);e.point(r,n);e.lineEnd();e.lineStart();e.point(u,n);e.point(s,n);i=0}else if(r!==u&&a>=vt){if(m(t-r)<yt)t-=r*yt;if(m(s-u)<yt)s-=u*yt;n=Hr(t,n,s,o);e.point(r,n);e.lineEnd();e.lineStart();e.point(u,n);i=0}e.point(t=s,n=o);r=u},lineEnd:function(){e.lineEnd();t=n=NaN},clean:function(){return 2-i}}}function Hr(e,t,n,r){var i,s,o=Math.sin(e-n);return m(o)>yt?Math.atan((Math.sin(t)*(s=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*s*o)):(t+r)/2}function Br(e,t,n,r){var i;if(e==null){i=n*gt;r.point(-vt,i);r.point(0,i);r.point(vt,i);r.point(vt,0);r.point(vt,-i);r.point(0,-i);r.point(-vt,-i);r.point(-vt,0);r.point(-vt,i)}else if(m(e[0]-t[0])>yt){var s=e[0]<t[0]?vt:-vt;i=n*s/2;r.point(-s,i);r.point(0,i);r.point(s,i)}else{r.point(t[0],t[1])}}function jr(e){function s(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e){var t,i,o,f,l;return{lineStart:function(){f=o=false;l=1},point:function(c,h){var p=[c,h],d,v=s(c,h),m=n?v?0:a(c,h):v?a(c+(c<0?vt:-vt),h):0;if(!t&&(f=o=v))e.lineStart();if(v!==o){d=u(t,p);if(or(t,d)||or(p,d)){p[0]+=yt;p[1]+=yt;v=s(p[0],p[1])}}if(v!==o){l=0;if(v){e.lineStart();d=u(p,t);e.point(d[0],d[1])}else{d=u(t,p);e.point(d[0],d[1]);e.lineEnd()}t=d}else if(r&&t&&n^v){var g;if(!(m&i)&&(g=u(p,t,true))){l=0;if(n){e.lineStart();e.point(g[0][0],g[0][1]);e.point(g[1][0],g[1][1]);e.lineEnd()}else{e.point(g[1][0],g[1][1]);e.lineEnd();e.lineStart();e.point(g[0][0],g[0][1])}}}if(v&&(!t||!or(t,p))){e.point(p[0],p[1])}t=p,o=v,i=m},lineEnd:function(){if(o)e.lineEnd();t=null},clean:function(){return l|(f&&o)<<1}}}function u(e,n,r){var i=Zn(e),s=Zn(n);var o=[1,0,0],u=tr(i,s),a=er(u,u),f=u[0],l=a-f*f;if(!l)return!r&&e;var c=t*a/l,h=-t*f/l,p=tr(o,u),d=rr(o,c),v=rr(u,h);nr(d,v);var g=p,y=er(d,g),b=er(g,g),w=y*y-b*(er(d,d)-1);if(w<0)return;var E=Math.sqrt(w),S=rr(g,(-y-E)/b);nr(S,d);S=sr(S);if(!r)return S;var x=e[0],T=n[0],N=e[1],C=n[1],k;if(T<x)k=x,x=T,T=k;var L=T-x,A=m(L-vt)<yt,O=A||L<yt;if(!A&&C<N)k=N,N=C,C=k;if(O?A?N+C>0^S[1]<(m(S[0]-x)<yt?N:C):N<=S[1]&&S[1]<=C:L>vt^(x<=S[0]&&S[0]<=T)){var M=rr(g,(-y+E)/b);nr(M,d);return[S,sr(M)]}}function a(t,r){var i=n?e:vt-e,s=0;if(t<-i)s|=1;else if(t>i)s|=2;if(r<-i)s|=4;else if(r>i)s|=8;return s}var t=Math.cos(e),n=t>0,r=m(t)>yt,i=Ei(e,6*wt);return Lr(s,o,i,n?[0,-e]:[-vt,e-vt])}function Fr(e,t,n,r){return function(i){var s=i.a,o=i.b,u=s.x,a=s.y,f=o.x,l=o.y,c=0,h=1,p=f-u,d=l-a,v;v=e-u;if(!p&&v>0)return;v/=p;if(p<0){if(v<c)return;if(v<h)h=v}else if(p>0){if(v>h)return;if(v>c)c=v}v=n-u;if(!p&&v<0)return;v/=p;if(p<0){if(v>h)return;if(v>c)c=v}else if(p>0){if(v<c)return;if(v<h)h=v}v=t-a;if(!d&&v>0)return;v/=d;if(d<0){if(v<c)return;if(v<h)h=v}else if(d>0){if(v>h)return;if(v>c)c=v}v=r-a;if(!d&&v<0)return;v/=d;if(d<0){if(v>h)return;if(v>c)c=v}else if(d>0){if(v<c)return;if(v<h)h=v}if(c>0)i.a={x:u+c*p,y:a+c*d};if(h<1)i.b={x:u+h*p,y:a+h*d};return i}}function qr(t,n,r,i){function s(e,i){return m(e[0]-t)<yt?i>0?0:3:m(e[0]-r)<yt?i>0?2:1:m(e[1]-n)<yt?i>0?1:0:i>0?3:2}function o(e,t){return u(e.x,t.x)}function u(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:n===0?t[1]-e[1]:n===1?e[0]-t[0]:n===2?e[1]-t[1]:t[0]-e[0]}return function(a){function m(e){var t=0,n=p.length,r=e[1];for(var i=0;i<n;++i){for(var s=1,o=p[i],u=o.length,a=o[0],f;s<u;++s){f=o[s];if(a[1]<=r){if(f[1]>r&&g(a,f,e)>0)++t}else{if(f[1]<=r&&g(a,f,e)<0)--t}a=f}}return t!==0}function g(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function y(e,o,a,f){var l=0,c=0;if(e==null||(l=s(e,a))!==(c=s(o,a))||u(e,o)<0^a>0){do{f.point(l===0||l===3?t:r,l>1?i:n)}while((l=(l+a+4)%4)!==c)}else{f.point(o[0],o[1])}}function b(e,s){return t<=e&&e<=r&&n<=s&&s<=i}function w(e,t){if(b(e,t))a.point(e,t)}function A(){v.point=M;if(p)p.push(d=[]);k=true;C=false;T=N=NaN}function O(){if(h){M(E,S);if(x&&C)l.rejoin();h.push(l.buffer())}v.point=w;if(C)a.lineEnd()}function M(e,t){e=Math.max(-Ir,Math.min(Ir,e));t=Math.max(-Ir,Math.min(Ir,t));var n=b(e,t);if(p)d.push([e,t]);if(k){E=e,S=t,x=n;k=false;if(n){a.lineStart();a.point(e,t)}}else{if(n&&C)a.point(e,t);else{var r={a:{x:T,y:N},b:{x:e,y:t}};if(c(r)){if(!C){a.lineStart();a.point(r.a.x,r.a.y)}a.point(r.b.x,r.b.y);if(!n)a.lineEnd();L=false}else if(n){a.lineStart();a.point(e,t);L=false}}}T=e,N=t,C=n}var f=a,l=Or(),c=Fr(t,n,r,i),h,p,d;var v={point:w,lineStart:A,lineEnd:O,polygonStart:function(){a=l;h=[];p=[];L=true},polygonEnd:function(){a=f;h=e.merge(h);var n=m([t,i]),r=L&&n,s=h.length;if(r||s){a.polygonStart();if(r){a.lineStart();y(null,null,1,a);a.lineEnd()}if(s){Nr(h,o,n,y,a)}a.polygonEnd()}h=p=d=null}};var E,S,x,T,N,C,k,L;return v}}function Rr(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}if(e.invert&&t.invert)n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])};return n}function Ur(e){var t=0,n=vt/3,r=pi(e),i=r(t,n);i.parallels=function(e){if(!arguments.length)return[t/vt*180,n/vt*180];return r(t=e[0]*vt/180,n=e[1]*vt/180)};return i}function zr(e,t){function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),s-n*Math.cos(e)]}var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),s=Math.sqrt(i)/r;o.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/r,Tt((i-(e*e+n*n)*r*r)/(2*r))]};return o}function $r(){function i(e,t){Xr+=r*e-n*t;n=e,r=t}var e,t,n,r;Vr.point=function(s,o){Vr.point=i;e=n=s,t=r=o};Vr.lineEnd=function(){i(e,t)}}function Zr(e,t){if(e<Jr)Jr=e;if(e>Qr)Qr=e;if(t<Kr)Kr=t;if(t>Gr)Gr=t}function ei(){function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r);n.point=s}function s(e,n){t.push("L",e,",",n)}function o(){n.point=r}function u(){t.push("Z")}var e=ti(4.5),t=[];var n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o;n.point=r},pointRadius:function(t){e=ti(t);return n},result:function(){if(t.length){var e=t.join("");t=[];return e}}};return n}function ti(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+ -2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ri(e,t){fr+=e;lr+=t;++cr}function ii(){function n(n,r){var i=n-e,s=r-t,o=Math.sqrt(i*i+s*s);hr+=o*(e+n)/2;pr+=o*(t+r)/2;dr+=o;ri(e=n,t=r)}var e,t;ni.point=function(r,i){ni.point=n;ri(e=r,t=i)}}function si(){ni.point=ri}function oi(){function i(e,t){var i=e-n,s=t-r,o=Math.sqrt(i*i+s*s);hr+=o*(n+e)/2;pr+=o*(r+t)/2;dr+=o;o=r*e-n*t;vr+=o*(n+e);mr+=o*(r+t);gr+=o*3;ri(n=e,r=t)}var e,t,n,r;ni.point=function(s,o){ni.point=i;ri(e=n=s,t=r=o)};ni.lineEnd=function(){i(e,t)}}function ui(e){function r(n,r){e.moveTo(n,r);e.arc(n,r,t,0,mt)}function i(t,r){e.moveTo(t,r);n.point=s}function s(t,n){e.lineTo(t,n)}function o(){n.point=r}function u(){e.closePath()}var t=4.5;var n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o;n.point=r},pointRadius:function(e){t=e;return n},result:C};return n}function ai(e){function i(e){return(r?o:s)(e)}function s(t){return ci(t,function(n,r){n=e(n,r);t.point(n[0],n[1])})}function o(t){function y(n,r){n=e(n,r);t.point(n[0],n[1])}function b(){h=NaN;g.point=w;t.lineStart()}function w(n,i){var s=Zn([n,i]),o=e(n,i);u(h,p,c,d,v,m,h=o[0],p=o[1],c=n,d=s[0],v=s[1],m=s[2],r,t);t.point(h,p)}function E(){g.point=y;t.lineEnd()}function S(){b();g.point=x;g.lineEnd=T}function x(e,t){w(n=e,i=t),s=h,o=p,a=d,f=v,l=m;g.point=w}function T(){u(h,p,c,d,v,m,s,o,n,a,f,l,r,t);g.lineEnd=E;E()}var n,i,s,o,a,f,l,c,h,p,d,v,m;var g={point:y,lineStart:b,lineEnd:E,polygonStart:function(){t.polygonStart();g.lineStart=S},polygonEnd:function(){t.polygonEnd();g.lineStart=b}};return g}function u(r,i,s,o,a,f,l,c,h,p,d,v,g,y){var b=l-r,w=c-i,E=b*b+w*w;if(E>4*t&&g--){var S=o+p,x=a+d,T=f+v,N=Math.sqrt(S*S+x*x+T*T),C=Math.asin(T/=N),k=m(m(T)-1)<yt?(s+h)/2:Math.atan2(x,S),L=e(k,C),A=L[0],O=L[1],M=A-r,_=O-i,D=w*M-b*_;if(D*D/E>t||m((b*M+w*_)/E-.5)>.3||o*p+a*d+f*v<n){u(r,i,s,o,a,f,A,O,k,S/=N,x/=N,T,g,y);y.point(A,O);u(A,O,k,S,x,T,l,c,h,p,d,v,g,y)}}}var t=.5,n=Math.cos(30*wt),r=16;i.precision=function(e){if(!arguments.length)return Math.sqrt(t);r=(t=e*e)>0&&16;return i};return i}function fi(e){var t=ai(function(t,n){return e([t*Et,n*Et])});return function(e){return di(t(e))}}function li(e){this.stream=e}function ci(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function hi(e){return pi(function(){return e})()}function pi(t){function E(e){e=i(e[0]*wt,e[1]*wt);return[e[0]*o+d,v-e[1]*o]}function S(e){e=i.invert((e[0]-d)/o,(v-e[1])/o);return e&&[e[0]*Et,e[1]*Et]}function x(){i=Rr(r=gi(c,h,p),n);var e=n(f,l);d=u-e[0]*o;v=a+e[1]*o;return T()}function T(){if(w)w.valid=false,w=null;return E}var n,r,i,s=ai(function(e,t){e=n(e,t);return[e[0]*o+d,v-e[1]*o]}),o=150,u=480,a=250,f=0,l=0,c=0,h=0,p=0,d,v,m=Dr,g=mn,y=null,b=null,w;E.stream=function(e){if(w)w.valid=false;w=di(m(r,s(g(e))));w.valid=true;return w};E.clipAngle=function(e){if(!arguments.length)return y;m=e==null?(y=e,Dr):jr((y=+e)*wt);return T()};E.clipExtent=function(e){if(!arguments.length)return b;b=e;g=e?qr(e[0][0],e[0][1],e[1][0],e[1][1]):mn;return T()};E.scale=function(e){if(!arguments.length)return o;o=+e;return x()};E.translate=function(e){if(!arguments.length)return[u,a];u=+e[0];a=+e[1];return x()};E.center=function(e){if(!arguments.length)return[f*Et,l*Et];f=e[0]%360*wt;l=e[1]%360*wt;return x()};E.rotate=function(e){if(!arguments.length)return[c*Et,h*Et,p*Et];c=e[0]%360*wt;h=e[1]%360*wt;p=e.length>2?e[2]%360*wt:0;return x()};e.rebind(E,s,"precision");return function(){n=t.apply(this,arguments);E.invert=n.invert&&S;return x()}}function di(e){return ci(e,function(t,n){e.point(t*wt,n*wt)})}function vi(e,t){return[e,t]}function mi(e,t){return[e>vt?e-mt:e<-vt?e+mt:e,t]}function gi(e,t,n){return e?t||n?Rr(bi(e),wi(t,n)):bi(e):t||n?wi(t,n):mi}function yi(e){return function(t,n){return t+=e,[t>vt?t-mt:t<-vt?t+mt:t,n]}}function bi(e){var t=yi(e);t.invert=yi(-e);return t}function wi(e,t){function o(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*n+u*r;return[Math.atan2(a*i-l*s,u*n-f*r),Tt(l*i+a*s)]}var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),s=Math.sin(t);o.invert=function(e,t){var o=Math.cos(t),u=Math.cos(e)*o,a=Math.sin(e)*o,f=Math.sin(t),l=f*i-a*s;return[Math.atan2(a*i+f*s,u*n+l*r),Tt(l*n-u*r)]};return o}function Ei(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,s,o,u){var a=o*t;if(i!=null){i=Si(n,i);s=Si(n,s);if(o>0?i<s:i>s)i+=o*mt}else{i=e+o*mt;s=e-.5*a}for(var f,l=i;o>0?l>s:l<s;l-=a){u.point((f=sr([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],f[1])}}}function Si(e,t){var n=Zn(t);n[0]-=e;ir(n);var r=xt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-yt)%(2*Math.PI)}function xi(t,n,r){var i=e.range(t,n-yt,r).concat(n);return function(e){return i.map(function(t){return[e,t]})}}function Ti(t,n,r){var i=e.range(t,n-yt,r).concat(n);return function(e){return i.map(function(t){return[t,e]})}}function Ni(e){return e.source}function Ci(e){return e.target}function ki(e,t,n,r){var i=Math.cos(t),s=Math.sin(t),o=Math.cos(r),u=Math.sin(r),a=i*Math.cos(e),f=i*Math.sin(e),l=o*Math.cos(n),c=o*Math.sin(n),h=2*Math.asin(Math.sqrt(Lt(r-t)+i*o*Lt(n-e))),p=1/Math.sin(h);var d=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*a+t*l,i=n*f+t*c,o=n*s+t*u;return[Math.atan2(i,r)*Et,Math.atan2(o,Math.sqrt(r*r+i*i))*Et]}:function(){return[e*Et,t*Et]};d.distance=h;return d}function Oi(){function r(r,i){var s=Math.sin(i*=wt),o=Math.cos(i),u=m((r*=wt)-e),a=Math.cos(u);Li+=Math.atan2(Math.sqrt((u=o*Math.sin(u))*u+(u=n*s-t*o*a)*u),t*s+n*o*a);e=r,t=s,n=o}var e,t,n;Ai.point=function(i,s){e=i*wt,t=Math.sin(s*=wt),n=Math.cos(s);Ai.point=r};Ai.lineEnd=function(){Ai.point=Ai.lineEnd=C}}function Mi(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),s=e(r*i);return[s*i*Math.sin(t),s*Math.sin(n)]}n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),s=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*s,r*o),Math.asin(r&&n*s/r)]};return n}function Pi(e,t){function o(e,t){var n=m(m(t)-gt)<yt?0:s/Math.pow(r(t),i);return[n*Math.sin(i*e),s-n*Math.cos(i*e)]}var n=Math.cos(e),r=function(e){return Math.tan(vt/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),s=n*Math.pow(r(e),i)/i;if(!i)return ji;o.invert=function(e,t){var n=s-t,r=St(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(s/r,1/i))-gt]};return o}function Hi(e,t){function s(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;if(m(r)<yt)return vi;s.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-St(r)*Math.sqrt(e*e+n*n)]};return s}function ji(e,t){return[e,Math.log(Math.tan(vt/4+t/2))]}function Fi(e){var t=hi(e),n=t.scale,r=t.translate,i=t.clipExtent,s;t.scale=function(){var e=n.apply(t,arguments);return e===t?s?t.clipExtent(null):t:e};t.translate=function(){var e=r.apply(t,arguments);return e===t?s?t.clipExtent(null):t:e};t.clipExtent=function(e){var o=i.apply(t,arguments);if(o===t){if(s=e==null){var u=vt*n(),a=r();i([[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]])}}else if(s){o=null}return o};return t.clipExtent(null)}function Ri(e,t){var n=Math.cos(t)*Math.sin(e);return[Math.log((1+n)/(1-n))/2,Math.atan2(Math.tan(t),Math.cos(e))]}function Ui(e){return e[0]}function zi(e){return e[1]}function Wi(e,t,n,r){var i,s,o,u,a,f,l;i=r[e];s=i[0];o=i[1];i=r[t];u=i[0];a=i[1];i=r[n];f=i[0];l=i[1];return(l-o)*(u-s)-(a-o)*(f-s)>0}function Vi(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function $i(e,t,n,r){var i=e[0],s=n[0],o=t[0]-i,u=r[0]-s,a=e[1],f=n[1],l=t[1]-a,c=r[1]-f,h=(u*(a-f)-c*(i-s))/(c*o-u*l);return[i+h*o,a+h*l]}function Ji(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function ns(){xs(this);this.edge=this.site=this.circle=null}function rs(e){var t=Yi.pop()||new ns;t.site=e;return t}function is(e){ds(e);Gi.remove(e);Yi.push(e);xs(e)}function ss(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},s=e.P,o=e.N,u=[e];is(e);var a=s;while(a.circle&&m(n-a.circle.x)<yt&&m(r-a.circle.cy)<yt){s=a.P;u.unshift(a);is(a);a=s}u.unshift(a);ds(a);var f=o;while(f.circle&&m(n-f.circle.x)<yt&&m(r-f.circle.cy)<yt){o=f.N;u.push(f);is(f);f=o}u.push(f);ds(f);var l=u.length,c;for(c=1;c<l;++c){f=u[c];a=u[c-1];ws(f.edge,a.site,f.site,i)}a=u[0];f=u[l-1];f.edge=ys(a.site,f.site,null,i);ps(a);ps(f)}function os(e){var t=e.x,n=e.y,r,i,s,o,u=Gi._;while(u){s=us(u,n)-t;if(s>yt)u=u.L;else{o=t-as(u,n);if(o>yt){if(!u.R){r=u;break}u=u.R}else{if(s>-yt){r=u.P;i=u}else if(o>-yt){r=u;i=u.N}else{r=i=u}break}}}var a=rs(e);Gi.insert(r,a);if(!r&&!i)return;if(r===i){ds(r);i=rs(r.site);Gi.insert(a,i);a.edge=i.edge=ys(r.site,a.site);ps(r);ps(i);return}if(!i){a.edge=ys(r.site,a.site);return}ds(r);ds(i);var f=r.site,l=f.x,c=f.y,h=e.x-l,p=e.y-c,d=i.site,v=d.x-l,m=d.y-c,g=2*(h*m-p*v),y=h*h+p*p,b=v*v+m*m,w={x:(m*y-p*b)/g+l,y:(h*b-v*y)/g+c};ws(i.edge,f,d,w);a.edge=ys(f,e,null,w);i.edge=ys(e,d,null,w);ps(r);ps(i)}function us(e,t){var n=e.site,r=n.x,i=n.y,s=i-t;if(!s)return r;var o=e.P;if(!o)return-Infinity;n=o.site;var u=n.x,a=n.y,f=a-t;if(!f)return u;var l=u-r,c=1/s-1/f,h=l/f;if(c)return(-h+Math.sqrt(h*h-2*c*(l*l/(-2*f)-a+f/2+i-s/2)))/c+r;return(r+u)/2}function as(e,t){var n=e.N;if(n)return us(n,t);var r=e.site;return r.y===t?r.x:Infinity}function fs(e){this.site=e;this.edges=[]}function ls(e){var t=e[0][0],n=e[1][0],r=e[0][1],i=e[1][1],s,o,u,a,f=Qi,l=f.length,c,h,p,d,v,g;while(l--){c=f[l];if(!c||!c.prepare())continue;p=c.edges;d=p.length;h=0;while(h<d){g=p[h].end(),u=g.x,a=g.y;v=p[++h%d].start(),s=v.x,o=v.y;if(m(u-s)>yt||m(a-o)>yt){p.splice(h,0,new Es(bs(c.site,g,m(u-t)<yt&&i-a>yt?{x:t,y:m(s-t)<yt?o:i}:m(a-i)<yt&&n-u>yt?{x:m(o-i)<yt?s:n,y:i}:m(u-n)<yt&&a-r>yt?{x:n,y:m(s-n)<yt?o:r}:m(a-r)<yt&&u-t>yt?{x:m(o-r)<yt?s:t,y:r}:null),c.site,null));++d}}}}function cs(e,t){return t.angle-e.angle}function hs(){xs(this);this.x=this.y=this.arc=this.site=this.cy=null}function ps(e){var t=e.P,n=e.N;if(!t||!n)return;var r=t.site,i=e.site,s=n.site;if(r===s)return;var o=i.x,u=i.y,a=r.x-o,f=r.y-u,l=s.x-o,c=s.y-u;var h=2*(a*c-f*l);if(h>=-bt)return;var p=a*a+f*f,d=l*l+c*c,v=(c*p-f*d)/h,m=(a*d-l*p)/h,c=m+u;var g=ts.pop()||new hs;g.arc=e;g.site=i;g.x=v+o;g.y=c+Math.sqrt(v*v+m*m);g.cy=c;e.circle=g;var y=null,b=es._;while(b){if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(b.L)b=b.L;else{y=b.P;break}}else{if(b.R)b=b.R;else{y=b;break}}}es.insert(y,g);if(!y)Zi=g}function ds(e){var t=e.circle;if(t){if(!t.P)Zi=t.N;es.remove(t);ts.push(t);xs(t);e.circle=null}}function vs(e){var t=Ki,n=Fr(e[0][0],e[0][1],e[1][0],e[1][1]),r=t.length,i;while(r--){i=t[r];if(!ms(i,e)||!n(i)||m(i.a.x-i.b.x)<yt&&m(i.a.y-i.b.y)<yt){i.a=i.b=null;t.splice(r,1)}}}function ms(e,t){var n=e.b;if(n)return true;var r=e.a,i=t[0][0],s=t[1][0],o=t[0][1],u=t[1][1],a=e.l,f=e.r,l=a.x,c=a.y,h=f.x,p=f.y,d=(l+h)/2,v=(c+p)/2,m,g;if(p===c){if(d<i||d>=s)return;if(l>h){if(!r)r={x:d,y:o};else if(r.y>=u)return;n={x:d,y:u}}else{if(!r)r={x:d,y:u};else if(r.y<o)return;n={x:d,y:o}}}else{m=(l-h)/(p-c);g=v-m*d;if(m<-1||m>1){if(l>h){if(!r)r={x:(o-g)/m,y:o};else if(r.y>=u)return;n={x:(u-g)/m,y:u}}else{if(!r)r={x:(u-g)/m,y:u};else if(r.y<o)return;n={x:(o-g)/m,y:o}}}else{if(c<p){if(!r)r={x:i,y:m*i+g};else if(r.x>=s)return;n={x:s,y:m*s+g}}else{if(!r)r={x:s,y:m*s+g};else if(r.x<i)return;n={x:i,y:m*i+g}}}}e.a=r;e.b=n;return true}function gs(e,t){this.l=e;this.r=t;this.a=this.b=null}function ys(e,t,n,r){var i=new gs(e,t);Ki.push(i);if(n)ws(i,e,t,n);if(r)ws(i,t,e,r);Qi[e.i].edges.push(new Es(i,e,t));Qi[t.i].edges.push(new Es(i,t,e));return i}function bs(e,t,n){var r=new gs(e,null);r.a=t;r.b=n;Ki.push(r);return r}function ws(e,t,n,r){if(!e.a&&!e.b){e.a=r;e.l=t;e.r=n}else if(e.l===n){e.b=r}else{e.a=r}}function Es(e,t,n){var r=e.a,i=e.b;this.edge=e;this.site=t;this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Ss(){this._=null}function xs(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Ts(e,t){var n=t,r=t.R,i=n.U;if(i){if(i.L===n)i.L=r;else i.R=r}else{e._=r}r.U=i;n.U=r;n.R=r.L;if(n.R)n.R.U=n;r.L=n}function Ns(e,t){var n=t,r=t.L,i=n.U;if(i){if(i.L===n)i.L=r;else i.R=r}else{e._=r}r.U=i;n.U=r;n.L=r.R;if(n.L)n.L.U=n;r.R=n}function Cs(e){while(e.L)e=e.L;return e}function ks(e,t){var n=e.sort(Ls).pop(),r,i,s;Ki=[];Qi=new Array(e.length);Gi=new Ss;es=new Ss;while(true){s=Zi;if(n&&(!s||n.y<s.y||n.y===s.y&&n.x<s.x)){if(n.x!==r||n.y!==i){Qi[n.i]=new fs(n);os(n);r=n.x,i=n.y}n=e.pop()}else if(s){ss(s.arc)}else{break}}if(t)vs(t),ls(t);var o={cells:Qi,edges:Ki};Gi=es=Ki=Qi=null;return o}function Ls(e,t){return t.y-e.y||t.x-e.x}function Os(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function Ms(e){return e.x}function _s(e){return e.y}function Ds(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function Ps(e,t,n,r,i,s){if(!e(t,n,r,i,s)){var o=(n+i)*.5,u=(r+s)*.5,a=t.nodes;if(a[0])Ps(e,a[0],n,r,o,u);if(a[1])Ps(e,a[1],o,r,i,u);if(a[2])Ps(e,a[2],n,u,o,s);if(a[3])Ps(e,a[3],o,u,i,s)}}function Hs(t,n){t=e.rgb(t);n=e.rgb(n);var r=t.r,i=t.g,s=t.b,o=n.r-r,u=n.g-i,a=n.b-s;return function(e){return"#"+an(Math.round(r+o*e))+an(Math.round(i+u*e))+an(Math.round(s+a*e))}}function Bs(e,t){var n={},r={},i;for(i in e){if(i in t){n[i]=qs(e[i],t[i])}else{r[i]=e[i]}}for(i in t){if(!(i in e)){r[i]=t[i]}}return function(e){for(i in n)r[i]=n[i](e);return r}}function js(e,t){t-=e=+e;return function(n){return e+t*n}}function Fs(e,t){var n,r,i,s=0,o=0,u=[],a=[],f,l;e=e+"",t=t+"";Is.lastIndex=0;for(r=0;n=Is.exec(t);++r){if(n.index)u.push(t.substring(s,o=n.index));a.push({i:u.length,x:n[0]});u.push(null);s=Is.lastIndex}if(s<t.length)u.push(t.substring(s));for(r=0,f=a.length;(n=Is.exec(e))&&r<f;++r){l=a[r];if(l.x==n[0]){if(l.i){if(u[l.i+1]==null){u[l.i-1]+=l.x;u.splice(l.i,1);for(i=r+1;i<f;++i)a[i].i--}else{u[l.i-1]+=l.x+u[l.i+1];u.splice(l.i,2);for(i=r+1;i<f;++i)a[i].i-=2}}else{if(u[l.i+1]==null){u[l.i]=l.x}else{u[l.i]=l.x+u[l.i+1];u.splice(l.i+1,1);for(i=r+1;i<f;++i)a[i].i--}}a.splice(r,1);f--;r--}else{l.x=js(parseFloat(n[0]),parseFloat(l.x))}}while(r<f){l=a.pop();if(u[l.i+1]==null){u[l.i]=l.x}else{u[l.i]=l.x+u[l.i+1];u.splice(l.i+1,1)}f--}if(u.length===1){return u[0]==null?(l=a[0].x,function(e){return l(e)+""}):function(){return t}}return function(e){for(r=0;r<f;++r)u[(l=a[r]).i]=l.x(e);return u.join("")}}function qs(t,n){var r=e.interpolators.length,i;while(--r>=0&&!(i=e.interpolators[r](t,n)));return i}function Rs(e,t){var n=[],r=[],i=e.length,s=t.length,o=Math.min(e.length,t.length),u;for(u=0;u<o;++u)n.push(qs(e[u],t[u]));for(;u<i;++u)r[u]=e[u];for(;u<s;++u)r[u]=t[u];return function(e){for(u=0;u<o;++u)r[u]=n[u](e);return r}}function Xs(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Vs(e){return function(t){return 1-e(1-t)}}function $s(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Js(e){return e*e}function Ks(e){return e*e*e}function Qs(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function Gs(e){return function(t){return Math.pow(t,e)}}function Ys(e){return 1-Math.cos(e*gt)}function Zs(e){return Math.pow(2,10*(e-1))}function eo(e){return 1-Math.sqrt(1-e*e)}function to(e,t){var n;if(arguments.length<2)t=.45;if(arguments.length)n=t/mt*Math.asin(1/e);else e=1,n=t/4;return function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*mt/t)}}function no(e){if(!e)e=1.70158;return function(t){return t*t*((e+1)*t-e)}}function ro(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function io(t,n){t=e.hcl(t);n=e.hcl(n);var r=t.h,i=t.c,s=t.l,o=n.h-r,u=n.c-i,a=n.l-s;if(isNaN(u))u=0,i=isNaN(i)?n.c:i;if(isNaN(o))o=0,r=isNaN(r)?n.h:r;else if(o>180)o-=360;else if(o<-180)o+=360;return function(e){return zt(r+o*e,i+u*e,s+a*e)+""}}function so(t,n){t=e.hsl(t);n=e.hsl(n);var r=t.h,i=t.s,s=t.l,o=n.h-r,u=n.s-i,a=n.l-s;if(isNaN(u))u=0,i=isNaN(i)?n.s:i;if(isNaN(o))o=0,r=isNaN(r)?n.h:r;else if(o>180)o-=360;else if(o<-180)o+=360;return function(e){return It(r+o*e,i+u*e,s+a*e)+""}}function oo(t,n){t=e.lab(t);n=e.lab(n);var r=t.l,i=t.a,s=t.b,o=n.l-r,u=n.a-i,a=n.b-s;return function(e){return Gt(r+o*e,i+u*e,s+a*e)+""}}function uo(e,t){t-=e;return function(n){return Math.round(e+t*n)}}function ao(e){var t=[e.a,e.b],n=[e.c,e.d],r=lo(t),i=fo(t,n),s=lo(co(n,t,-i))||0;if(t[0]*n[1]<n[0]*t[1]){t[0]*=-1;t[1]*=-1;r*=-1;i*=-1}this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Et;this.translate=[e.e,e.f];this.scale=[r,s];this.skew=s?Math.atan2(i,s)*Et:0}function fo(e,t){return e[0]*t[0]+e[1]*t[1]}function lo(e){var t=Math.sqrt(fo(e,e));if(t){e[0]/=t;e[1]/=t}return t}function co(e,t,n){e[0]+=n*t[0];e[1]+=n*t[1];return e}function po(t,n){var r=[],i=[],s,o=e.transform(t),u=e.transform(n),a=o.translate,f=u.translate,l=o.rotate,c=u.rotate,h=o.skew,p=u.skew,d=o.scale,v=u.scale;if(a[0]!=f[0]||a[1]!=f[1]){r.push("translate(",null,",",null,")");i.push({i:1,x:js(a[0],f[0])},{i:3,x:js(a[1],f[1])})}else if(f[0]||f[1]){r.push("translate("+f+")")}else{r.push("")}if(l!=c){if(l-c>180)c+=360;else if(c-l>180)l+=360;i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:js(l,c)})}else if(c){r.push(r.pop()+"rotate("+c+")")}if(h!=p){i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:js(h,p)})}else if(p){r.push(r.pop()+"skewX("+p+")")}if(d[0]!=v[0]||d[1]!=v[1]){s=r.push(r.pop()+"scale(",null,",",null,")");i.push({i:s-4,x:js(d[0],v[0])},{i:s-2,x:js(d[1],v[1])})}else if(v[0]!=1||v[1]!=1){r.push(r.pop()+"scale("+v+")")}s=i.length;return function(e){var t=-1,n;while(++t<s)r[(n=i[t]).i]=n.x(e);return r.join("")}}function vo(e,t){t=t-(e=+e)?1/(t-e):0;return function(n){return(n-e)*t}}function mo(e,t){t=t-(e=+e)?1/(t-e):0;return function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function go(e){var t=e.source,n=e.target,r=bo(t,n),i=[t];while(t!==r){t=t.parent;i.push(t)}var s=i.length;while(n!==r){i.splice(s,0,n);n=n.parent}return i}function yo(e){var t=[],n=e.parent;while(n!=null){t.push(e);e=n;n=n.parent}t.push(e);return t}function bo(e,t){if(e===t)return e;var n=yo(e),r=yo(t),i=n.pop(),s=r.pop(),o=null;while(i===s){o=i;i=n.pop();s=r.pop()}return o}function wo(e){e.fixed|=2}function Eo(e){e.fixed&=~6}function So(e){e.fixed|=4;e.px=e.x,e.py=e.y}function xo(e){e.fixed&=~4}function To(e,t,n){var r=0,i=0;e.charge=0;if(!e.leaf){var s=e.nodes,o=s.length,u=-1,a;while(++u<o){a=s[u];if(a==null)continue;To(a,t,n);e.charge+=a.charge;r+=a.charge*a.cx;i+=a.charge*a.cy}}if(e.point){if(!e.leaf){e.point.x+=Math.random()-.5;e.point.y+=Math.random()-.5}var f=t*n[e.point.index];e.charge+=e.pointCharge=f;r+=f*e.point.x;i+=f*e.point.y}e.cx=r/e.charge;e.cy=i/e.charge}function ko(t,n){e.rebind(t,n,"sort","children","value");t.nodes=t;t.links=Mo;return t}function Lo(e){return e.children}function Ao(e){return e.value}function Oo(e,t){return t.value-e.value}function Mo(t){return e.merge(t.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Do(e){return e.x}function Po(e){return e.y}function Ho(e,t,n){e.y0=t;e.y=n}function Fo(t){return e.range(t.length)}function Io(e){var t=-1,n=e[0].length,r=[];while(++t<n)r[t]=0;return r}function qo(e){var t=1,n=0,r=e[0][1],i,s=e.length;for(;t<s;++t){if((i=e[t][1])>r){n=t;r=i}}return n}function Ro(e){return e.reduce(Uo,0)}function Uo(e,t){return e+t[1]}function zo(e,t){return Wo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Wo(e,t){var n=-1,r=+e[0],i=(e[1]-r)/t,s=[];while(++n<=t)s[n]=i*n+r;return s}function Xo(t){return[e.min(t),e.max(t)]}function Vo(e,t){return e.parent==t.parent?1:2}function $o(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function Jo(e){var t=e.children,n;return t&&(n=t.length)?t[n-1]:e._tree.thread}function Ko(e,t){var n=e.children;if(n&&(i=n.length)){var r,i,s=-1;while(++s<i){if(t(r=Ko(n[s],t),e)>0){e=r}}}return e}function Qo(e,t){return e.x-t.x}function Go(e,t){return t.x-e.x}function Yo(e,t){return e.depth-t.depth}function Zo(e,t){function n(e,r){var i=e.children;if(i&&(a=i.length)){var s,o=null,u=-1,a;while(++u<a){s=i[u];n(s,o);o=s}}t(e,r)}n(e,null)}function eu(e){var t=0,n=0,r=e.children,i=r.length,s;while(--i>=0){s=r[i]._tree;s.prelim+=t;s.mod+=t;t+=s.shift+(n+=s.change)}}function tu(e,t,n){e=e._tree;t=t._tree;var r=n/(t.number-e.number);e.change+=r;t.change-=r;t.shift+=n;t.prelim+=n;t.mod+=n}function nu(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function ru(e,t){return e.value-t.value}function iu(e,t){var n=e._pack_next;e._pack_next=t;t._pack_prev=e;t._pack_next=n;n._pack_prev=t}function su(e,t){e._pack_next=t;t._pack_prev=e}function ou(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function uu(e){function p(e){n=Math.min(e.x-e.r,n);r=Math.max(e.x+e.r,r);i=Math.min(e.y-e.r,i);s=Math.max(e.y+e.r,s)}if(!(t=e.children)||!(h=t.length))return;var t,n=Infinity,r=-Infinity,i=Infinity,s=-Infinity,o,u,a,f,l,c,h;t.forEach(au);o=t[0];o.x=-o.r;o.y=0;p(o);if(h>1){u=t[1];u.x=u.r;u.y=0;p(u);if(h>2){a=t[2];cu(o,u,a);p(a);iu(o,a);o._pack_prev=a;iu(a,u);u=o._pack_next;for(f=3;f<h;f++){cu(o,u,a=t[f]);var d=0,v=1,m=1;for(l=u._pack_next;l!==u;l=l._pack_next,v++){if(ou(l,a)){d=1;break}}if(d==1){for(c=o._pack_prev;c!==l._pack_prev;c=c._pack_prev,m++){if(ou(c,a)){break}}}if(d){if(v<m||v==m&&u.r<o.r)su(o,u=l);else su(o=c,u);f--}else{iu(o,a);u=a;p(a)}}}}var g=(n+r)/2,y=(i+s)/2,b=0;for(f=0;f<h;f++){a=t[f];a.x-=g;a.y-=y;b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y))}e.r=b;t.forEach(fu)}function au(e){e._pack_next=e._pack_prev=e}function fu(e){delete e._pack_next;delete e._pack_prev}function lu(e,t,n,r){var i=e.children;e.x=t+=r*e.x;e.y=n+=r*e.y;e.r*=r;if(i){var s=-1,o=i.length;while(++s<o)lu(i[s],t,n,r)}}function cu(e,t,n){var r=e.r+n.r,i=t.x-e.x,s=t.y-e.y;if(r&&(i||s)){var o=t.r+n.r,u=i*i+s*s;o*=o;r*=r;var a=.5+(r-o)/(2*u),f=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=e.x+a*i+f*s;n.y=e.y+a*s-f*i}else{n.x=e.x+r;n.y=e.y}}function hu(t){return 1+e.max(t,function(e){return e.y})}function pu(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function du(e){var t=e.children;return t&&t.length?du(t[0]):e}function vu(e){var t=e.children,n;return t&&(n=t.length)?vu(t[n-1]):e}function mu(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function gu(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],s=e.dy-t[0]-t[2];if(i<0){n+=i/2;i=0}if(s<0){r+=s/2;s=0}return{x:n,y:r,dx:i,dy:s}}function yu(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function bu(e){return e.rangeExtent?e.rangeExtent():yu(e.range())}function wu(e,t,n,r){var i=n(e[0],e[1]),s=r(t[0],t[1]);return function(e){return s(i(e))}}function Eu(e,t){var n=0,r=e.length-1,i=e[n],s=e[r],o;if(s<i){o=n,n=r,r=o;o=i,i=s,s=o}e[n]=t.floor(i);e[r]=t.ceil(s);return e}function Su(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:xu}function Tu(t,n,r,i){var s=[],o=[],u=0,a=Math.min(t.length,n.length)-1;if(t[a]<t[0]){t=t.slice().reverse();n=n.slice().reverse()}while(++u<=a){s.push(r(t[u-1],t[u]));o.push(i(n[u-1],n[u]))}return function(n){var r=e.bisect(t,n,1,a)-1;return o[r](s[r](n))}}function Nu(e,t,n,r){function o(){var o=Math.min(e.length,t.length)>2?Tu:wu,a=r?mo:vo;i=o(e,t,a,n);s=o(t,e,a,qs);return u}function u(e){return i(e)}var i,s;u.invert=function(e){return s(e)};u.domain=function(t){if(!arguments.length)return e;e=t.map(Number);return o()};u.range=function(e){if(!arguments.length)return t;t=e;return o()};u.rangeRound=function(e){return u.range(e).interpolate(uo)};u.clamp=function(e){if(!arguments.length)return r;r=e;return o()};u.interpolate=function(e){if(!arguments.length)return n;n=e;return o()};u.ticks=function(t){return Au(e,t)};u.tickFormat=function(t,n){return Ou(e,t,n)};u.nice=function(t){ku(e,t);return o()};u.copy=function(){return Nu(e,t,n,r)};return o()}function Cu(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function ku(e,t){return Eu(e,Su(Lu(e,t)[2]))}function Lu(e,t){if(t==null)t=10;var n=yu(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),s=t/r*i;if(s<=.15)i*=10;else if(s<=.35)i*=5;else if(s<=.75)i*=2;n[0]=Math.ceil(n[0]/i)*i;n[1]=Math.floor(n[1]/i)*i+i*.5;n[2]=i;return n}function Au(t,n){return e.range.apply(e,Lu(t,n))}function Ou(t,n,r){var i=Lu(t,n);return e.format(r?r.replace(Hn,function(e,t,n,r,s,o,u,a,f,l){return[t,n,r,s,o,u,a,f||"."+Du(l,i),l].join("")}):",."+_u(i[2])+"f")}function _u(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Du(e,t){var n=_u(t[2]);return e in Mu?Math.abs(n-_u(Math.max(Math.abs(t[0]),Math.abs(t[1]))))+ +(e!=="e"):n-(e==="%")*2}function Pu(t,n,r,i){function s(e){return(r?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function o(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function u(e){return t(s(e))}u.invert=function(e){return o(t.invert(e))};u.domain=function(e){if(!arguments.length)return i;r=e[0]>=0;t.domain((i=e.map(Number)).map(s));return u};u.base=function(e){if(!arguments.length)return n;n=+e;t.domain(i.map(s));return u};u.nice=function(){var e=Eu(i.map(s),r?Math:Bu);t.domain(e);i=e.map(o);return u};u.ticks=function(){var e=yu(i),t=[],u=e[0],a=e[1],f=Math.floor(s(u)),l=Math.ceil(s(a)),c=n%1?2:n;if(isFinite(l-f)){if(r){for(;f<l;f++)for(var h=1;h<c;h++)t.push(o(f)*h);t.push(o(f))}else{t.push(o(f));for(;f++<l;)for(var h=c-1;h>0;h--)t.push(o(f)*h)}for(f=0;t[f]<u;f++){}for(l=t.length;t[l-1]>a;l--){}t=t.slice(f,l)}return t};u.tickFormat=function(t,n){if(!arguments.length)return Hu;if(arguments.length<2)n=Hu;else if(typeof n!=="function")n=e.format(n);var i=Math.max(.1,t/u.ticks().length),a=r?(f=1e-12,Math.ceil):(f=-1e-12,Math.floor),f;return function(e){return e/o(a(s(e)+f))<=i?n(e):""}};u.copy=function(){return Pu(t.copy(),n,r,i)};return Cu(u,t)}function ju(e,t,n){function s(t){return e(r(t))}var r=Fu(t),i=Fu(1/t);s.invert=function(t){return i(e.invert(t))};s.domain=function(t){if(!arguments.length)return n;e.domain((n=t.map(Number)).map(r));return s};s.ticks=function(e){return Au(n,e)};s.tickFormat=function(e,t){return Ou(n,e,t)};s.nice=function(e){return s.domain(ku(n,e))};s.exponent=function(o){if(!arguments.length)return t;r=Fu(t=o);i=Fu(1/t);e.domain(n.map(r));return s};s.copy=function(){return ju(e.copy(),t,n)};return Cu(s,e)}function Fu(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Iu(t,n){function o(e){return i[((r.get(e)||n.t==="range"&&r.set(e,t.push(e)))-1)%i.length]}function u(n,r){return e.range(t.length).map(function(e){return n+r*e})}var r,i,s;o.domain=function(e){if(!arguments.length)return t;t=[];r=new b;var i=-1,s=e.length,u;while(++i<s)if(!r.has(u=e[i]))r.set(u,t.push(u));return o[n.t].apply(o,n.a)};o.range=function(e){if(!arguments.length)return i;i=e;s=0;n={t:"range",a:arguments};return o};o.rangePoints=function(e,r){if(arguments.length<2)r=0;var a=e[0],f=e[1],l=(f-a)/(Math.max(1,t.length-1)+r);i=u(t.length<2?(a+f)/2:a+l*r/2,l);s=0;n={t:"rangePoints",a:arguments};return o};o.rangeBands=function(e,r,a){if(arguments.length<2)r=0;if(arguments.length<3)a=r;var f=e[1]<e[0],l=e[f-0],c=e[1-f],h=(c-l)/(t.length-r+2*a);i=u(l+h*a,h);if(f)i.reverse();s=h*(1-r);n={t:"rangeBands",a:arguments};return o};o.rangeRoundBands=function(e,r,a){if(arguments.length<2)r=0;if(arguments.length<3)a=r;var f=e[1]<e[0],l=e[f-0],c=e[1-f],h=Math.floor((c-l)/(t.length-r+2*a)),p=c-l-(t.length-r)*h;i=u(l+Math.round(p/2),h);if(f)i.reverse();s=Math.round(h*(1-r));n={t:"rangeRoundBands",a:arguments};return o};o.rangeBand=function(){return s};o.rangeExtent=function(){return yu(n.a[0])};o.copy=function(){return Iu(t,n)};return o.domain(t)}function Wu(t,n){function i(){var i=0,o=n.length;r=[];while(++i<o)r[i-1]=e.quantile(t,i/o);return s}function s(t){if(!isNaN(t=+t))return n[e.bisect(r,t)]}var r;s.domain=function(n){if(!arguments.length)return t;t=n.filter(function(e){return!isNaN(e)}).sort(e.ascending);return i()};s.range=function(e){if(!arguments.length)return n;n=e;return i()};s.quantiles=function(){return r};s.invertExtent=function(e){e=n.indexOf(e);return e<0?[NaN,NaN]:[e>0?r[e-1]:t[0],e<r.length?r[e]:t[t.length-1]]};s.copy=function(){return Wu(t,n)};return i()}function Xu(e,t,n){function s(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){r=n.length/(t-e);i=n.length-1;return s}var r,i;s.domain=function(n){if(!arguments.length)return[e,t];e=+n[0];t=+n[n.length-1];return o()};s.range=function(e){if(!arguments.length)return n;n=e;return o()};s.invertExtent=function(t){t=n.indexOf(t);t=t<0?NaN:t/r+e;return[t,t+1/r]};s.copy=function(){return Xu(e,t,n)};return o()}function Vu(t,n){function r(r){if(r<=r)return n[e.bisect(t,r)]}r.domain=function(e){if(!arguments.length)return t;t=e;return r};r.range=function(e){if(!arguments.length)return n;n=e;return r};r.invertExtent=function(e){e=n.indexOf(e);return[t[e-1],t[e]]};r.copy=function(){return Vu(t,n)};return r}function $u(e){function t(e){return+e}t.invert=t;t.domain=t.range=function(n){if(!arguments.length)return e;e=n.map(t);return t};t.ticks=function(t){return Au(e,t)};t.tickFormat=function(t,n){return Ou(e,t,n)};t.copy=function(){return $u(e)};return t}function Qu(e){return e.innerRadius}function Gu(e){return e.outerRadius}function Yu(e){return e.startAngle}function Zu(e){return e.endAngle}function ea(e){function u(s){function d(){u.push("M",i(e(a),o))}var u=[],a=[],f=-1,l=s.length,c,h=vn(t),p=vn(n);while(++f<l){if(r.call(this,c=s[f],f)){a.push([+h.call(this,c,f),+p.call(this,c,f)])}else if(a.length){d();a=[]}}if(a.length)d();return u.length?u.join(""):null}var t=Ui,n=zi,r=Tr,i=na,s=i.key,o=.7;u.x=function(e){if(!arguments.length)return t;t=e;return u};u.y=function(e){if(!arguments.length)return n;n=e;return u};u.defined=function(e){if(!arguments.length)return r;r=e;return u};u.interpolate=function(e){if(!arguments.length)return s;if(typeof e==="function")s=i=e;else s=(i=ta.get(e)||na).key;return u};u.tension=function(e){if(!arguments.length)return o;o=e;return u};return u}function na(e){return e.join("L")}function ra(e){return na(e)+"Z"}function ia(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);if(n>1)i.push("H",r[0]);return i.join("")}function sa(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function oa(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];while(++t<n)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function ua(e,t){return e.length<4?na(e):e[1]+la(e.slice(1,e.length-1),ca(e,t))}function aa(e,t){return e.length<3?na(e):e[0]+la((e.push(e[0]),e),ca([e[e.length-2]].concat(e,[e[1]]),t))}function fa(e,t){return e.length<3?na(e):e[0]+la(e,ca(e,t))}function la(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2){return na(e)}var n=e.length!=t.length,r="",i=e[0],s=e[1],o=t[0],u=o,a=1;if(n){r+="Q"+(s[0]-o[0]*2/3)+","+(s[1]-o[1]*2/3)+","+s[0]+","+s[1];i=e[1];a=2}if(t.length>1){u=t[1];s=e[a];a++;r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1];for(var f=2;f<t.length;f++,a++){s=e[a];u=t[f];r+="S"+(s[0]-u[0])+","+(s[1]-u[1])+","+s[0]+","+s[1]}}if(n){var l=e[a];r+="Q"+(s[0]+u[0]*2/3)+","+(s[1]+u[1]*2/3)+","+l[0]+","+l[1]}return r}function ca(e,t){var n=[],r=(1-t)/2,i,s=e[0],o=e[1],u=1,a=e.length;while(++u<a){i=s;s=o;o=e[u];n.push([r*(o[0]-i[0]),r*(o[1]-i[1])])}return n}function ha(e){if(e.length<3)return na(e);var t=1,n=e.length,r=e[0],i=r[0],s=r[1],o=[i,i,i,(r=e[1])[0]],u=[s,s,s,r[1]],a=[i,",",s,"L",ma(ba,o),",",ma(ba,u)];e.push(e[n-1]);while(++t<=n){r=e[t];o.shift();o.push(r[0]);u.shift();u.push(r[1]);wa(a,o,u)}e.pop();a.push("L",r);return a.join("")}function pa(e){if(e.length<4)return na(e);var t=[],n=-1,r=e.length,i,s=[0],o=[0];while(++n<3){i=e[n];s.push(i[0]);o.push(i[1])}t.push(ma(ba,s)+","+ma(ba,o));--n;while(++n<r){i=e[n];s.shift();s.push(i[0]);o.shift();o.push(i[1]);wa(t,s,o)}return t.join("")}function da(e){var t,n=-1,r=e.length,i=r+4,s,o=[],u=[];while(++n<4){s=e[n%r];o.push(s[0]);u.push(s[1])}t=[ma(ba,o),",",ma(ba,u)];--n;while(++n<i){s=e[n%r];o.shift();o.push(s[0]);u.shift();u.push(s[1]);wa(t,o,u)}return t.join("")}function va(e,t){var n=e.length-1;if(n){var r=e[0][0],i=e[0][1],s=e[n][0]-r,o=e[n][1]-i,u=-1,a,f;while(++u<=n){a=e[u];f=u/n;a[0]=t*a[0]+(1-t)*(r+f*s);a[1]=t*a[1]+(1-t)*(i+f*o)}}return ha(e)}function ma(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function wa(e,t,n){e.push("C",ma(ga,t),",",ma(ga,n),",",ma(ya,t),",",ma(ya,n),",",ma(ba,t),",",ma(ba,n))}function Ea(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Sa(e){var t=0,n=e.length-1,r=[],i=e[0],s=e[1],o=r[0]=Ea(i,s);while(++t<n){r[t]=(o+(o=Ea(i=s,s=e[t+1])))/2}r[t]=o;return r}function xa(e){var t=[],n,r,i,s,o=Sa(e),u=-1,a=e.length-1;while(++u<a){n=Ea(e[u],e[u+1]);if(m(n)<yt){o[u]=o[u+1]=0}else{r=o[u]/n;i=o[u+1]/n;s=r*r+i*i;if(s>9){s=n*3/Math.sqrt(s);o[u]=s*r;o[u+1]=s*i}}}u=-1;while(++u<=a){s=(e[Math.min(a,u+1)][0]-e[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u]));t.push([s||0,o[u]*s||0])}return t}function Ta(e){return e.length<3?na(e):e[0]+la(e,xa(e))}function Na(e){var t,n=-1,r=e.length,i,s;while(++n<r){t=e[n];i=t[0];s=t[1]+Ju;t[0]=i*Math.cos(s);t[1]=i*Math.sin(s)}return e}function Ca(e){function c(u){function x(){c.push("M",o(e(p),l),f,a(e(h.reverse()),l),"Z")}var c=[],h=[],p=[],d=-1,v=u.length,m,g=vn(t),y=vn(r),b=t===n?function(){return E}:vn(n),w=r===i?function(){return S}:vn(i),E,S;while(++d<v){if(s.call(this,m=u[d],d)){h.push([E=+g.call(this,m,d),S=+y.call(this,m,d)]);p.push([+b.call(this,m,d),+w.call(this,m,d)])}else if(h.length){x();h=[];p=[]}}if(h.length)x();return c.length?c.join(""):null}var t=Ui,n=Ui,r=0,i=zi,s=Tr,o=na,u=o.key,a=o,f="L",l=.7;c.x=function(e){if(!arguments.length)return n;t=n=e;return c};c.x0=function(e){if(!arguments.length)return t;t=e;return c};c.x1=function(e){if(!arguments.length)return n;n=e;return c};c.y=function(e){if(!arguments.length)return i;r=i=e;return c};c.y0=function(e){if(!arguments.length)return r;r=e;return c};c.y1=function(e){if(!arguments.length)return i;i=e;return c};c.defined=function(e){if(!arguments.length)return s;s=e;return c};c.interpolate=function(e){if(!arguments.length)return u;if(typeof e==="function")u=o=e;else u=(o=ta.get(e)||na).key;a=o.reverse||o;f=o.closed?"M":"L";return c};c.tension=function(e){if(!arguments.length)return l;l=e;return c};return c}function ka(e){return e.radius}function La(e){return[e.x,e.y]}function Aa(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+Ju;return[n*Math.cos(r),n*Math.sin(r)]}}function Oa(){return 64}function Ma(){return"circle"}function _a(e){var t=Math.sqrt(e/vt);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+ -t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ba(e,t){D(e,ja);e.id=t;return e}function Ra(e,t,n,r){var i=e.id;return et(e,typeof n==="function"?function(e,s,o){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,s,o)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Ua(e){if(e==null)e="";return function(){this.textContent=e}}function za(t,n,r,i){var s=t.__transition__||(t.__transition__={active:0,count:0}),o=s[r];if(!o){var u=i.time;o=s[r]={tween:new b,time:u,ease:i.ease,delay:i.delay,duration:i.duration};++s.count;e.timer(function(i){function d(i){if(s.active>r)return m();s.active=r;o.event&&o.event.start.call(t,a,n);o.tween.forEach(function(e,r){if(r=r.call(t,a,n)){p.push(r)}});e.timer(function(){h.c=v(i||1)?Tr:v;return 1},0,u)}function v(e){if(s.active!==r)return m();var i=e/c,u=f(i),l=p.length;while(l>0){p[--l].call(t,u)}if(i>=1){o.event&&o.event.end.call(t,a,n);return m()}}function m(){if(--s.count)delete s[r];else delete t.__transition__;return 1}var a=t.__data__,f=o.ease,l=o.delay,c=o.duration,h=Tn,p=[];h.t=l+u;if(l<=i)return d(i-l);h.c=d},0,u)}}function Va(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function $a(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Za(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ff(e,t,n){function r(t){var n=e(t),r=s(n,1);return t-n<r-t?n:r}function i(n){t(n=e(new Ga(n-1)),1);return n}function s(e,n){t(e=new Ga(+e),n);return e}function o(e,r,s){var o=i(e),u=[];if(s>1){while(o<r){if(!(n(o)%s))u.push(new Date(+o));t(o,1)}}else{while(o<r)u.push(new Date(+o)),t(o,1)}return u}function u(e,t,n){try{Ga=Za;var r=new Za;r._=e;return o(r,t,n)}finally{Ga=Date}}e.floor=e;e.round=r;e.ceil=i;e.offset=s;e.range=o;var a=e.utc=lf(e);a.floor=a;a.round=lf(r);a.ceil=lf(i);a.offset=lf(s);a.range=u;return e}function lf(e){return function(t,n){try{Ga=Za;var r=new Za;r._=t;return e(r,n)._}finally{Ga=Date}}}function cf(e){function n(n){var r=[],i=-1,s=0,o,u,a;while(++i<t){if(e.charCodeAt(i)===37){r.push(e.substring(s,i));if((u=Nf[o=e.charAt(++i)])!=null)o=e.charAt(++i);if(a=Cf[o])o=a(n,u==null?o==="e"?" ":"0":u);r.push(o);s=i+1}}r.push(e.substring(s,i));return r.join("")}var t=e.length;n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=hf(n,e,t,0);if(r!=t.length)return null;if("p"in n)n.H=n.H%12+n.p*12;var i=n.Z!=null&&Ga!==Za,s=new(i?Za:Ga);if("j"in n)s.setFullYear(n.y,0,n.j);else if("w"in n&&("W"in n||"U"in n)){s.setFullYear(n.y,0,1);s.setFullYear(n.y,0,"W"in n?(n.w+6)%7+n.W*7-(s.getDay()+5)%7:n.w+n.U*7-(s.getDay()+6)%7)}else s.setFullYear(n.y,n.m,n.d);s.setHours(n.H+Math.floor(n.Z/100),n.M+n.Z%100,n.S,n.L);return i?s._:s};n.toString=function(){return e};return n}function hf(e,t,n,r){var i,s,o,u=0,a=t.length,f=n.length;while(u<a){if(r>=f)return-1;i=t.charCodeAt(u++);if(i===37){o=t.charAt(u++);s=kf[o in Nf?t.charAt(u++):o];if(!s||(r=s(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++)){return-1}}return r}function pf(t){return new RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function df(e){var t=new b,n=-1,r=e.length;while(++n<r)t.set(e[n].toLowerCase(),n);return t}function vf(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?(new Array(n-s+1)).join(t)+i:i)}function Lf(e,t,n){yf.lastIndex=0;var r=yf.exec(t.substring(n));return r?(e.w=bf.get(r[0].toLowerCase()),n+r[0].length):-1}function Af(e,t,n){mf.lastIndex=0;var r=mf.exec(t.substring(n));return r?(e.w=gf.get(r[0].toLowerCase()),n+r[0].length):-1}function Of(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Mf(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n));return r?(e.U=+r[0],n+r[0].length):-1}function _f(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n));return r?(e.W=+r[0],n+r[0].length):-1}function Df(e,t,n){Sf.lastIndex=0;var r=Sf.exec(t.substring(n));return r?(e.m=xf.get(r[0].toLowerCase()),n+r[0].length):-1}function Pf(e,t,n){wf.lastIndex=0;var r=wf.exec(t.substring(n));return r?(e.m=Ef.get(r[0].toLowerCase()),n+r[0].length):-1}function Hf(e,t,n){return hf(e,Cf.c.toString(),t,n)}function Bf(e,t,n){return hf(e,Cf.x.toString(),t,n)}function jf(e,t,n){return hf(e,Cf.X.toString(),t,n)}function Ff(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function If(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+2));return r?(e.y=Rf(+r[0]),n+r[0].length):-1}function qf(e,t,n){return/^[+-]\d{4}$/.test(t=t.substring(n,n+5))?(e.Z=+t,n+5):-1}function Rf(e){return e+(e>68?1900:2e3)}function Uf(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function zf(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Wf(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function Xf(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Vf(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function $f(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Jf(e,t,n){Kf.lastIndex=0;var r=Kf.exec(t.substring(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Qf(e,t,n){var r=Gf.get(t.substring(n,n+=2).toLowerCase());return r==null?-1:(e.p=r,n)}function Yf(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=~~(m(t)/60),i=m(t)%60;return n+vf(r,"0",2)+vf(i,"0",2)}function Zf(e,t,n){Tf.lastIndex=0;var r=Tf.exec(t.substring(n,n+1));return r?n+r[0].length:-1}function el(e){function n(e){try{Ga=Za;var n=new Ga;n._=e;return t(n)}finally{Ga=Date}}var t=cf(e);n.parse=function(e){try{Ga=Za;var n=t.parse(e);return n&&n._}finally{Ga=Date}};n.toString=t.toString;return n}function nl(e){return e.toISOString()}function rl(t,n,r){function i(e){return t(e)}function s(t,r){var i=t[1]-t[0],s=i/r,o=e.bisect(ol,s);return o==ol.length?[n.year,Lu(t.map(function(e){return e/31536e6}),r)[2]]:!o?[ll,Lu(t,r)[2]]:n[s/ol[o-1]<ol[o]/s?o-1:o]}i.invert=function(e){return il(t.invert(e))};i.domain=function(e){if(!arguments.length)return t.domain().map(il);t.domain(e);return i};i.nice=function(e,t){function u(n){return!isNaN(n)&&!e.range(n,il(+n+1),t).length}var n=i.domain(),r=yu(n),o=e==null?s(r,10):typeof e==="number"&&s(r,e);if(o)e=o[0],t=o[1];return i.domain(Eu(n,t>1?{floor:function(t){while(u(t=e.floor(t)))t=il(t-1);return t},ceil:function(t){while(u(t=e.ceil(t)))t=il(+t+1);return t}}:e))};i.ticks=function(e,t){var n=yu(i.domain()),r=e==null?s(n,10):typeof e==="number"?s(n,e):!e.range&&[{range:e},t];if(r)e=r[0],t=r[1];return e.range(n[0],il(+n[1]+1),t<1?1:t)};i.tickFormat=function(){return r};i.copy=function(){return rl(t.copy(),n,r)};return Cu(i,t)}function il(e){return new Date(e)}function sl(e){return function(t){var n=e.length-1,r=e[n];while(!r[1](t))r=e[--n];return r[0](t)}}function dl(e){return JSON.parse(e.responseText)}function vl(e){var t=r.createRange();t.selectNode(r.body);return t.createContextualFragment(e.responseText)}var e={version:"3.3.9"};if(!Date.now)Date.now=function(){return+(new Date)};var t=[].slice,n=function(e){return t.call(e)};var r=document,i=r.documentElement,s=window;try{n(i.childNodes)[0].nodeType}catch(o){n=function(e){var t=e.length,n=new Array(t);while(t--)n[t]=e[t];return n}}try{r.createElement("div").style.setProperty("opacity",0,"")}catch(u){var a=s.Element.prototype,f=a.setAttribute,l=a.setAttributeNS,c=s.CSSStyleDeclaration.prototype,h=c.setProperty;a.setAttribute=function(e,t){f.call(this,e,t+"")};a.setAttributeNS=function(e,t,n){l.call(this,e,t,n+"")};c.setProperty=function(e,t,n){h.call(this,e,t+"",n)}}e.ascending=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN};e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN};e.min=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&!((i=e[n])!=null&&i<=i))i=undefined;while(++n<r)if((s=e[n])!=null&&i>s)i=s}else{while(++n<r&&!((i=t.call(e,e[n],n))!=null&&i<=i))i=undefined;while(++n<r)if((s=t.call(e,e[n],n))!=null&&i>s)i=s}return i};e.max=function(e,t){var n=-1,r=e.length,i,s;if(arguments.length===1){while(++n<r&&!((i=e[n])!=null&&i<=i))i=undefined;while(++n<r)if((s=e[n])!=null&&s>i)i=s}else{while(++n<r&&!((i=t.call(e,e[n],n))!=null&&i<=i))i=undefined;while(++n<r)if((s=t.call(e,e[n],n))!=null&&s>i)i=s}return i};e.extent=function(e,t){var n=-1,r=e.length,i,s,o;if(arguments.length===1){while(++n<r&&!((i=o=e[n])!=null&&i<=i))i=o=undefined;while(++n<r)if((s=e[n])!=null){if(i>s)i=s;if(o<s)o=s}}else{while(++n<r&&!((i=o=t.call(e,e[n],n))!=null&&i<=i))i=undefined;while(++n<r)if((s=t.call(e,e[n],n))!=null){if(i>s)i=s;if(o<s)o=s}}return[i,o]};e.sum=function(e,t){var n=0,r=e.length,i,s=-1;if(arguments.length===1){while(++s<r)if(!isNaN(i=+e[s]))n+=i}else{while(++s<r)if(!isNaN(i=+t.call(e,e[s],s)))n+=i}return n};e.mean=function(e,t){var n=e.length,r,i=0,s=-1,o=0;if(arguments.length===1){while(++s<n)if(p(r=e[s]))i+=(r-i)/++o}else{while(++s<n)if(p(r=t.call(e,e[s],s)))i+=(r-i)/++o}return o?i:undefined};e.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],s=n-r;return s?i+s*(e[r]-i):i};e.median=function(t,n){if(arguments.length>1)t=t.map(n);t=t.filter(p);return t.length?e.quantile(t.sort(e.ascending),.5):undefined};e.bisector=function(e){return{left:function(t,n,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var s=r+i>>>1;if(e.call(t,t[s],s)<n)r=s+1;else i=s}return r},right:function(t,n,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=t.length;while(r<i){var s=r+i>>>1;if(n<e.call(t,t[s],s))i=s;else r=s+1}return r}}};var d=e.bisector(function(e){return e});e.bisectLeft=d.left;e.bisect=e.bisectRight=d.right;e.shuffle=function(e){var t=e.length,n,r;while(t){r=Math.random()*t--|0;n=e[t],e[t]=e[r],e[r]=n}return e};e.permute=function(e,t){var n=t.length,r=new Array(n);while(n--)r[n]=e[t[n]];return r};e.pairs=function(e){var t=0,n=e.length-1,r,i=e[0],s=new Array(n<0?0:n);while(t<n)s[t]=[r=i,i=e[++t]];return s};e.zip=function(){if(!(s=arguments.length))return[];for(var t=-1,n=e.min(arguments,v),r=new Array(n);++t<n;){for(var i=-1,s,o=r[t]=new Array(s);++i<s;){o[i]=arguments[i][t]}}return r};e.transpose=function(t){return e.zip.apply(e,t)};e.keys=function(e){var t=[];for(var n in e)t.push(n);return t};e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t};e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};e.merge=function(e){var t=e.length,n,r=-1,i=0,s,o;while(++r<t)i+=e[r].length;s=new Array(i);while(--t>=0){o=e[t];n=o.length;while(--n>=0){s[--i]=o[n]}}return s};var m=Math.abs;e.range=function(e,t,n){if(arguments.length<3){n=1;if(arguments.length<2){t=e;e=0}}if((t-e)/n===Infinity)throw new Error("infinite range");var r=[],i=g(m(n)),s=-1,o;e*=i,t*=i,n*=i;if(n<0)while((o=e+n*++s)>t)r.push(o/i);else while((o=e+n*++s)<t)r.push(o/i);return r};e.map=function(e){var t=new b;if(e instanceof b)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t};y(b,{has:function(e){return w+e in this},get:function(e){return this[w+e]},set:function(e,t){return this[w+e]=t},remove:function(e){e=w+e;return e in this&&delete this[e]},keys:function(){var e=[];this.forEach(function(t){e.push(t)});return e},values:function(){var e=[];this.forEach(function(t,n){e.push(n)});return e},entries:function(){var e=[];this.forEach(function(t,n){e.push({key:t,value:n})});return e},forEach:function(e){for(var t in this){if(t.charCodeAt(0)===E){e.call(this,t.substring(1),this[t])}}}});var w="\0",E=w.charCodeAt(0);e.nest=function(){function o(e,r,u){if(u>=n.length)return s?s.call(t,r):i?r.sort(i):r;var a=-1,f=r.length,l=n[u++],c,h,p,d=new b,v;while(++a<f){if(v=d.get(c=l(h=r[a]))){v.push(h)}else{d.set(c,[h])}}if(e){h=e();p=function(t,n){h.set(t,o(e,n,u))}}else{h={};p=function(t,n){h[t]=o(e,n,u)}}d.forEach(p);return h}function u(e,t){if(t>=n.length)return e;var i=[],s=r[t++];e.forEach(function(e,n){i.push({key:e,values:u(n,t)})});return s?i.sort(function(e,t){return s(e.key,t.key)}):i}var t={},n=[],r=[],i,s;t.map=function(e,t){return o(t,e,0)};t.entries=function(t){return u(o(e.map,t,0),0)};t.key=function(e){n.push(e);return t};t.sortKeys=function(e){r[n.length-1]=e;return t};t.sortValues=function(e){i=e;return t};t.rollup=function(e){s=e;return t};return t};e.set=function(e){var t=new S;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t};y(S,{has:function(e){return w+e in this},add:function(e){this[w+e]=true;return e},remove:function(e){e=w+e;return e in this&&delete this[e]},values:function(){var e=[];this.forEach(function(t){e.push(t)});return e},forEach:function(e){for(var t in this){if(t.charCodeAt(0)===E){e.call(this,t.substring(1))}}}});e.behavior={};e.rebind=function(e,t){var n=1,r=arguments.length,i;while(++n<r)e[i=arguments[n]]=x(e,t,t[i]);return e};var N=["webkit","ms","moz","Moz","o","O"];e.dispatch=function(){var e=new k,t=-1,n=arguments.length;while(++t<n)e[arguments[t]]=L(e);return e};k.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0){r=e.substring(n+1);e=e.substring(0,n)}if(e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(arguments.length===2){if(t==null)for(e in this){if(this.hasOwnProperty(e))this[e].on(r,null)}return this}};e.event=null;e.requote=function(e){return e.replace(_,"\\$&")};var _=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var D={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};var H=function(e,t){return t.querySelector(e)},B=function(e,t){return t.querySelectorAll(e)},j=i[T(i,"matchesSelector")],F=function(e,t){return j.call(e,t)};if(typeof Sizzle==="function"){H=function(e,t){return Sizzle(e,t)[0]||null};B=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))};F=Sizzle.matchesSelector}e.selection=function(){return st};var I=e.selection.prototype=[];I.select=function(e){var t=[],n,r,i,s;e=q(e);for(var o=-1,u=this.length;++o<u;){t.push(n=[]);n.parentNode=(i=this[o]).parentNode;for(var a=-1,f=i.length;++a<f;){if(s=i[a]){n.push(r=e.call(s,s.__data__,a,o));if(r&&"__data__"in s)r.__data__=s.__data__}else{n.push(null)}}}return P(t)};I.selectAll=function(e){var t=[],r,i;e=R(e);for(var s=-1,o=this.length;++s<o;){for(var u=this[s],a=-1,f=u.length;++a<f;){if(i=u[a]){t.push(r=n(e.call(i,i.__data__,a,s)));r.parentNode=i}}}return P(t)};var U={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:U,qualify:function(e){var t=e.indexOf(":"),n=e;if(t>=0){n=e.substring(0,t);e=e.substring(t+1)}return U.hasOwnProperty(n)?{space:U[n],local:e}:e}};I.attr=function(t,n){if(arguments.length<2){if(typeof t==="string"){var r=this.node();t=e.ns.qualify(t);return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(z(n,t[n]));return this}return this.each(z(t,n))};I.classed=function(e,t){if(arguments.length<2){if(typeof e==="string"){var n=this.node(),r=(e=e.trim().split(/^|\s+/g)).length,i=-1;if(t=n.classList){while(++i<r)if(!t.contains(e[i]))return false}else{t=n.getAttribute("class");while(++i<r)if(!X(e[i]).test(t))return false}return true}for(t in e)this.each(V(t,e[t]));return this}return this.each(V(e,t))};I.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=="string"){if(r<2)t="";for(n in e)this.each(J(n,e[n],t));return this}if(r<2)return s.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(J(e,t,n))};I.property=function(e,t){if(arguments.length<2){if(typeof e==="string")return this.node()[e];for(t in e)this.each(K(t,e[t]));return this}return this.each(K(e,t))};I.text=function(e){return arguments.length?this.each(typeof e==="function"?function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};I.html=function(e){return arguments.length?this.each(typeof e==="function"?function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};I.append=function(e){e=Q(e);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};I.insert=function(e,t){e=Q(e);t=q(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})};I.remove=function(){return this.each(function(){var e=this.parentNode;if(e)e.removeChild(this)})};I.data=function(e,t){function o(e,n){var r,i=e.length,s=n.length,o=Math.min(i,s),l=new Array(s),c=new Array(s),h=new Array(i),p,d;if(t){var v=new b,m=new b,g=[],y;for(r=-1;++r<i;){y=t.call(p=e[r],p.__data__,r);if(v.has(y)){h[r]=p}else{v.set(y,p)}g.push(y)}for(r=-1;++r<s;){y=t.call(n,d=n[r],r);if(p=v.get(y)){l[r]=p;p.__data__=d}else if(!m.has(y)){c[r]=G(d)}m.set(y,d);v.remove(y)}for(r=-1;++r<i;){if(v.has(g[r])){h[r]=e[r]}}}else{for(r=-1;++r<o;){p=e[r];d=n[r];if(p){p.__data__=d;l[r]=p}else{c[r]=G(d)}}for(;r<s;++r){c[r]=G(n[r])}for(;r<i;++r){h[r]=e[r]}}c.update=l;c.parentNode=l.parentNode=h.parentNode=e.parentNode;u.push(c);a.push(l);f.push(h)}var n=-1,r=this.length,i,s;if(!arguments.length){e=new Array(r=(i=this[0]).length);while(++n<r){if(s=i[n]){e[n]=s.__data__}}return e}var u=tt([]),a=P([]),f=P([]);if(typeof e==="function"){while(++n<r){o(i=this[n],e.call(i,i.parentNode.__data__,n))}}else{while(++n<r){o(i=this[n],e)}}a.enter=function(){return u};a.exit=function(){return f};return a};I.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};I.filter=function(e){var t=[],n,r,i;if(typeof e!=="function")e=Y(e);for(var s=0,o=this.length;s<o;s++){t.push(n=[]);n.parentNode=(r=this[s]).parentNode;for(var u=0,a=r.length;u<a;u++){if((i=r[u])&&e.call(i,i.__data__,u)){n.push(i)}}}return P(t)};I.order=function(){for(var e=-1,t=this.length;++e<t;){for(var n=this[e],r=n.length-1,i=n[r],s;--r>=0;){if(s=n[r]){if(i&&i!==s.nextSibling)i.parentNode.insertBefore(s,i);i=s}}}return this};I.sort=function(e){e=Z.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()};I.each=function(e){return et(this,function(t,n,r){e.call(t,t.__data__,n,r)})};I.call=function(e){var t=n(arguments);e.apply(t[0]=this,t);return this};I.empty=function(){return!this.node()};I.node=function(){for(var e=0,t=this.length;e<t;e++){for(var n=this[e],r=0,i=n.length;r<i;r++){var s=n[r];if(s)return s}}return null};I.size=function(){var e=0;this.each(function(){++e});return e};var nt=[];e.selection.enter=tt;e.selection.enter.prototype=nt;nt.append=I.append;nt.empty=I.empty;nt.node=I.node;nt.call=I.call;nt.size=I.size;nt.select=function(e){var t=[],n,r,i,s,o;for(var u=-1,a=this.length;++u<a;){i=(s=this[u]).update;t.push(n=[]);n.parentNode=s.parentNode;for(var f=-1,l=s.length;++f<l;){if(o=s[f]){n.push(i[f]=r=e.call(s.parentNode,o.__data__,f,u));r.__data__=o.__data__}else{n.push(null)}}}return P(t)};nt.insert=function(e,t){if(arguments.length<2)t=rt(this);return I.insert.call(this,e,t)};I.transition=function(){var e=Ia||++Fa,t=[],n,r,i=qa||{time:Date.now(),ease:Qs,delay:0,duration:250};for(var s=-1,o=this.length;++s<o;){t.push(n=[]);for(var u=this[s],a=-1,f=u.length;++a<f;){if(r=u[a])za(r,a,e,i);n.push(r)}}return Ba(t,e)};I.interrupt=function(){return this.each(it)};e.select=function(e){var t=[typeof e==="string"?H(e,r):e];t.parentNode=i;return P([t])};e.selectAll=function(e){var t=n(typeof e==="string"?B(e,r):e);t.parentNode=i;return P([t])};var st=e.select(i);I.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=="string"){if(r<2)t=false;for(n in e)this.each(ot(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=false}return this.each(ot(e,t,n))};var ut=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});ut.forEach(function(e){if("on"+e in r)ut.remove(e)});var lt="onselectstart"in r?null:T(i.style,"userSelect"),ct=0;e.mouse=function(e){return dt(e,O())};var pt=/WebKit/.test(s.navigator.userAgent)?-1:0;e.touches=function(e,t){if(arguments.length<2)t=O().touches;return t?n(t).map(function(t){var n=dt(e,t);n.identifier=t.identifier;return n}):[]};e.behavior.drag=function(){function o(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function u(){return e.event.changedTouches[0].identifier}function a(t,n){return e.touches(t).filter(function(e){return e.identifier===n})[0]}function f(r,i,o,u){return function(){function b(){var e=i(f,h),t=e[0]-d[0],n=e[1]-d[1];v|=t|n;d=e;l({type:"drag",x:e[0]+m[0],y:e[1]+m[1],dx:t,dy:n})}function w(){g.on(o+"."+p,null).on(u+"."+p,null);y(v&&e.event.target===c);l({type:"dragend"})}var a=this,f=a.parentNode,l=t.of(a,arguments),c=e.event.target,h=r(),p=h==null?"drag":"drag-"+h,d=i(f,h),v=0,m,g=e.select(s).on(o+"."+p,b).on(u+"."+p,w),y=ht();if(n){m=n.apply(a,arguments);m=[m.x-d[0],m.y-d[1]]}else{m=[0,0]}l({type:"dragstart"})}}var t=M(o,"drag","dragstart","dragend"),n=null,r=f(C,e.mouse,"mousemove","mouseup"),i=f(u,a,"touchmove","touchend");o.origin=function(e){if(!arguments.length)return n;n=e;return o};return e.rebind(o,t,"on")};var vt=Math.PI,mt=2*vt,gt=vt/2,yt=1e-6,bt=yt*yt,wt=vt/180,Et=180/vt;var At=Math.SQRT2,Ot=2,Mt=4;e.interpolateZoom=function(e,t){function y(e){var t=e*g;if(m){var s=Ct(d),o=i/(Ot*c)*(s*kt(At*t+d)-Nt(d));return[n+o*a,r+o*f,i*s/Ct(At*t+d)]}return[n+e*a,r+e*f,i*Math.exp(At*t)]}var n=e[0],r=e[1],i=e[2],s=t[0],o=t[1],u=t[2];var a=s-n,f=o-r,l=a*a+f*f,c=Math.sqrt(l),h=(u*u-i*i+Mt*l)/(2*i*Ot*c),p=(u*u-i*i-Mt*l)/(2*u*Ot*c),d=Math.log(Math.sqrt(h*h+1)-h),v=Math.log(Math.sqrt(p*p+1)-p),m=v-d,g=(m||Math.log(u/i))/At;y.duration=g*1e3;return y};e.behavior.zoom=function(){function y(e){e.on(u,k).on(Pt+".zoom",O).on(a,_).on("dblclick.zoom",D).on(c,L)}function b(e){return[(e[0]-t.x)/t.k,(e[1]-t.y)/t.k]}function w(e){return[e[0]*t.k+t.x,e[1]*t.k+t.y]}function E(e){t.k=Math.max(o[0],Math.min(o[1],e))}function S(e,n){n=w(n);t.x+=e[0]-n[0];t.y+=e[1]-n[1]}function x(){if(v)v.domain(d.range().map(function(e){return(e-t.x)/t.k}).map(d.invert));if(g)g.domain(m.range().map(function(e){return(e-t.y)/t.k}).map(m.invert))}function T(e){e({type:"zoomstart"})}function N(e){x();e({type:"zoom",scale:t.k,translate:[t.x,t.y]})}function C(e){e({type:"zoomend"})}function k(){function c(){i=1;S(e.mouse(t),u);N(n)}function h(){o.on(a,s===t?_:null).on(f,null);l(i&&e.event.target===r);C(n)}var t=this,n=p.of(t,arguments),r=e.event.target,i=0,o=e.select(s).on(a,c).on(f,h),u=b(e.mouse(t)),l=ht();it.call(t);T(n)}function L(){function y(){var r=e.touches(n);a=t.k;r.forEach(function(e){if(e.identifier in i)i[e.identifier]=b(e)});return r}function w(){var n=e.event.changedTouches;for(var s=0,u=n.length;s<u;++s){i[n[s].identifier]=null}var a=y(),f=Date.now();if(a.length===1){if(f-h<500){var l=a[0],c=i[l.identifier];E(t.k*2);S(l,c);A();N(r)}h=f}else if(a.length>1){var l=a[0],p=a[1],d=l[0]-p[0],v=l[1]-p[1];o=d*d+v*v}}function x(){var t=e.touches(n),s,u,f,l;for(var c=0,p=t.length;c<p;++c,l=null){f=t[c];if(l=i[f.identifier]){if(u)break;s=f,u=l}}if(l){var d=(d=f[0]-s[0])*d+(d=f[1]-s[1])*d,v=o&&Math.sqrt(d/o);s=[(s[0]+f[0])/2,(s[1]+f[1])/2];u=[(u[0]+l[0])/2,(u[1]+l[1])/2];E(v*a)}h=null;S(s,u);N(r)}function O(){if(e.event.touches.length){var t=e.event.changedTouches;for(var n=0,s=t.length;n<s;++n){delete i[t[n].identifier]}for(var o in i){return void y()}}v.on(l,null).on(d,null);m.on(u,k).on(c,L);g();C(r)}var n=this,r=p.of(n,arguments),i={},o=0,a,f=e.event.changedTouches[0].identifier,l="touchmove.zoom-"+f,d="touchend.zoom-"+f,v=e.select(s).on(l,x).on(d,O),m=e.select(n).on(u,null).on(c,w),g=ht();it.call(n);w();T(r)}function O(){var i=p.of(this,arguments);if(l)clearTimeout(l);else it.call(this),T(i);l=setTimeout(function(){l=null;C(i)},50);A();var s=r||e.mouse(this);if(!n)n=b(s);E(Math.pow(2,Dt()*.002)*t.k);S(s,n);N(i)}function _(){n=null}function D(){var n=p.of(this,arguments),r=e.mouse(this),i=b(r),s=Math.log(t.k)/Math.LN2;T(n);E(Math.pow(2,e.event.shiftKey?Math.ceil(s)-1:Math.floor(s)+1));S(r,i);N(n);C(n)}var t={x:0,y:0,k:1},n,r,i=[960,500],o=_t,u="mousedown.zoom",a="mousemove.zoom",f="mouseup.zoom",l,c="touchstart.zoom",h,p=M(y,"zoomstart","zoom","zoomend"),d,v,m,g;y.event=function(n){n.each(function(){var n=p.of(this,arguments),r=t;if(Ia){e.select(this).transition().each("start.zoom",function(){t=this.__chart__||{x:0,y:0,k:1};T(n)}).tween("zoom:zoom",function(){var s=i[0],o=i[1],u=s/2,a=o/2,f=e.interpolateZoom([(u-t.x)/t.k,(a-t.y)/t.k,s/t.k],[(u-r.x)/r.k,(a-r.y)/r.k,s/r.k]);return function(e){var r=f(e),i=s/r[2];this.__chart__=t={x:u-r[0]*i,y:a-r[1]*i,k:i};N(n)}}).each("end.zoom",function(){C(n)})}else{this.__chart__=t;T(n);N(n);C(n)}})};y.translate=function(e){if(!arguments.length)return[t.x,t.y];t={x:+e[0],y:+e[1],k:t.k};x();return y};y.scale=function(e){if(!arguments.length)return t.k;t={x:t.x,y:t.y,k:+e};x();return y};y.scaleExtent=function(e){if(!arguments.length)return o;o=e==null?_t:[+e[0],+e[1]];return y};y.center=function(e){if(!arguments.length)return r;r=e&&[+e[0],+e[1]];return y};y.size=function(e){if(!arguments.length)return i;i=e&&[+e[0],+e[1]];return y};y.x=function(e){if(!arguments.length)return v;v=e;d=e.copy();t={x:0,y:0,k:1};return y};y.y=function(e){if(!arguments.length)return g;g=e;m=e.copy();t={x:0,y:0,k:1};return y};return e.rebind(y,p,"on")};var _t=[0,Infinity];var Dt,Pt="onwheel"in r?(Dt=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in r?(Dt=function(){return e.event.wheelDelta},"mousewheel"):(Dt=function(){return-e.event.detail},"MozMousePixelScroll");Ht.prototype.toString=function(){return this.rgb()+""};e.hsl=function(e,t,n){return arguments.length===1?e instanceof jt?Bt(e.h,e.s,e.l):fn(""+e,ln,Bt):Bt(+e,+t,+n)};var Ft=jt.prototype=new Ht;Ft.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);return Bt(this.h,this.s,this.l/e)};Ft.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return Bt(this.h,this.s,e*this.l)};Ft.rgb=function(){return It(this.h,this.s,this.l)};e.hcl=function(t,n,r){return arguments.length===1?t instanceof Rt?qt(t.h,t.c,t.l):t instanceof Xt?Yt(t.l,t.a,t.b):Yt((t=cn((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):qt(+t,+n,+r)};var Ut=Rt.prototype=new Ht;Ut.brighter=function(e){return qt(this.h,this.c,Math.min(100,this.l+Vt*(arguments.length?e:1)))};Ut.darker=function(e){return qt(this.h,this.c,Math.max(0,this.l-Vt*(arguments.length?e:1)))};Ut.rgb=function(){return zt(this.h,this.c,this.l).rgb()};e.lab=function(t,n,r){return arguments.length===1?t instanceof Xt?Wt(t.l,t.a,t.b):t instanceof Rt?zt(t.l,t.c,t.h):cn((t=e.rgb(t)).r,t.g,t.b):Wt(+t,+n,+r)};var Vt=18;var $t=.95047,Jt=1,Kt=1.08883;var Qt=Xt.prototype=new Ht;Qt.brighter=function(e){return Wt(Math.min(100,this.l+Vt*(arguments.length?e:1)),this.a,this.b)};Qt.darker=function(e){return Wt(Math.max(0,this.l-Vt*(arguments.length?e:1)),this.a,this.b)};Qt.rgb=function(){return Gt(this.l,this.a,this.b)};e.rgb=function(e,t,n){return arguments.length===1?e instanceof on?sn(e.r,e.g,e.b):fn(""+e,sn,It):sn(~~e,~~t,~~n)};var un=on.prototype=new Ht;un.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;if(!t&&!n&&!r)return sn(i,i,i);if(t&&t<i)t=i;if(n&&n<i)n=i;if(r&&r<i)r=i;return sn(Math.min(255,~~(t/e)),Math.min(255,~~(n/e)),Math.min(255,~~(r/e)))};un.darker=function(e){e=Math.pow(.7,arguments.length?e:1);return sn(~~(e*this.r),~~(e*this.g),~~(e*this.b))};un.hsl=function(){return ln(this.r,this.g,this.b)};un.toString=function(){return"#"+an(this.r)+an(this.g)+an(this.b)};var dn=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});dn.forEach(function(e,t){dn.set(e,nn(t))});e.functor=vn;e.xhr=gn(mn);e.dsv=function(t,n){function s(t,r,i){if(arguments.length<3)i=r,r=null;var s=e.xhr(t,n,i);s.row=function(e){return arguments.length?s.response((r=e)==null?o:u(e)):r};return s.row(r)}function o(e){return s.parse(e.responseText)}function u(e){return function(t){return s.parse(t.responseText,e)}}function a(e){return e.map(f).join(t)}function f(e){return r.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var r=new RegExp('["'+t+"\n]"),i=t.charCodeAt(0);s.parse=function(e,t){var n;return s.parseRows(e,function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i})};s.parseRows=function(e,t){function c(){if(u>=o)return r;if(l)return l=false,n;var t=u;if(e.charCodeAt(t)===34){var s=t;while(s++<o){if(e.charCodeAt(s)===34){if(e.charCodeAt(s+1)!==34)break;++s}}u=s+2;var a=e.charCodeAt(s+1);if(a===13){l=true;if(e.charCodeAt(s+2)===10)++u}else if(a===10){l=true}return e.substring(t+1,s).replace(/""/g,'"')}while(u<o){var a=e.charCodeAt(u++),f=1;if(a===10)l=true;else if(a===13){l=true;if(e.charCodeAt(u)===10)++u,++f}else if(a!==i)continue;return e.substring(t,u-f)}return e.substring(t)}var n={},r={},s=[],o=e.length,u=0,a=0,f,l;while((f=c())!==r){var h=[];while(f!==n&&f!==r){h.push(f);f=c()}if(t&&!(h=t(h,a++)))continue;s.push(h)}return s};s.format=function(e){if(Array.isArray(e[0]))return s.formatRows(e);var n=new S,r=[];e.forEach(function(e){for(var t in e){if(!n.has(t)){r.push(n.add(t))}}});return[r.map(f).join(t)].concat(e.map(function(e){return r.map(function(t){return f(e[t])}).join(t)})).join("\n")};s.formatRows=function(e){return e.map(a).join("\n")};return s};e.csv=e.dsv(",","text/csv");e.tsv=e.dsv("	","text/tab-separated-values");var wn,En,Sn,xn,Tn,Nn=s[T(s,"requestAnimationFrame")]||function(e){setTimeout(e,17)};e.timer=function(e,t,n){var r=arguments.length;if(r<2)t=0;if(r<3)n=Date.now();var i=n+t,s={c:e,t:i,f:false,n:null};if(En)En.n=s;else wn=s;En=s;if(!Sn){xn=clearTimeout(xn);Sn=1;Nn(Cn)}};e.timer.flush=function(){kn();Ln()};var An=".",On=",",Mn=[3,3],_n="$";var Dn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pn);e.formatPrefix=function(t,n){var r=0;if(t){if(t<0)t*=-1;if(n)t=e.round(t,jn(t,n));r=1+Math.floor(1e-12+Math.log(t)/Math.LN10);r=Math.max(-24,Math.min(24,Math.floor((r<=0?r+1:r-1)/3)*3))}return Dn[8+r/3]};e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};e.format=function(t){var n=Hn.exec(t),r=n[1]||" ",i=n[2]||">",s=n[3]||"",o=n[4]||"",u=n[5],a=+n[6],f=n[7],l=n[8],c=n[9],h=1,p="",d=false;if(l)l=+l.substring(1);if(u||r==="0"&&i==="="){u=r="0";i="=";if(f)a-=Math.floor((a-1)/4)}switch(c){case"n":f=true;c="g";break;case"%":h=100;p="%";c="f";break;case"p":h=100;p="%";c="r";break;case"b":case"o":case"x":case"X":if(o==="#")o="0"+c.toLowerCase();case"c":case"d":d=true;l=0;break;case"s":h=-1;c="r";break}if(o==="#")o="";else if(o==="$")o=_n;if(c=="r"&&!l)c="g";if(l!=null){if(c=="g")l=Math.max(1,Math.min(21,l));else if(c=="e"||c=="f")l=Math.max(0,Math.min(20,l))}c=Bn.get(c)||Fn;var v=u&&f;return function(t){if(d&&t%1)return"";var n=t<0||t===0&&1/t<0?(t=-t,"-"):s;if(h<0){var m=e.formatPrefix(t,l);t=m.scale(t);p=m.symbol}else{t*=h}t=c(t,l);var g=t.lastIndexOf("."),y=g<0?t:t.substring(0,g),b=g<0?"":An+t.substring(g+1);if(!u&&f)y=In(y);var w=o.length+y.length+b.length+(v?0:n.length),E=w<a?(new Array(w=a-w+1)).join(r):"";if(v)y=In(E+y);n+=o;t=y+b;return(i==="<"?n+t+E:i===">"?E+n+t:i==="^"?E.substring(0,w>>=1)+n+t+E.substring(w):n+(v?t:E+t))+p}};var Hn=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var Bn=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,jn(t,n))).toFixed(Math.max(0,Math.min(20,jn(t*(1+1e-15),n))))}});var In=mn;if(Mn){var qn=Mn.length;In=function(e){var t=e.length,n=[],r=0,i=Mn[0];while(t>0&&i>0){n.push(e.substring(t-=i,t+i));i=Mn[r=(r+1)%qn]}return n.reverse().join(On)}}e.geo={};Rn.prototype={s:0,t:0,add:function(e){zn(e,this.t,Un);zn(Un.s,this.s,this);if(this.s)this.t+=Un.t;else this.s=Un.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Un=new Rn;e.geo.stream=function(e,t){if(e&&Xn.hasOwnProperty(e.type)){Xn[e.type](e,t)}else{Wn(e,t)}};var Xn={Feature:function(e,t){Wn(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,i=n.length;while(++r<i)Wn(n[r].geometry,t)}};var Vn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates;t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){$n(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)$n(n[r],t,0)},Polygon:function(e,t){Jn(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,i=n.length;while(++r<i)Jn(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,i=n.length;while(++r<i)Wn(n[r],t)}};e.geo.area=function(t){Kn=0;e.geo.stream(t,Gn);return Kn};var Kn,Qn=new Rn;var Gn={sphere:function(){Kn+=4*vt},point:C,lineStart:C,lineEnd:C,polygonStart:function(){Qn.reset();Gn.lineStart=Yn},polygonEnd:function(){var e=2*Qn;Kn+=e<0?4*vt+e:e;Gn.lineStart=Gn.lineEnd=Gn.point=C}};e.geo.bounds=function(){function p(e,s){l.push(c=[t=e,r=e]);if(s<n)n=s;if(s>i)i=s}function d(e,o){var u=Zn([e*wt,o*wt]);if(a){var f=tr(a,u),l=[f[1],-f[0],0],c=tr(l,f);ir(c);c=sr(c);var h=e-s,d=h>0?1:-1,v=c[0]*Et*d,g=m(h)>180;if(g^(d*s<v&&v<d*e)){var y=c[1]*Et;if(y>i)i=y}else if(v=(v+360)%360-180,g^(d*s<v&&v<d*e)){var y=-c[1]*Et;if(y<n)n=y}else{if(o<n)n=o;if(o>i)i=o}if(g){if(e<s){if(E(t,e)>E(t,r))r=e}else{if(E(e,r)>E(t,r))t=e}}else{if(r>=t){if(e<t)t=e;if(e>r)r=e}else{if(e>s){if(E(t,e)>E(t,r))r=e}else{if(E(e,r)>E(t,r))t=e}}}}else{p(e,o)}a=u,s=e}function v(){h.point=d}function g(){c[0]=t,c[1]=r;h.point=p;a=null}function y(e,t){if(a){var n=e-s;f+=m(n)>180?n+(n>0?360:-360):n}else o=e,u=t;Gn.point(e,t);d(e,t)}function b(){Gn.lineStart()}function w(){y(o,u);Gn.lineEnd();if(m(f)>yt)t=-(r=180);c[0]=t,c[1]=r;a=null}function E(e,t){return(t-=e)<0?t+360:t}function S(e,t){return e[0]-t[0]}function x(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var t,n,r,i,s,o,u,a,f,l,c;var h={point:p,lineStart:v,lineEnd:g,polygonStart:function(){h.point=y;h.lineStart=b;h.lineEnd=w;f=0;Gn.polygonStart()},polygonEnd:function(){Gn.polygonEnd();h.point=p;h.lineStart=v;h.lineEnd=g;if(Qn<0)t=-(r=180),n=-(i=90);else if(f>yt)i=90;else if(f<-yt)n=-90;c[0]=t,c[1]=r}};return function(s){i=r=-(t=n=Infinity);l=[];e.geo.stream(s,h);var o=l.length;if(o){l.sort(S);for(var u=1,a=l[0],f,p=[a];u<o;++u){f=l[u];if(x(f[0],a)||x(f[1],a)){if(E(a[0],f[1])>E(a[0],a[1]))a[1]=f[1];if(E(f[0],a[1])>E(a[0],a[1]))a[0]=f[0]}else{p.push(a=f)}}var d=-Infinity,v;for(var o=p.length-1,u=0,a=p[o],f;u<=o;a=f,++u){f=p[u];if((v=E(a[1],f[0]))>d)d=v,t=f[0],r=a[1]}}l=c=null;return t===Infinity||n===Infinity?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,i]]}}();e.geo.centroid=function(t){ur=ar=fr=lr=cr=hr=pr=dr=vr=mr=gr=0;e.geo.stream(t,yr);var n=vr,r=mr,i=gr,s=n*n+r*r+i*i;if(s<bt){n=hr,r=pr,i=dr;if(ar<yt)n=fr,r=lr,i=cr;s=n*n+r*r+i*i;if(s<bt)return[NaN,NaN]}return[Math.atan2(r,n)*Et,Tt(i/Math.sqrt(s))*Et]};var ur,ar,fr,lr,cr,hr,pr,dr,vr,mr,gr;var yr={sphere:C,point:br,lineStart:Er,lineEnd:Sr,polygonStart:function(){yr.lineStart=xr},polygonEnd:function(){yr.lineStart=Er}};var Dr=Lr(Tr,Pr,Br,[-vt,-vt/2]);var Ir=1e9;e.geo.clipExtent=function(){var e,t,n,r,i,s,o={stream:function(e){if(i)i.valid=false;i=s(e);i.valid=true;return i},extent:function(u){if(!arguments.length)return[[e,t],[n,r]];s=qr(e=+u[0][0],t=+u[0][1],n=+u[1][0],r=+u[1][1]);if(i)i.valid=false,i=null;return o}};return o.extent([[0,0],[960,500]])};(e.geo.conicEqualArea=function(){return Ur(zr)}).raw=zr;e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};e.geo.albersUsa=function(){function f(e){var t=e[0],n=e[1];i=null;(o(t,n),i)||(u(t,n),i)||a(t,n);return i}var t=e.geo.albers();var n=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var r=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var i,s={point:function(e,t){i=[e,t]}},o,u,a;f.invert=function(e){var i=t.scale(),s=t.translate(),o=(e[0]-s[0])/i,u=(e[1]-s[1])/i;return(u>=.12&&u<.234&&o>=-.425&&o<-.214?n:u>=.166&&u<.234&&o>=-.214&&o<-.115?r:t).invert(e)};f.stream=function(e){var i=t.stream(e),s=n.stream(e),o=r.stream(e);return{point:function(e,t){i.point(e,t);s.point(e,t);o.point(e,t)},sphere:function(){i.sphere();s.sphere();o.sphere()},lineStart:function(){i.lineStart();s.lineStart();o.lineStart()},lineEnd:function(){i.lineEnd();s.lineEnd();o.lineEnd()},polygonStart:function(){i.polygonStart();s.polygonStart();o.polygonStart()},polygonEnd:function(){i.polygonEnd();s.polygonEnd();o.polygonEnd()}}};f.precision=function(e){if(!arguments.length)return t.precision();t.precision(e);n.precision(e);r.precision(e);return f};f.scale=function(e){if(!arguments.length)return t.scale();t.scale(e);n.scale(e*.35);r.scale(e);return f.translate(t.translate())};f.translate=function(e){if(!arguments.length)return t.translate();var i=t.scale(),l=+e[0],c=+e[1];o=t.translate(e).clipExtent([[l-.455*i,c-.238*i],[l+.455*i,c+.238*i]]).stream(s).point;u=n.translate([l-.307*i,c+.201*i]).clipExtent([[l-.425*i+yt,c+.12*i+yt],[l-.214*i-yt,c+.234*i-yt]]).stream(s).point;a=r.translate([l-.205*i,c+.212*i]).clipExtent([[l-.214*i+yt,c+.166*i+yt],[l-.115*i-yt,c+.234*i-yt]]).stream(s).point;return f};return f.scale(1070)};var Wr,Xr,Vr={point:C,lineStart:C,lineEnd:C,polygonStart:function(){Xr=0;Vr.lineStart=$r},polygonEnd:function(){Vr.lineStart=Vr.lineEnd=Vr.point=C;Wr+=m(Xr/2)}};var Jr,Kr,Qr,Gr;var Yr={point:Zr,lineStart:C,lineEnd:C,polygonStart:C,polygonEnd:C};var ni={point:ri,lineStart:ii,lineEnd:si,polygonStart:function(){ni.lineStart=oi},polygonEnd:function(){ni.point=ri;ni.lineStart=ii;ni.lineEnd=si}};e.geo.path=function(){function u(n){if(n){if(typeof t==="function")s.pointRadius(+t.apply(this,arguments));if(!o||!o.valid)o=i(s);e.geo.stream(n,o)}return s.result()}function a(){o=null;return u}var t=4.5,n,r,i,s,o;u.area=function(t){Wr=0;e.geo.stream(t,i(Vr));return Wr};u.centroid=function(t){fr=lr=cr=hr=pr=dr=vr=mr=gr=0;e.geo.stream(t,i(ni));return gr?[vr/gr,mr/gr]:dr?[hr/dr,pr/dr]:cr?[fr/cr,lr/cr]:[NaN,NaN]};u.bounds=function(t){Qr=Gr=-(Jr=Kr=Infinity);e.geo.stream(t,i(Yr));return[[Jr,Kr],[Qr,Gr]]};u.projection=function(e){if(!arguments.length)return n;i=(n=e)?e.stream||fi(e):mn;return a()};u.context=function(e){if(!arguments.length)return r;s=(r=e)==null?new ei:new ui(e);if(typeof t!=="function")s.pointRadius(t);return a()};u.pointRadius=function(e){if(!arguments.length)return t;t=typeof e==="function"?e:(s.pointRadius(+e),+e);return u};return u.projection(e.geo.albersUsa()).context(null)};e.geo.transform=function(e){return{stream:function(t){var n=new li(t);for(var r in e)n[r]=e[r];return n}}};li.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};e.geo.projection=hi;e.geo.projectionMutator=pi;(e.geo.equirectangular=function(){return hi(vi)}).raw=vi.invert=vi;e.geo.rotation=function(e){function t(t){t=e(t[0]*wt,t[1]*wt);return t[0]*=Et,t[1]*=Et,t}e=gi(e[0]%360*wt,e[1]*wt,e.length>2?e[2]*wt:0);t.invert=function(t){t=e.invert(t[0]*wt,t[1]*wt);return t[0]*=Et,t[1]*=Et,t};return t};mi.invert=vi;e.geo.circle=function(){function i(){var t=typeof e==="function"?e.apply(this,arguments):e,n=gi(-t[0]*wt,-t[1]*wt,0).invert,i=[];r(null,null,1,{point:function(e,t){i.push(e=n(e,t));e[0]*=Et,e[1]*=Et}});return{type:"Polygon",coordinates:[i]}}var e=[0,0],t,n=6,r;i.origin=function(t){if(!arguments.length)return e;e=t;return i};i.angle=function(e){if(!arguments.length)return t;r=Ei((t=+e)*wt,n*wt);return i};i.precision=function(e){if(!arguments.length)return n;r=Ei(t*wt,(n=+e)*wt);return i};return i.angle(90)};e.geo.distance=function(e,t){var n=(t[0]-e[0])*wt,r=e[1]*wt,i=t[1]*wt,s=Math.sin(n),o=Math.cos(n),u=Math.sin(r),a=Math.cos(r),f=Math.sin(i),l=Math.cos(i),c;return Math.atan2(Math.sqrt((c=l*s)*c+(c=a*f-u*l*o)*c),u*f+a*l*o)};e.geo.graticule=function(){function b(){return{type:"MultiLineString",coordinates:w()}}function w(){return e.range(Math.ceil(i/c)*c,r,c).map(v).concat(e.range(Math.ceil(a/h)*h,u,h).map(g)).concat(e.range(Math.ceil(n/f)*f,t,f).filter(function(e){return m(e%c)>yt}).map(p)).concat(e.range(Math.ceil(o/l)*l,s,l).filter(function(e){return m(e%h)>yt}).map(d))}var t,n,r,i,s,o,u,a,f=10,l=f,c=90,h=360,p,d,v,g,y=2.5;b.lines=function(){return w().map(function(e){return{type:"LineString",coordinates:e}})};b.outline=function(){return{type:"Polygon",coordinates:[v(i).concat(g(u).slice(1),v(r).reverse().slice(1),g(a).reverse().slice(1))]}};b.extent=function(e){if(!arguments.length)return b.minorExtent();return b.majorExtent(e).minorExtent(e)};b.majorExtent=function(e){if(!arguments.length)return[[i,a],[r,u]];i=+e[0][0],r=+e[1][0];a=+e[0][1],u=+e[1][1];if(i>r)e=i,i=r,r=e;if(a>u)e=a,a=u,u=e;return b.precision(y)};b.minorExtent=function(e){if(!arguments.length)return[[n,o],[t,s]];n=+e[0][0],t=+e[1][0];o=+e[0][1],s=+e[1][1];if(n>t)e=n,n=t,t=e;if(o>s)e=o,o=s,s=e;return b.precision(y)};b.step=function(e){if(!arguments.length)return b.minorStep();return b.majorStep(e).minorStep(e)};b.majorStep=function(e){if(!arguments.length)return[c,h];c=+e[0],h=+e[1];return b};b.minorStep=function(e){if(!arguments.length)return[f,l];f=+e[0],l=+e[1];return b};b.precision=function(e){if(!arguments.length)return y;y=+e;p=xi(o,s,90);d=Ti(n,t,y);v=xi(a,u,90);g=Ti(i,r,y);return b};return b.majorExtent([[-180,-90+yt],[180,90-yt]]).minorExtent([[-180,-80-yt],[180,80+yt]])};e.geo.greatArc=function(){function s(){return{type:"LineString",coordinates:[n||t.apply(this,arguments),i||r.apply(this,arguments)]}}var t=Ni,n,r=Ci,i;s.distance=function(){return e.geo.distance(n||t.apply(this,arguments),i||r.apply(this,arguments))};s.source=function(e){if(!arguments.length)return t;t=e,n=typeof e==="function"?null:e;return s};s.target=function(e){if(!arguments.length)return r;r=e,i=typeof e==="function"?null:e;return s};s.precision=function(){return arguments.length?s:0};return s};e.geo.interpolate=function(e,t){return ki(e[0]*wt,e[1]*wt,t[0]*wt,t[1]*wt)};e.geo.length=function(t){Li=0;e.geo.stream(t,Ai);return Li};var Li;var Ai={sphere:C,point:C,lineStart:Oi,lineEnd:C,polygonStart:C,polygonEnd:C};var _i=Mi(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(e.geo.azimuthalEqualArea=function(){return hi(_i)}).raw=_i;var Di=Mi(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},mn);(e.geo.azimuthalEquidistant=function(){return hi(Di)}).raw=Di;(e.geo.conicConformal=function(){return Ur(Pi)}).raw=Pi;(e.geo.conicEquidistant=function(){return Ur(Hi)}).raw=Hi;var Bi=Mi(function(e){return 1/e},Math.atan);(e.geo.gnomonic=function(){return hi(Bi)}).raw=Bi;ji.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-gt]};(e.geo.mercator=function(){return Fi(ji)}).raw=ji;var Ii=Mi(function(){return 1},Math.asin);(e.geo.orthographic=function(){return hi(Ii)}).raw=Ii;var qi=Mi(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(e.geo.stereographic=function(){return hi(qi)}).raw=qi;Ri.invert=function(e,t){return[Math.atan2(Nt(e),Math.cos(t)),Tt(Math.sin(t)/Ct(e))]};(e.geo.transverseMercator=function(){return Fi(Ri)}).raw=Ri;e.geom={};e.geom.hull=function(e){function r(e){if(e.length<3)return[];var r=vn(t),i=vn(n),s=e.length,o,u=s-1,a=[],f=[],l,c,h,p=0,d,v,m,g,y,b,w,E;if(r===Ui&&n===zi)o=e;else for(c=0,o=[];c<s;++c){o.push([+r.call(this,l=e[c],c),+i.call(this,l,c)])}for(c=1;c<s;++c){if(o[c][1]<o[p][1]||o[c][1]==o[p][1]&&o[c][0]<o[p][0])p=c}for(c=0;c<s;++c){if(c===p)continue;v=o[c][1]-o[p][1];d=o[c][0]-o[p][0];a.push({angle:Math.atan2(v,d),index:c})}a.sort(function(e,t){return e.angle-t.angle});w=a[0].angle;b=a[0].index;y=0;for(c=1;c<u;++c){h=a[c].index;if(w==a[c].angle){d=o[b][0]-o[p][0];v=o[b][1]-o[p][1];m=o[h][0]-o[p][0];g=o[h][1]-o[p][1];if(d*d+v*v>=m*m+g*g){a[c].index=-1;continue}else{a[y].index=-1}}w=a[c].angle;y=c;b=h}f.push(p);for(c=0,h=0;c<2;++h){if(a[h].index>-1){f.push(a[h].index);c++}}E=f.length;for(;h<u;++h){if(a[h].index<0)continue;while(!Wi(f[E-2],f[E-1],a[h].index,o)){--E}f[E++]=a[h].index}var S=[];for(c=E-1;c>=0;--c)S.push(e[f[c]]);return S}var t=Ui,n=zi;if(arguments.length)return r(e);r.x=function(e){return arguments.length?(t=e,r):t};r.y=function(e){return arguments.length?(n=e,r):n};return r};e.geom.polygon=function(e){D(e,Xi);return e};var Xi=e.geom.polygon.prototype=[];Xi.area=function(){var e=-1,t=this.length,n,r=this[t-1],i=0;while(++e<t){n=r;r=this[e];i+=n[1]*r[0]-n[0]*r[1]}return i*.5};Xi.centroid=function(e){var t=-1,n=this.length,r=0,i=0,s,o=this[n-1],u;if(!arguments.length)e=-1/(6*this.area());while(++t<n){s=o;o=this[t];u=s[0]*o[1]-o[0]*s[1];r+=(s[0]+o[0])*u;i+=(s[1]+o[1])*u}return[r*e,i*e]};Xi.clip=function(e){var t,n=Ji(e),r=-1,i=this.length-Ji(this),s,o,u=this[i-1],a,f,l;while(++r<i){t=e.slice();e.length=0;a=this[r];f=t[(o=t.length-n)-1];s=-1;while(++s<o){l=t[s];if(Vi(l,u,a)){if(!Vi(f,u,a)){e.push($i(f,l,u,a))}e.push(l)}else if(Vi(f,u,a)){e.push($i(f,l,u,a))}f=l}if(n)e.push(e[0]);u=a}return e};var Ki,Qi,Gi,Yi=[],Zi,es,ts=[];fs.prototype.prepare=function(){var e=this.edges,t=e.length,n;while(t--){n=e[t].edge;if(!n.b||!n.a)e.splice(t,1)}e.sort(cs);return e.length};Es.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};Ss.prototype={insert:function(e,t){var n,r,i;if(e){t.P=e;t.N=e.N;if(e.N)e.N.P=t;e.N=t;if(e.R){e=e.R;while(e.L)e=e.L;e.L=t}else{e.R=t}n=e}else if(this._){e=Cs(this._);t.P=null;t.N=e;e.P=e.L=t;n=e}else{t.P=t.N=null;this._=t;n=null}t.L=t.R=null;t.U=n;t.C=true;e=t;while(n&&n.C){r=n.U;if(n===r.L){i=r.R;if(i&&i.C){n.C=i.C=false;r.C=true;e=r}else{if(e===n.R){Ts(this,n);e=n;n=e.U}n.C=false;r.C=true;Ns(this,r)}}else{i=r.L;if(i&&i.C){n.C=i.C=false;r.C=true;e=r}else{if(e===n.L){Ns(this,n);e=n;n=e.U}n.C=false;r.C=true;Ts(this,r)}}n=e.U}this._.C=false},remove:function(e){if(e.N)e.N.P=e.P;if(e.P)e.P.N=e.N;e.N=e.P=null;var t=e.U,n,r=e.L,i=e.R,s,o;if(!r)s=i;else if(!i)s=r;else s=Cs(i);if(t){if(t.L===e)t.L=s;else t.R=s}else{this._=s}if(r&&i){o=s.C;s.C=e.C;s.L=r;r.U=s;if(s!==i){t=s.U;s.U=e.U;e=s.R;t.L=e;s.R=i;i.U=s}else{s.U=t;t=s;e=s.R}}else{o=e.C;e=s}if(e)e.U=t;if(o)return;if(e&&e.C){e.C=false;return}do{if(e===this._)break;if(e===t.L){n=t.R;if(n.C){n.C=false;t.C=true;Ts(this,t);n=t.R}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.R||!n.R.C){n.L.C=false;n.C=true;Ns(this,n);n=t.R}n.C=t.C;t.C=n.R.C=false;Ts(this,t);e=this._;break}}else{n=t.L;if(n.C){n.C=false;t.C=true;Ns(this,t);n=t.L}if(n.L&&n.L.C||n.R&&n.R.C){if(!n.L||!n.L.C){n.R.C=false;n.C=true;Ts(this,n);n=t.L}n.C=t.C;t.C=n.L.C=false;Ns(this,t);e=this._;break}}n.C=true;e=t;t=t.U}while(!e.C);if(e)e.C=false}};e.geom.voronoi=function(e){function o(e){var t=new Array(e.length),n=s[0][0],r=s[0][1],i=s[1][0],o=s[1][1];ks(u(e),s).cells.forEach(function(s,u){var a=s.edges,f=s.site,l=t[u]=a.length?a.map(function(e){var t=e.start();return[t.x,t.y]}):f.x>=n&&f.x<=i&&f.y>=r&&f.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];l.point=e[u]});return t}function u(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/yt)*yt,y:Math.round(i(e,t)/yt)*yt,i:t}})}var t=Ui,n=zi,r=t,i=n,s=As;if(e)return o(e);o.links=function(e){return ks(u(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})};o.triangles=function(e){var t=[];ks(u(e)).cells.forEach(function(n,r){var i=n.site,s=n.edges.sort(cs),o=-1,u=s.length,a,f,l=s[u-1].edge,c=l.l===i?l.r:l.l;while(++o<u){a=l;f=c;l=s[o].edge;c=l.l===i?l.r:l.l;if(r<f.i&&r<c.i&&Os(i,f,c)<0){t.push([e[r],e[f.i],e[c.i]])}}});return t};o.x=function(e){return arguments.length?(r=vn(t=e),o):t};o.y=function(e){return arguments.length?(i=vn(n=e),o):n};o.clipExtent=function(e){if(!arguments.length)return s===As?null:s;s=e==null?As:e;return o};o.size=function(e){if(!arguments.length)return s===As?null:s&&s[1];return o.clipExtent(e&&[[0,0],e])};return o};var As=[[-1e6,-1e6],[1e6,1e6]];e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)};e.geom.quadtree=function(e,t,n,r,i){function a(e){function T(e,t,n,r,i,s,o,u){if(isNaN(n)||isNaN(r))return;if(e.leaf){var a=e.x,f=e.y;if(a!=null){if(m(a-n)+m(f-r)<.01){N(e,t,n,r,i,s,o,u)}else{var l=e.point;e.x=e.y=e.point=null;N(e,l,a,f,i,s,o,u);N(e,t,n,r,i,s,o,u)}}else{e.x=n,e.y=r,e.point=t}}else{N(e,t,n,r,i,s,o,u)}}function N(e,t,n,r,i,s,o,u){var a=(i+o)*.5,f=(s+u)*.5,l=n>=a,c=r>=f,h=(c<<1)+l;e.leaf=false;e=e.nodes[h]||(e.nodes[h]=Ds());if(l)i=a;else o=a;if(c)s=f;else u=f;T(e,t,n,r,i,s,o,u)}var a,f=vn(s),l=vn(o),c,h,p,d,v,g,y,b;if(t!=null){v=t,g=n,y=r,b=i}else{y=b=-(v=g=Infinity);c=[],h=[];d=e.length;if(u)for(p=0;p<d;++p){a=e[p];if(a.x<v)v=a.x;if(a.y<g)g=a.y;if(a.x>y)y=a.x;if(a.y>b)b=a.y;c.push(a.x);h.push(a.y)}else for(p=0;p<d;++p){var w=+f(a=e[p],p),E=+l(a,p);if(w<v)v=w;if(E<g)g=E;if(w>y)y=w;if(E>b)b=E;c.push(w);h.push(E)}}var S=y-v,x=b-g;if(S>x)b=g+S;else y=v+x;var C=Ds();C.add=function(e){T(C,e,+f(e,++p),+l(e,p),v,g,y,b)};C.visit=function(e){Ps(e,C,v,g,y,b)};p=-1;if(t==null){while(++p<d){T(C,e[p],c[p],h[p],v,g,y,b)}--p}else e.forEach(C.add);c=h=e=a=null;return C}var s=Ui,o=zi,u;if(u=arguments.length){s=Ms;o=_s;if(u===3){i=n;r=t;n=t=0}return a(e)}a.x=function(e){return arguments.length?(s=e,a):s};a.y=function(e){return arguments.length?(o=e,a):o};a.extent=function(e){if(!arguments.length)return t==null?null:[[t,n],[r,i]];if(e==null)t=n=r=i=null;else t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1];return a};a.size=function(e){if(!arguments.length)return t==null?null:[r-t,i-n];if(e==null)t=n=r=i=null;else t=n=0,r=+e[0],i=+e[1];return a};return a};e.interpolateRgb=Hs;e.interpolateObject=Bs;e.interpolateNumber=js;e.interpolateString=Fs;var Is=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;e.interpolate=qs;e.interpolators=[function(e,t){var n=typeof t;return(n==="string"?dn.has(t)||/^(#|rgb\(|hsl\()/.test(t)?Hs:Fs:t instanceof Ht?Hs:n==="object"?Array.isArray(t)?Rs:Bs:js)(e,t)}];e.interpolateArray=Rs;var Us=function(){return mn};var zs=e.map({linear:Us,poly:Gs,quad:function(){return Js},cubic:function(){return Ks},sin:function(){return Ys},exp:function(){return Zs},circle:function(){return eo},elastic:to,back:no,bounce:function(){return ro}});var Ws=e.map({"in":mn,out:Vs,"in-out":$s,"out-in":function(e){return $s(Vs(e))}});e.ease=function(e){var n=e.indexOf("-"),r=n>=0?e.substring(0,n):e,i=n>=0?e.substring(n+1):"in";r=zs.get(r)||Us;i=Ws.get(i)||mn;return Xs(i(r.apply(null,t.call(arguments,1))))};e.interpolateHcl=io;e.interpolateHsl=so;e.interpolateLab=oo;e.interpolateRound=uo;e.transform=function(t){var n=r.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(e!=null){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new ao(t?t.matrix:ho)})(t)};ao.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ho={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=po;e.layout={};e.layout.bundle=function(){return function(e){var t=[],n=-1,r=e.length;while(++n<r)t.push(go(e[n]));return t}};e.layout.chord=function(){function l(){var t={},l=[],h=e.range(s),p=[],d,v,m,g,y;n=[];r=[];d=0,g=-1;while(++g<s){v=0,y=-1;while(++y<s){v+=i[g][y]}l.push(v);p.push(e.range(s));d+=v}if(u){h.sort(function(e,t){return u(l[e],l[t])})}if(a){p.forEach(function(e,t){e.sort(function(e,n){return a(i[t][e],i[t][n])})})}d=(mt-o*s)/d;v=0,g=-1;while(++g<s){m=v,y=-1;while(++y<s){var b=h[g],w=p[b][y],E=i[b][w],S=v,x=v+=E*d;t[b+"-"+w]={index:b,subindex:w,startAngle:S,endAngle:x,value:E}}r[b]={index:b,startAngle:m,endAngle:v,value:(v-m)/d};v+=o}g=-1;while(++g<s){y=g-1;while(++y<s){var T=t[g+"-"+y],N=t[y+"-"+g];if(T.value||N.value){n.push(T.value<N.value?{source:N,target:T}:{source:T,target:N})}}}if(f)c()}function c(){n.sort(function(e,t){return f((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var t={},n,r,i,s,o=0,u,a,f;t.matrix=function(e){if(!arguments.length)return i;s=(i=e)&&i.length;n=r=null;return t};t.padding=function(e){if(!arguments.length)return o;o=e;n=r=null;return t};t.sortGroups=function(e){if(!arguments.length)return u;u=e;n=r=null;return t};t.sortSubgroups=function(e){if(!arguments.length)return a;a=e;n=null;return t};t.sortChords=function(e){if(!arguments.length)return f;f=e;if(n)c();return t};t.chords=function(){if(!n)l();return n};t.groups=function(){if(!r)l();return r};return t};e.layout.force=function(){function g(e){return function(t,n,r,i){if(t.point!==e){var s=t.cx-e.x,o=t.cy-e.y,u=1/Math.sqrt(s*s+o*o);if((i-n)*u<c){var a=t.charge*u*u;e.px-=s*a;e.py-=o*a;return true}if(t.point&&isFinite(u)){var a=t.pointCharge*u*u;e.px-=s*a;e.py-=o*a}}return!t.charge}}function y(n){n.px=e.event.x,n.py=e.event.y;t.resume()}var t={},n=e.dispatch("start","tick","end"),r=[1,1],i,s,o=.9,u=No,a=Co,f=-30,l=.1,c=.8,h=[],p=[],d,v,m;t.tick=function(){if((s*=.99)<.005){n.end({type:"end",alpha:s=0});return true}var t=h.length,i=p.length,u,a,c,y,b,w,E,S,x;for(a=0;a<i;++a){c=p[a];y=c.source;b=c.target;S=b.x-y.x;x=b.y-y.y;if(w=S*S+x*x){w=s*v[a]*((w=Math.sqrt(w))-d[a])/w;S*=w;x*=w;b.x-=S*(E=y.weight/(b.weight+y.weight));b.y-=x*E;y.x+=S*(E=1-E);y.y+=x*E}}if(E=s*l){S=r[0]/2;x=r[1]/2;a=-1;if(E)while(++a<t){c=h[a];c.x+=(S-c.x)*E;c.y+=(x-c.y)*E}}if(f){To(u=e.geom.quadtree(h),s,m);a=-1;while(++a<t){if(!(c=h[a]).fixed){u.visit(g(c))}}}a=-1;while(++a<t){c=h[a];if(c.fixed){c.x=c.px;c.y=c.py}else{c.x-=(c.px-(c.px=c.x))*o;c.y-=(c.py-(c.py=c.y))*o}}n.tick({type:"tick",alpha:s})};t.nodes=function(e){if(!arguments.length)return h;h=e;return t};t.links=function(e){if(!arguments.length)return p;p=e;return t};t.size=function(e){if(!arguments.length)return r;r=e;return t};t.linkDistance=function(e){if(!arguments.length)return u;u=typeof e==="function"?e:+e;return t};t.distance=t.linkDistance;t.linkStrength=function(e){if(!arguments.length)return a;a=typeof e==="function"?e:+e;return t};t.friction=function(e){if(!arguments.length)return o;o=+e;return t};t.charge=function(e){if(!arguments.length)return f;f=typeof e==="function"?e:+e;return t};t.gravity=function(e){if(!arguments.length)return l;l=+e;return t};t.theta=function(e){if(!arguments.length)return c;c=+e;return t};t.alpha=function(r){if(!arguments.length)return s;r=+r;if(s){if(r>0)s=r;else s=0}else if(r>0){n.start({type:"start",alpha:s=r});e.timer(t.tick)}return t};t.start=function(){function g(t,r){if(!l){l=new Array(n);for(o=0;o<n;++o){l[o]=[]}for(o=0;o<u;++o){var i=p[o];l[i.source.index].push(i.target);l[i.target.index].push(i.source)}}var s=l[e],o=-1,u=s.length,a;while(++o<u)if(!isNaN(a=s[o][t]))return a;return Math.random()*r}var e,n=h.length,i=p.length,s=r[0],o=r[1],l,c;for(e=0;e<n;++e){(c=h[e]).index=e;c.weight=0}for(e=0;e<i;++e){c=p[e];if(typeof c.source=="number")c.source=h[c.source];if(typeof c.target=="number")c.target=h[c.target];++c.source.weight;++c.target.weight}for(e=0;e<n;++e){c=h[e];if(isNaN(c.x))c.x=g("x",s);if(isNaN(c.y))c.y=g("y",o);if(isNaN(c.px))c.px=c.x;if(isNaN(c.py))c.py=c.y}d=[];if(typeof u==="function")for(e=0;e<i;++e)d[e]=+u.call(this,p[e],e);else for(e=0;e<i;++e)d[e]=u;v=[];if(typeof a==="function")for(e=0;e<i;++e)v[e]=+a.call(this,p[e],e);else for(e=0;e<i;++e)v[e]=a;m=[];if(typeof f==="function")for(e=0;e<n;++e)m[e]=+f.call(this,h[e],e);else for(e=0;e<n;++e)m[e]=f;return t.resume()};t.resume=function(){return t.alpha(.1)};t.stop=function(){return t.alpha(0)};t.drag=function(){if(!i)i=e.behavior.drag().origin(mn).on("dragstart.force",wo).on("drag.force",y).on("dragend.force",Eo);if(!arguments.length)return i;this.on("mouseover.force",So).on("mouseout.force",xo).call(i)};return e.rebind(t,n,"on")};var No=20,Co=1;e.layout.hierarchy=function(){function r(i,o,u){var a=t.call(s,i,o);i.depth=o;u.push(i);if(a&&(l=a.length)){var f=-1,l,c=i.children=new Array(l),h=0,p=o+1,d;while(++f<l){d=c[f]=r(a[f],p,u);d.parent=i;h+=d.value}if(e)c.sort(e);if(n)i.value=h}else{delete i.children;if(n){i.value=+n.call(s,i,o)||0}}return i}function i(e,t){var r=e.children,o=0;if(r&&(a=r.length)){var u=-1,a,f=t+1;while(++u<a)o+=i(r[u],f)}else if(n){o=+n.call(s,e,t)||0}if(n)e.value=o;return o}function s(e){var t=[];r(e,0,t);return t}var e=Oo,t=Lo,n=Ao;s.sort=function(t){if(!arguments.length)return e;e=t;return s};s.children=function(e){if(!arguments.length)return t;t=e;return s};s.value=function(e){if(!arguments.length)return n;n=e;return s};s.revalue=function(e){i(e,0);return e};return s};e.layout.partition=function(){function r(e,t,n,i){var s=e.children;e.x=t;e.y=e.depth*i;e.dx=n;e.dy=i;if(s&&(u=s.length)){var o=-1,u,a,f;n=e.value?n/e.value:0;while(++o<u){r(a=s[o],t,f=a.value*n,i);t+=f}}}function i(e){var t=e.children,n=0;if(t&&(s=t.length)){var r=-1,s;while(++r<s)n=Math.max(n,i(t[r]))}return 1+n}function s(e,s){var o=t.call(this,e,s);r(o[0],0,n[0],n[1]/i(o[0]));return o}var t=e.layout.hierarchy(),n=[1,1];s.size=function(e){if(!arguments.length)return n;n=e;return s};return ko(s,t)};e.layout.pie=function(){function s(o){var u=o.map(function(e,n){return+t.call(s,e,n)});var a=+(typeof r==="function"?r.apply(this,arguments):r);var f=((typeof i==="function"?i.apply(this,arguments):i)-a)/e.sum(u);var l=e.range(o.length);if(n!=null)l.sort(n===_o?function(e,t){return u[t]-u[e]}:function(e,t){return n(o[e],o[t])});var c=[];l.forEach(function(e){var t;c[e]={data:o[e],value:t=u[e],startAngle:a,endAngle:a+=t*f}});return c}var t=Number,n=_o,r=0,i=mt;s.value=function(e){if(!arguments.length)return t;t=e;return s};s.sort=function(e){if(!arguments.length)return n;n=e;return s};s.startAngle=function(e){if(!arguments.length)return r;r=e;return s};s.endAngle=function(e){if(!arguments.length)return i;i=e;return s};return s};var _o={};e.layout.stack=function(){function u(a,f){var l=a.map(function(e,n){return t.call(u,e,n)});var c=l.map(function(e){return e.map(function(e,t){return[s.call(u,e,t),o.call(u,e,t)]})});var h=n.call(u,c,f);l=e.permute(l,h);c=e.permute(c,h);var p=r.call(u,c,f);var d=l.length,v=l[0].length,m,g,y;for(g=0;g<v;++g){i.call(u,l[0][g],y=p[g],c[0][g][1]);for(m=1;m<d;++m){i.call(u,l[m][g],y+=c[m-1][g][1],c[m][g][1])}}return a}var t=mn,n=Fo,r=Io,i=Ho,s=Do,o=Po;u.values=function(e){if(!arguments.length)return t;t=e;return u};u.order=function(e){if(!arguments.length)return n;n=typeof e==="function"?e:Bo.get(e)||Fo;return u};u.offset=function(e){if(!arguments.length)return r;r=typeof e==="function"?e:jo.get(e)||Io;return u};u.x=function(e){if(!arguments.length)return s;s=e;return u};u.y=function(e){if(!arguments.length)return o;o=e;return u};u.out=function(e){if(!arguments.length)return i;i=e;return u};return u};var Bo=e.map({"inside-out":function(t){var n=t.length,r,i,s=t.map(qo),o=t.map(Ro),u=e.range(n).sort(function(e,t){return s[e]-s[t]}),a=0,f=0,l=[],c=[];for(r=0;r<n;++r){i=u[r];if(a<f){a+=o[i];l.push(i)}else{f+=o[i];c.push(i)}}return c.reverse().concat(l)},reverse:function(t){return e.range(t.length).reverse()},"default":Fo});var jo=e.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,s,o,u,a=[];for(o=0;o<n;++o){for(s=0,u=0;s<t;s++)u+=e[s][o][1];if(u>i)i=u;r.push(u)}for(o=0;o<n;++o){a[o]=(i-r[o])/2}return a},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i,s,o,u,a,f,l,c,h,p=[];p[0]=c=h=0;for(s=1;s<r;++s){for(i=0,u=0;i<t;++i)u+=e[i][s][1];for(i=0,a=0,l=n[s][0]-n[s-1][0];i<t;++i){for(o=0,f=(e[i][s][1]-e[i][s-1][1])/(2*l);o<i;++o){f+=(e[o][s][1]-e[o][s-1][1])/l}a+=f*e[i][s][1]}p[s]=c-=u?a/u*l:0;if(c<h)h=c}for(s=0;s<r;++s)p[s]-=h;return p},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,u=[];for(s=0;s<n;++s){for(i=0,o=0;i<t;i++)o+=e[i][s][1];if(o)for(i=0;i<t;i++)e[i][s][1]/=o;else for(i=0;i<t;i++)e[i][s][1]=r}for(s=0;s<n;++s)u[s]=0;return u},zero:Io});e.layout.histogram=function(){function s(s,o){var u=[],a=s.map(n,this),f=r.call(this,a,o),l=i.call(this,f,a,o),c,o=-1,h=a.length,p=l.length-1,d=t?1:1/h,v;while(++o<p){c=u[o]=[];c.dx=l[o+1]-(c.x=l[o]);c.y=0}if(p>0){o=-1;while(++o<h){v=a[o];if(v>=f[0]&&v<=f[1]){c=u[e.bisect(l,v,1,p)-1];c.y+=d;c.push(s[o])}}}return u}var t=true,n=Number,r=Xo,i=zo;s.value=function(e){if(!arguments.length)return n;n=e;return s};s.range=function(e){if(!arguments.length)return r;r=vn(e);return s};s.bins=function(e){if(!arguments.length)return i;i=typeof e==="number"?function(t){return Wo(t,e)}:vn(e);return s};s.frequency=function(e){if(!arguments.length)return t;t=!!e;return s};return s};e.layout.tree=function(){function s(e,s){function a(e,t){var r=e.children,i=e._tree;if(r&&(s=r.length)){var s,o=r[0],u,f=o,c,h=-1;while(++h<s){c=r[h];a(c,u);f=l(c,u,f);u=c}eu(e);var p=.5*(o._tree.prelim+c._tree.prelim);if(t){i.prelim=t._tree.prelim+n(e,t);i.mod=i.prelim-p}else{i.prelim=p}}else{if(t){i.prelim=t._tree.prelim+n(e,t)}}}function f(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(i=n.length)){var r=-1,i;t+=e._tree.mod;while(++r<i){f(n[r],t)}}}function l(e,t,r){if(t){var i=e,s=e,o=t,u=e.parent.children[0],a=i._tree.mod,f=s._tree.mod,l=o._tree.mod,c=u._tree.mod,h;while(o=Jo(o),i=$o(i),o&&i){u=$o(u);s=Jo(s);s._tree.ancestor=e;h=o._tree.prelim+l-i._tree.prelim-a+n(o,i);if(h>0){tu(nu(o,e,r),e,h);a+=h;f+=h}l+=o._tree.mod;a+=i._tree.mod;c+=u._tree.mod;f+=s._tree.mod}if(o&&!Jo(s)){s._tree.thread=o;s._tree.mod+=l-f}if(i&&!$o(u)){u._tree.thread=i;u._tree.mod+=a-c;r=e}}return r}var o=t.call(this,e,s),u=o[0];Zo(u,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}});a(u);f(u,-u._tree.prelim);var c=Ko(u,Go),h=Ko(u,Qo),p=Ko(u,Yo),d=c.x-n(c,h)/2,v=h.x+n(h,c)/2,m=p.depth||1;Zo(u,i?function(e){e.x*=r[0];e.y=e.depth*r[1];delete e._tree}:function(e){e.x=(e.x-d)/(v-d)*r[0];e.y=e.depth/m*r[1];delete e._tree});return o}var t=e.layout.hierarchy().sort(null).value(null),n=Vo,r=[1,1],i=false;s.separation=function(e){if(!arguments.length)return n;n=e;return s};s.size=function(e){if(!arguments.length)return i?null:r;i=(r=e)==null;return s};s.nodeSize=function(e){if(!arguments.length)return i?r:null;i=(r=e)!=null;return s};return ko(s,t)};e.layout.pack=function(){function s(e,s){var o=t.call(this,e,s),u=o[0],a=r[0],f=r[1],l=i==null?Math.sqrt:typeof i==="function"?i:function(){return i};u.x=u.y=0;Zo(u,function(e){e.r=+l(e.value)});Zo(u,uu);if(n){var c=n*(i?1:Math.max(2*u.r/a,2*u.r/f))/2;Zo(u,function(e){e.r+=c});Zo(u,uu);Zo(u,function(e){e.r-=c})}lu(u,a/2,f/2,i?1:1/Math.max(2*u.r/a,2*u.r/f));return o}var t=e.layout.hierarchy().sort(ru),n=0,r=[1,1],i;s.size=function(e){if(!arguments.length)return r;r=e;return s};s.radius=function(e){if(!arguments.length)return i;i=e==null||typeof e==="function"?e:+e;return s};s.padding=function(e){if(!arguments.length)return n;n=+e;return s};return ko(s,t)};e.layout.cluster=function(){function s(e,s){var o=t.call(this,e,s),u=o[0],a,f=0;Zo(u,function(e){var t=e.children;if(t&&t.length){e.x=pu(t);e.y=hu(t)}else{e.x=a?f+=n(e,a):0;e.y=0;a=e}});var l=du(u),c=vu(u),h=l.x-n(l,c)/2,p=c.x+n(c,l)/2;Zo(u,i?function(e){e.x=(e.x-u.x)*r[0];e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0];e.y=(1-(u.y?e.y/u.y:1))*r[1]});return o}var t=e.layout.hierarchy().sort(null).value(null),n=Vo,r=[1,1],i=false;s.separation=function(e){if(!arguments.length)return n;n=e;return s};s.size=function(e){if(!arguments.length)return i?null:r;i=(r=e)==null;return s};s.nodeSize=function(e){if(!arguments.length)return i?r:null;i=(r=e)!=null;return s};return ko(s,t)};e.layout.treemap=function(){function l(e,t){var n=-1,r=e.length,i,s;while(++n<r){s=(i=e[n]).value*(t<0?0:t);i.area=isNaN(s)||s<=0?0:s}}function c(e){var t=e.children;if(t&&t.length){var n=s(e),r=[],i=t.slice(),o,u=Infinity,f,h=a==="slice"?n.dx:a==="dice"?n.dy:a==="slice-dice"?e.depth&1?n.dy:n.dx:Math.min(n.dx,n.dy),v;l(i,n.dx*n.dy/e.value);r.area=0;while((v=i.length)>0){r.push(o=i[v-1]);r.area+=o.area;if(a!=="squarify"||(f=p(r,h))<=u){i.pop();u=f}else{r.area-=r.pop().area;d(r,h,n,false);h=Math.min(n.dx,n.dy);r.length=r.area=0;u=Infinity}}if(r.length){d(r,h,n,true);r.length=r.area=0}t.forEach(c)}}function h(e){var t=e.children;if(t&&t.length){var n=s(e),r=t.slice(),i,o=[];l(r,n.dx*n.dy/e.value);o.area=0;while(i=r.pop()){o.push(i);o.area+=i.area;if(i.z!=null){d(o,i.z?n.dx:n.dy,n,!r.length);o.length=o.area=0}}t.forEach(h)}}function p(e,t){var n=e.area,r,i=0,s=Infinity,o=-1,u=e.length;while(++o<u){if(!(r=e[o].area))continue;if(r<s)s=r;if(r>i)i=r}n*=n;t*=t;return n?Math.max(t*i*f/n,n/(t*s*f)):Infinity}function d(e,t,r,i){var s=-1,o=e.length,u=r.x,a=r.y,f=t?n(e.area/t):0,l;if(t==r.dx){if(i||f>r.dy)f=r.dy;while(++s<o){l=e[s];l.x=u;l.y=a;l.dy=f;u+=l.dx=Math.min(r.x+r.dx-u,f?n(l.area/f):0)}l.z=true;l.dx+=r.x+r.dx-u;r.y+=f;r.dy-=f}else{if(i||f>r.dx)f=r.dx;while(++s<o){l=e[s];l.x=u;l.y=a;l.dx=f;a+=l.dy=Math.min(r.y+r.dy-a,f?n(l.area/f):0)}l.z=false;l.dy+=r.y+r.dy-a;r.x+=f;r.dx-=f}}function v(e){var n=u||t(e),i=n[0];i.x=0;i.y=0;i.dx=r[0];i.dy=r[1];if(u)t.revalue(i);l([i],i.dx*i.dy/i.value);(u?h:c)(i);if(o)u=n;return n}var t=e.layout.hierarchy(),n=Math.round,r=[1,1],i=null,s=mu,o=false,u,a="squarify",f=.5*(1+Math.sqrt(5));v.size=function(e){if(!arguments.length)return r;r=e;return v};v.padding=function(e){function t(t){var n=e.call(v,t,t.depth);return n==null?mu(t):gu(t,typeof n==="number"?[n,n,n,n]:n)}function n(t){return gu(t,e)}if(!arguments.length)return i;var r;s=(i=e)==null?mu:(r=typeof e)==="function"?t:r==="number"?(e=[e,e,e,e],n):n;return v};v.round=function(e){if(!arguments.length)return n!=Number;n=e?Math.round:Number;return v};v.sticky=function(e){if(!arguments.length)return o;o=e;u=null;return v};v.ratio=function(e){if(!arguments.length)return f;f=e;return v};v.mode=function(e){if(!arguments.length)return a;a=e+"";return v};return ko(v,t)};e.random={normal:function(e,t){var n=arguments.length;if(n<2)t=1;if(n<1)e=0;return function(){var n,r,i;do{n=Math.random()*2-1;r=Math.random()*2-1;i=n*n+r*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t/e}}};e.scale={};var xu={floor:mn,ceil:mn};e.scale.linear=function(){return Nu([0,1],[0,1],qs,false)};var Mu={s:1,g:1,p:1,r:1,e:1};e.scale.log=function(){return Pu(e.scale.linear().domain([0,1]),10,true,[1,10])};var Hu=e.format(".0e"),Bu={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};e.scale.pow=function(){return ju(e.scale.linear(),1,[0,1])};e.scale.sqrt=function(){return e.scale.pow().exponent(.5)};e.scale.ordinal=function(){return Iu([],{t:"range",a:[[]]})};e.scale.category10=function(){return e.scale.ordinal().range(qu)};e.scale.category20=function(){return e.scale.ordinal().range(Ru)};e.scale.category20b=function(){return e.scale.ordinal().range(Uu)};e.scale.category20c=function(){return e.scale.ordinal().range(zu)};var qu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(rn);var Ru=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(rn);var Uu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(rn);var zu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(rn);e.scale.quantile=function(){return Wu([],[])};e.scale.quantize=function(){return Xu(0,1,[0,1])};e.scale.threshold=function(){return Vu([.5],[0,1])};e.scale.identity=function(){return $u([0,1])};e.svg={};e.svg.arc=function(){function i(){var i=e.apply(this,arguments),s=t.apply(this,arguments),o=n.apply(this,arguments)+Ju,u=r.apply(this,arguments)+Ju,a=(u<o&&(a=o,o=u,u=a),u-o),f=a<vt?"0":"1",l=Math.cos(o),c=Math.sin(o),h=Math.cos(u),p=Math.sin(u);return a>=Ku?i?"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"M0,"+i+"A"+i+","+i+" 0 1,0 0,"+ -i+"A"+i+","+i+" 0 1,0 0,"+i+"Z":"M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z":i?"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L"+i*h+","+i*p+"A"+i+","+i+" 0 "+f+",0 "+i*l+","+i*c+"Z":"M"+s*l+","+s*c+"A"+s+","+s+" 0 "+f+",1 "+s*h+","+s*p+"L0,0"+"Z"}var e=Qu,t=Gu,n=Yu,r=Zu;i.innerRadius=function(t){if(!arguments.length)return e;e=vn(t);return i};i.outerRadius=function(e){if(!arguments.length)return t;t=vn(e);return i};i.startAngle=function(e){if(!arguments.length)return n;n=vn(e);return i};i.endAngle=function(e){if(!arguments.length)return r;r=vn(e);return i};i.centroid=function(){var i=(e.apply(this,arguments)+t.apply(this,arguments))/2,s=(n.apply(this,arguments)+r.apply(this,arguments))/2+Ju;return[Math.cos(s)*i,Math.sin(s)*i]};return i};var Ju=-gt,Ku=mt-yt;e.svg.line=function(){return ea(mn)};var ta=e.map({linear:na,"linear-closed":ra,step:ia,"step-before":sa,"step-after":oa,basis:ha,"basis-open":pa,"basis-closed":da,bundle:va,cardinal:fa,"cardinal-open":ua,"cardinal-closed":aa,monotone:Ta});ta.forEach(function(e,t){t.key=e;t.closed=/-closed$/.test(e)});var ga=[0,2/3,1/3,0],ya=[0,1/3,2/3,0],ba=[0,1/6,2/3,1/6];e.svg.line.radial=function(){var e=ea(Na);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};sa.reverse=oa;oa.reverse=sa;e.svg.area=function(){return Ca(mn)};e.svg.area.radial=function(){var e=Ca(Na);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};e.svg.chord=function(){function s(n,r){var i=o(this,e,n,r),s=o(this,t,n,r);return"M"+i.p0+a(i.r,i.p1,i.a1-i.a0)+(u(i,s)?f(i.r,i.p1,i.r,i.p0):f(i.r,i.p1,s.r,s.p0)+a(s.r,s.p1,s.a1-s.a0)+f(s.r,s.p1,i.r,i.p0))+"Z"}function o(e,t,s,o){var u=t.call(e,s,o),a=n.call(e,u,o),f=r.call(e,u,o)+Ju,l=i.call(e,u,o)+Ju;return{r:a,a0:f,a1:l,p0:[a*Math.cos(f),a*Math.sin(f)],p1:[a*Math.cos(l),a*Math.sin(l)]}}function u(e,t){return e.a0==t.a0&&e.a1==t.a1}function a(e,t,n){return"A"+e+","+e+" 0 "+ +(n>vt)+",1 "+t}function f(e,t,n,r){return"Q 0,0 "+r}var e=Ni,t=Ci,n=ka,r=Yu,i=Zu;s.radius=function(e){if(!arguments.length)return n;n=vn(e);return s};s.source=function(t){if(!arguments.length)return e;e=vn(t);return s};s.target=function(e){if(!arguments.length)return t;t=vn(e);return s};s.startAngle=function(e){if(!arguments.length)return r;r=vn(e);return s};s.endAngle=function(e){if(!arguments.length)return i;i=vn(e);return s};return s};e.svg.diagonal=function(){function r(r,i){var s=e.call(this,r,i),o=t.call(this,r,i),u=(s.y+o.y)/2,a=[s,{x:s.x,y:u},{x:o.x,y:u},o];a=a.map(n);return"M"+a[0]+"C"+a[1]+" "+a[2]+" "+a[3]}var e=Ni,t=Ci,n=La;r.source=function(t){if(!arguments.length)return e;e=vn(t);return r};r.target=function(e){if(!arguments.length)return t;t=vn(e);return r};r.projection=function(e){if(!arguments.length)return n;n=e;return r};return r};e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=La,r=t.projection;t.projection=function(e){return arguments.length?r(Aa(n=e)):n};return t};e.svg.symbol=function(){function n(n,r){return(Da.get(e.call(this,n,r))||_a)(t.call(this,n,r))}var e=Ma,t=Oa;n.type=function(t){if(!arguments.length)return e;e=vn(t);return n};n.size=function(e){if(!arguments.length)return t;t=vn(e);return n};return n};var Da=e.map({circle:_a,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+ -3*t+","+ -t+"H"+ -t+"V"+ -3*t+"H"+t+"V"+ -t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+ -t+"V"+t+"H"+ -3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Ha)),n=t*Ha;return"M0,"+ -t+"L"+n+",0"+" 0,"+t+" "+ -n+",0"+"Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+ -t+","+ -t+"L"+t+","+ -t+" "+t+","+t+" "+ -t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Pa),n=t*Pa/2;return"M0,"+n+"L"+t+","+ -n+" "+ -t+","+ -n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Pa),n=t*Pa/2;return"M0,"+ -n+"L"+t+","+n+" "+ -t+","+n+"Z"}});e.svg.symbolTypes=Da.keys();var Pa=Math.sqrt(3),Ha=Math.tan(30*wt);var ja=[],Fa=0,Ia,qa;ja.call=I.call;ja.empty=I.empty;ja.node=I.node;ja.size=I.size;e.transition=function(e){return arguments.length?Ia?e.transition():e:st.transition()};e.transition.prototype=ja;ja.select=function(e){var t=this.id,n=[],r,i,s;e=q(e);for(var o=-1,u=this.length;++o<u;){n.push(r=[]);for(var a=this[o],f=-1,l=a.length;++f<l;){if((s=a[f])&&(i=e.call(s,s.__data__,f,o))){if("__data__"in s)i.__data__=s.__data__;za(i,f,t,s.__transition__[t]);r.push(i)}else{r.push(null)}}}return Ba(n,t)};ja.selectAll=function(e){var t=this.id,n=[],r,i,s,o,u;e=R(e);for(var a=-1,f=this.length;++a<f;){for(var l=this[a],c=-1,h=l.length;++c<h;){if(s=l[c]){u=s.__transition__[t];i=e.call(s,s.__data__,c,a);n.push(r=[]);for(var p=-1,d=i.length;++p<d;){if(o=i[p])za(o,p,t,u);r.push(o)}}}}return Ba(n,t)};ja.filter=function(e){var t=[],n,r,i;if(typeof e!=="function")e=Y(e);for(var s=0,o=this.length;s<o;s++){t.push(n=[]);for(var r=this[s],u=0,a=r.length;u<a;u++){if((i=r[u])&&e.call(i,i.__data__,u)){n.push(i)}}}return Ba(t,this.id)};ja.tween=function(e,t){var n=this.id;if(arguments.length<2)return this.node().__transition__[n].tween.get(e);return et(this,t==null?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})};ja.attr=function(t,n){function s(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function u(e){return e==null?s:(e+="",function(){var t=this.getAttribute(i),n;return t!==e&&(n=r(t,e),function(e){this.setAttribute(i,n(e))})})}function a(e){return e==null?o:(e+="",function(){var t=this.getAttributeNS(i.space,i.local),n;return t!==e&&(n=r(t,e),function(e){this.setAttributeNS(i.space,i.local,n(e))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r=t=="transform"?po:qs,i=e.ns.qualify(t);return Ra(this,"attr."+t,n,i.local?a:u)};ja.attrTween=function(t,n){function i(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}}function s(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?s:i)};ja.style=function(e,t,n){function i(){this.style.removeProperty(e)}function o(t){return t==null?i:(t+="",function(){var r=s.getComputedStyle(this,null).getPropertyValue(e),i;return r!==t&&(i=qs(r,t),function(t){this.style.setProperty(e,i(t),n)})})}var r=arguments.length;if(r<3){if(typeof e!=="string"){if(r<2)t="";for(n in e)this.style(n,e[n],t);return this}n=""}return Ra(this,"style."+e,t,o)};ja.styleTween=function(e,t,n){function r(r,i){var o=t.call(this,r,i,s.getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}if(arguments.length<3)n="";return this.tween("style."+e,r)};ja.text=function(e){return Ra(this,"text",e,Ua)};ja.remove=function(){return this.each("end.transition",function(){var e;if(this.__transition__.count<2&&(e=this.parentNode))e.removeChild(this)})};ja.ease=function(t){var n=this.id;if(arguments.length<1)return this.node().__transition__[n].ease;if(typeof t!=="function")t=e.ease.apply(e,arguments);return et(this,function(e){e.__transition__[n].ease=t})};ja.delay=function(e){var t=this.id;return et(this,typeof e==="function"?function(n,r,i){n.__transition__[t].delay=+e.call(n,n.__data__,r,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))};ja.duration=function(e){var t=this.id;return et(this,typeof e==="function"?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))};ja.each=function(t,n){var r=this.id;if(arguments.length<2){var i=qa,s=Ia;Ia=r;et(this,function(e,n,i){qa=e.__transition__[r];t.call(e,e.__data__,n,i)});qa=i;Ia=s}else{et(this,function(i){var s=i.__transition__[r];(s.event||(s.event=e.dispatch("start","end"))).on(t,n)})}return this};ja.transition=function(){var e=this.id,t=++Fa,n=[],r,i,s,o;for(var u=0,a=this.length;u<a;u++){n.push(r=[]);for(var i=this[u],f=0,l=i.length;f<l;f++){if(s=i[f]){o=Object.create(s.__transition__[e]);o.delay+=o.duration;za(s,f,t,o)}r.push(s)}}return Ba(n,t)};e.svg.axis=function(){function f(f){f.each(function(){var f=e.select(this);var l=this.__chart__||t,c=this.__chart__=t.copy();var h=u==null?c.ticks?c.ticks.apply(c,o):c.domain():u,p=a==null?c.tickFormat?c.tickFormat.apply(c,o):mn:a,d=f.selectAll(".tick").data(h,c),v=d.enter().insert("g",".domain").attr("class","tick").style("opacity",yt),m=e.transition(d.exit()).style("opacity",yt).remove(),g=e.transition(d).style("opacity",1),y;var b=bu(c),w=f.selectAll(".domain").data([0]),E=(w.enter().append("path").attr("class","domain"),e.transition(w));v.append("line");v.append("text");var S=v.select("line"),x=g.select("line"),T=d.select("text").text(p),N=v.select("text"),C=g.select("text");switch(n){case"bottom":{y=Va;S.attr("y2",r);N.attr("y",Math.max(r,0)+s);x.attr("x2",0).attr("y2",r);C.attr("x",0).attr("y",Math.max(r,0)+s);T.attr("dy",".71em").style("text-anchor","middle");E.attr("d","M"+b[0]+","+i+"V0H"+b[1]+"V"+i);break};case"top":{y=Va;S.attr("y2",-r);N.attr("y",-(Math.max(r,0)+s));x.attr("x2",0).attr("y2",-r);C.attr("x",0).attr("y",-(Math.max(r,0)+s));T.attr("dy","0em").style("text-anchor","middle");E.attr("d","M"+b[0]+","+ -i+"V0H"+b[1]+"V"+ -i);break};case"left":{y=$a;S.attr("x2",-r);N.attr("x",-(Math.max(r,0)+s));x.attr("x2",-r).attr("y2",0);C.attr("x",-(Math.max(r,0)+s)).attr("y",0);T.attr("dy",".32em").style("text-anchor","end");E.attr("d","M"+ -i+","+b[0]+"H0V"+b[1]+"H"+ -i);break};case"right":{y=$a;S.attr("x2",r);N.attr("x",Math.max(r,0)+s);x.attr("x2",r).attr("y2",0);C.attr("x",Math.max(r,0)+s).attr("y",0);T.attr("dy",".32em").style("text-anchor","start");E.attr("d","M"+i+","+b[0]+"H0V"+b[1]+"H"+i);break}}if(c.rangeBand){var k=c.rangeBand()/2,L=function(e){return c(e)+k};v.call(y,L);g.call(y,L)}else{v.call(y,l);g.call(y,c);m.call(y,c)}})}var t=e.scale.linear(),n=Wa,r=6,i=6,s=3,o=[10],u=null,a;f.scale=function(e){if(!arguments.length)return t;t=e;return f};f.orient=function(e){if(!arguments.length)return n;n=e in Xa?e+"":Wa;return f};f.ticks=function(){if(!arguments.length)return o;o=arguments;return f};f.tickValues=function(e){if(!arguments.length)return u;u=e;return f};f.tickFormat=function(e){if(!arguments.length)return a;a=e;return f};f.tickSize=function(e){var t=arguments.length;if(!t)return r;r=+e;i=+arguments[t-1];return f};f.innerTickSize=function(e){if(!arguments.length)return r;r=+e;return f};f.outerTickSize=function(e){if(!arguments.length)return i;i=+e;return f};f.tickPadding=function(e){if(!arguments.length)return s;s=+e;return f};f.tickSubdivide=function(){return arguments.length&&f};return f};var Wa="bottom",Xa={top:1,right:1,bottom:1,left:1};e.svg.brush=function(){function h(t){t.each(function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m);var i=t.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=t.selectAll(".resize").data(c,mn);s.exit().remove();s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ja[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");s.style("display",h.empty()?"none":null);var o=e.transition(t),u=e.transition(i),a;if(n){a=bu(n);u.attr("x",a[0]).attr("width",a[1]-a[0]);d(o)}if(r){a=bu(r);u.attr("y",a[0]).attr("height",a[1]-a[0]);v(o)}p(o)})}function p(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+i[+/e$/.test(e)]+","+o[+/^s/.test(e)]+")"})}function d(e){e.select(".extent").attr("x",i[0]);e.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1]-i[0])}function v(e){e.select(".extent").attr("y",o[0]);e.selectAll(".extent,.e>rect,.w>rect").attr("height",o[1]-o[0])}function m(){function M(){if(e.event.keyCode==32){if(!S){T=null;N[0]-=i[1];N[1]-=o[1];S=2}A()}}function _(){if(e.event.keyCode==32&&S==2){N[0]+=i[1];N[1]+=o[1];S=0;A()}}function D(){var t=e.mouse(c),s=false;if(C){t[0]+=C[0];t[1]+=C[1]}if(!S){if(e.event.altKey){if(!T)T=[(i[0]+i[1])/2,(o[0]+o[1])/2];N[0]=i[+(t[0]<T[0])];N[1]=o[+(t[1]<T[1])]}else T=null}if(w&&P(t,n,0)){d(y);s=true}if(E&&P(t,r,1)){v(y);s=true}if(s){p(y);g({type:"brush",mode:S?"move":"resize"})}}function P(e,t,n){var r=bu(t),s=r[0],c=r[1],h=N[n],p=n?o:i,d=p[1]-p[0],v,m;if(S){s-=h;c-=d+h}v=(n?l:f)?Math.max(s,Math.min(c,e[n])):e[n];if(S){m=(v+=h)+d}else{if(T)h=Math.max(s,Math.min(c,2*T[n]-v));if(h<v){m=v;v=h}else{m=h}}if(p[0]!=v||p[1]!=m){if(n)a=null;else u=null;p[0]=v;p[1]=m;return true}}function H(){D();y.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null);e.select("body").style("cursor",null);k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);x();g({type:"brushend"})}var c=this,m=e.select(e.event.target),g=t.of(c,arguments),y=e.select(c),b=m.datum(),w=!/^(n|s)$/.test(b)&&n,E=!/^(e|w)$/.test(b)&&r,S=m.classed("extent"),x=ht(),T,N=e.mouse(c),C;var k=e.select(s).on("keydown.brush",M).on("keyup.brush",_);if(e.event.changedTouches){k.on("touchmove.brush",D).on("touchend.brush",H)}else{k.on("mousemove.brush",D).on("mouseup.brush",H)}y.interrupt().selectAll("*").interrupt();if(S){N[0]=i[0]-N[0];N[1]=o[0]-N[1]}else if(b){var L=+/w$/.test(b),O=+/^n/.test(b);C=[i[1-L]-N[0],o[1-O]-N[1]];N[0]=i[L];N[1]=o[O]}else if(e.event.altKey)T=N.slice();y.style("pointer-events","none").selectAll(".resize").style("display",null);e.select("body").style("cursor",m.style("cursor"));g({type:"brushstart"});D()}var t=M(h,"brushstart","brush","brushend"),n=null,r=null,i=[0,0],o=[0,0],u,a,f=true,l=true,c=Ka[0];h.event=function(n){n.each(function(){var n=t.of(this,arguments),r={x:i,y:o,i:u,j:a},s=this.__chart__||r;this.__chart__=r;if(Ia){e.select(this).transition().each("start.brush",function(){u=s.i;a=s.j;i=s.x;o=s.y;n({type:"brushstart"})}).tween("brush:brush",function(){var e=Rs(i,r.x),t=Rs(o,r.y);u=a=null;return function(s){i=r.x=e(s);o=r.y=t(s);n({type:"brush",mode:"resize"})}}).each("end.brush",function(){u=r.i;a=r.j;n({type:"brush",mode:"resize"});n({type:"brushend"})})}else{n({type:"brushstart"});n({type:"brush",mode:"resize"});n({type:"brushend"})}})};h.x=function(e){if(!arguments.length)return n;n=e;c=Ka[!n<<1|!r];return h};h.y=function(e){if(!arguments.length)return r;r=e;c=Ka[!n<<1|!r];return h};h.clamp=function(e){if(!arguments.length)return n&&r?[f,l]:n?f:r?l:null;if(n&&r)f=!!e[0],l=!!e[1];else if(n)f=!!e;else if(r)l=!!e;return h};h.extent=function(e){var t,s,f,l,c;if(!arguments.length){if(n){if(u){t=u[0],s=u[1]}else{t=i[0],s=i[1];if(n.invert)t=n.invert(t),s=n.invert(s);if(s<t)c=t,t=s,s=c}}if(r){if(a){f=a[0],l=a[1]}else{f=o[0],l=o[1];if(r.invert)f=r.invert(f),l=r.invert(l);if(l<f)c=f,f=l,l=c}}return n&&r?[[t,f],[s,l]]:n?[t,s]:r&&[f,l]}if(n){t=e[0],s=e[1];if(r)t=t[0],s=s[0];u=[t,s];if(n.invert)t=n(t),s=n(s);if(s<t)c=t,t=s,s=c;if(t!=i[0]||s!=i[1])i=[t,s]}if(r){f=e[0],l=e[1];if(n)f=f[1],l=l[1];a=[f,l];if(r.invert)f=r(f),l=r(l);if(l<f)c=f,f=l,l=c;if(f!=o[0]||l!=o[1])o=[f,l]}return h};h.clear=function(){if(!h.empty()){i=[0,0],o=[0,0];u=a=null}return h};h.empty=function(){return!!n&&i[0]==i[1]||!!r&&o[0]==o[1]};return e.rebind(h,t,"on")};var Ja={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var Ka=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var Qa=e.time={},Ga=Date,Ya=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Za.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ef.setUTCDate.apply(this._,arguments)},setDay:function(){ef.setUTCDay.apply(this._,arguments)},setFullYear:function(){ef.setUTCFullYear.apply(this._,arguments)},setHours:function(){ef.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ef.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ef.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ef.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ef.setUTCSeconds.apply(this._,arguments)},setTime:function(){ef.setTime.apply(this._,arguments)}};var ef=Date.prototype;var tf="%a %b %e %X %Y",nf="%m/%d/%Y",rf="%H:%M:%S";var sf=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],of=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],uf=["January","February","March","April","May","June","July","August","September","October","November","December"],af=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Qa.year=ff(function(e){e=Qa.day(e);e.setMonth(0,1);return e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()});Qa.years=Qa.year.range;Qa.years.utc=Qa.year.utc.range;Qa.day=ff(function(e){var t=new Ga(2e3,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate());return t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1});Qa.days=Qa.day.range;Qa.days.utc=Qa.day.utc.range;Qa.dayOfYear=function(e){var t=Qa.year(e);return Math.floor((e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)};Ya.forEach(function(e,t){e=e.toLowerCase();t=7-t;var n=Qa[e]=ff(function(e){(e=Qa.day(e)).setDate(e.getDate()-(e.getDay()+t)%7);return e},function(e,t){e.setDate(e.getDate()+Math.floor(t)*7)},function(e){var n=Qa.year(e).getDay();return Math.floor((Qa.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Qa[e+"s"]=n.range;Qa[e+"s"].utc=n.utc.range;Qa[e+"OfYear"]=function(e){var n=Qa.year(e).getDay();return Math.floor((Qa.dayOfYear(e)+(n+t)%7)/7)}});Qa.week=Qa.sunday;Qa.weeks=Qa.sunday.range;Qa.weeks.utc=Qa.sunday.utc.range;Qa.weekOfYear=Qa.sundayOfYear;Qa.format=cf;var mf=pf(sf),gf=df(sf),yf=pf(of),bf=df(of),wf=pf(uf),Ef=df(uf),Sf=pf(af),xf=df(af),Tf=/^%/;var Nf={"-":"",_:" ",0:"0"};var Cf={a:function(e){return of[e.getDay()]},A:function(e){return sf[e.getDay()]},b:function(e){return af[e.getMonth()]},B:function(e){return uf[e.getMonth()]},c:cf(tf),d:function(e,t){return vf(e.getDate(),t,2)},e:function(e,t){return vf(e.getDate(),t,2)},H:function(e,t){return vf(e.getHours(),t,2)},I:function(e,t){return vf(e.getHours()%12||12,t,2)},j:function(e,t){return vf(1+Qa.dayOfYear(e),t,3)},L:function(e,t){return vf(e.getMilliseconds(),t,3)},m:function(e,t){return vf(e.getMonth()+1,t,2)},M:function(e,t){return vf(e.getMinutes(),t,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(e,t){return vf(e.getSeconds(),t,2)},U:function(e,t){return vf(Qa.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return vf(Qa.mondayOfYear(e),t,2)},x:cf(nf),X:cf(rf),y:function(e,t){return vf(e.getFullYear()%100,t,2)},Y:function(e,t){return vf(e.getFullYear()%1e4,t,4)},Z:Yf,"%":function(){return"%"}};var kf={a:Lf,A:Af,b:Df,B:Pf,c:Hf,d:zf,e:zf,H:Xf,I:Xf,j:Wf,L:Jf,m:Uf,M:Vf,p:Qf,S:$f,U:Mf,w:Of,W:_f,x:Bf,X:jf,y:If,Y:Ff,Z:qf,"%":Zf};var Kf=/^\s*\d+/;var Gf=e.map({am:0,pm:1});cf.utc=el;var tl=el("%Y-%m-%dT%H:%M:%S.%LZ");cf.iso=Date.prototype.toISOString&&+(new Date("2000-01-01T00:00:00.000Z"))?nl:tl;nl.parse=function(e){var t=new Date(e);return isNaN(t)?null:t};nl.toString=tl.toString;Qa.second=ff(function(e){return new Ga(Math.floor(e/1e3)*1e3)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*1e3)},function(e){return e.getSeconds()});Qa.seconds=Qa.second.range;Qa.seconds.utc=Qa.second.utc.range;Qa.minute=ff(function(e){return new Ga(Math.floor(e/6e4)*6e4)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*6e4)},function(e){return e.getMinutes()});Qa.minutes=Qa.minute.range;Qa.minutes.utc=Qa.minute.utc.range;Qa.hour=ff(function(e){var t=e.getTimezoneOffset()/60;return new Ga((Math.floor(e/36e5-t)+t)*36e5)},function(e,t){e.setTime(e.getTime()+Math.floor(t)*36e5)},function(e){return e.getHours()});Qa.hours=Qa.hour.range;Qa.hours.utc=Qa.hour.utc.range;Qa.month=ff(function(e){e=Qa.day(e);e.setDate(1);return e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()});Qa.months=Qa.month.range;Qa.months.utc=Qa.month.utc.range;var ol=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var ul=[[Qa.second,1],[Qa.second,5],[Qa.second,15],[Qa.second,30],[Qa.minute,1],[Qa.minute,5],[Qa.minute,15],[Qa.minute,30],[Qa.hour,1],[Qa.hour,3],[Qa.hour,6],[Qa.hour,12],[Qa.day,1],[Qa.day,2],[Qa.week,1],[Qa.month,1],[Qa.month,3],[Qa.year,1]];var al=[[cf("%Y"),Tr],[cf("%B"),function(e){return e.getMonth()}],[cf("%b %d"),function(e){return e.getDate()!=1}],[cf("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[cf("%I %p"),function(e){return e.getHours()}],[cf("%I:%M"),function(e){return e.getMinutes()}],[cf(":%S"),function(e){return e.getSeconds()}],[cf(".%L"),function(e){return e.getMilliseconds()}]];var fl=sl(al);ul.year=Qa.year;Qa.scale=function(){return rl(e.scale.linear(),ul,fl)};var ll={range:function(t,n,r){return e.range(+t,+n,r).map(il)}};var cl=ul.map(function(e){return[e[0].utc,e[1]]});var hl=[[el("%Y"),Tr],[el("%B"),function(e){return e.getUTCMonth()}],[el("%b %d"),function(e){return e.getUTCDate()!=1}],[el("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[el("%I %p"),function(e){return e.getUTCHours()}],[el("%I:%M"),function(e){return e.getUTCMinutes()}],[el(":%S"),function(e){return e.getUTCSeconds()}],[el(".%L"),function(e){return e.getUTCMilliseconds()}]];var pl=sl(hl);cl.year=Qa.year.utc;Qa.scale.utc=function(){return rl(e.scale.linear(),cl,pl)};e.text=gn(function(e){return e.responseText});e.json=function(e,t){return yn(e,"application/json",dl,t)};e.html=function(e,t){return yn(e,"text/html",vl,t)};e.xml=gn(function(e){return e.responseXML});return e}();(function(e,t){var n=false;e(document).mouseup(function(){n=false});e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(true===e.data(n.target,t.widgetName+".preventClickEvent")){e.removeData(n.target,t.widgetName+".preventClickEvent");n.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(t){if(n){return}this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel==="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:false;if(!i||s||!this._mouseCapture(t)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==false;if(!this._mouseStarted){t.preventDefault();return true}}if(true===e.data(t.target,this.widgetName+".preventClickEvent")){e.removeData(t.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(e){return r._mouseMove(e)};this._mouseUpDelegate=function(e){return r._mouseUp(e)};e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();n=true;return true},_mouseMove:function(t){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button){return this._mouseUp(t)}if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==false;this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(t.target===this._mouseDownEvent.target){e.data(t.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(t)}return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(e,t){function h(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}function d(t){var n=t[0];if(n.nodeType===9){return{width:t.width(),height:t.height(),offset:{top:0,left:0}}}if(e.isWindow(n)){return{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}}if(n.preventDefault){return{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}}return{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t){return n}var r,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];e("body").append(s);r=o.offsetWidth;s.css("overflow","scroll");i=o.offsetWidth;if(r===i){i=s[0].clientWidth}s.remove();return n=r-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}};e.fn.position=function(t){if(!t||!t.of){return c.apply(this,arguments)}t=e.extend({},t);var n,l,v,m,g,y,b=e(t.of),w=e.position.getWithinInfo(t.within),E=e.position.getScrollInfo(w),S=(t.collision||"flip").split(" "),x={};y=d(b);if(b[0].preventDefault){t.at="left top"}l=y.width;v=y.height;m=y.offset;g=e.extend({},m);e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;if(e.length===1){e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]}e[0]=o.test(e[0])?e[0]:"center";e[1]=u.test(e[1])?e[1]:"center";n=a.exec(e[0]);r=a.exec(e[1]);x[this]=[n?n[0]:0,r?r[0]:0];t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]});if(S.length===1){S[1]=S[0]}if(t.at[0]==="right"){g.left+=l}else if(t.at[0]==="center"){g.left+=l/2}if(t.at[1]==="bottom"){g.top+=v}else if(t.at[1]==="center"){g.top+=v/2}n=h(x.at,l,v);g.left+=n[0];g.top+=n[1];return this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),d=p(this,"marginLeft"),y=p(this,"marginTop"),T=f+d+p(this,"marginRight")+E.width,N=c+y+p(this,"marginBottom")+E.height,C=e.extend({},g),k=h(x.my,a.outerWidth(),a.outerHeight());if(t.my[0]==="right"){C.left-=f}else if(t.my[0]==="center"){C.left-=f/2}if(t.my[1]==="bottom"){C.top-=c}else if(t.my[1]==="center"){C.top-=c/2}C.left+=k[0];C.top+=k[1];if(!e.support.offsetFractions){C.left=s(C.left);C.top=s(C.top)}o={marginLeft:d,marginTop:y};e.each(["left","top"],function(r,i){if(e.ui.position[S[r]]){e.ui.position[S[r]][i](C,{targetWidth:l,targetHeight:v,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:w,elem:a})}});if(t.using){u=function(e){var n=m.left-C.left,s=n+l-f,o=m.top-C.top,u=o+v-c,h={target:{element:b,left:m.left,top:m.top,width:l,height:v},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};if(l<f&&i(n+s)<l){h.horizontal="center"}if(v<c&&i(o+u)<v){h.vertical="middle"}if(r(i(n),i(s))>r(i(o),i(u))){h.important="horizontal"}else{h.important="vertical"}t.using.call(this,e,h)}}a.offset(e.extend(C,{using:u}))})};e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;if(t.collisionWidth>s){if(u>0&&a<=0){f=e.left+u+t.collisionWidth-s-i;e.left+=u-f}else if(a>0&&u<=0){e.left=i}else{if(u>a){e.left=i+s-t.collisionWidth}else{e.left=i}}}else if(u>0){e.left+=u}else if(a>0){e.left-=a}else{e.left=r(e.left-o,e.left)}},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;if(t.collisionHeight>s){if(u>0&&a<=0){f=e.top+u+t.collisionHeight-s-i;e.top+=u-f}else if(a>0&&u<=0){e.top=i}else{if(u>a){e.top=i+s-t.collisionHeight}else{e.top=i}}}else if(u>0){e.top+=u}else if(a>0){e.top-=a}else{e.top=r(e.top-o,e.top)}}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a)){e.left+=l+c+h}}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f){e.left+=l+c+h}}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;if(a<0){v=e.top+c+h+p+t.collisionHeight-s-r;if(e.top+c+h+p>a&&(v<0||v<i(a))){e.top+=c+h+p}}else if(f>0){d=e.top-t.collisionPosition.marginTop+c+h+p-o;if(e.top+c+h+p>f&&(d>0||i(d)<f)){e.top+=c+h+p}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(o){e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"})}for(s in r){t.style[s]=r[s]}t.appendChild(u);n=o||document.documentElement;n.insertBefore(t,n.firstChild);u.style.cssText="position: absolute; left: 10.7432222px;";i=e(u).offset().left;e.support.offsetFractions=i>10&&i<11;t.innerHTML="";n.removeChild(t)})()})(jQuery);(function(e){function i(e,t){if(e.originalEvent.touches.length>1){return}e.preventDefault();var n=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,true,true,window,1,n.screenX,n.screenY,n.clientX,n.clientY,false,false,false,false,0,null);e.target.dispatchEvent(r)}e.support.touch="ontouchend"in document;if(!e.support.touch){return}var t=e.ui.mouse.prototype,n=t._mouseInit,r;t._touchStart=function(e){var t=this;if(r||!t._mouseCapture(e.originalEvent.changedTouches[0])){return}r=true;t._touchMoved=false;i(e,"mouseover");i(e,"mousemove");i(e,"mousedown")};t._touchMove=function(e){if(!r){return}this._touchMoved=true;i(e,"mousemove")};t._touchEnd=function(e){if(!r){return}i(e,"mouseup");i(e,"mouseout");if(!this._touchMoved){i(e,"click")}r=false};t._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd"));n.call(t)}})(jQuery);(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){function n(e){return e}function r(e){return decodeURIComponent(e.replace(t," "))}function i(e){if(e.indexOf('"')===0){e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{return s.json?JSON.parse(e):e}catch(t){}}var t=/\+/g;var s=e.cookie=function(t,o,u){if(o!==undefined){u=e.extend({},s.defaults,u);if(typeof u.expires==="number"){var a=u.expires,f=u.expires=new Date;f.setDate(f.getDate()+a)}o=s.json?JSON.stringify(o):String(o);return document.cookie=[s.raw?t:encodeURIComponent(t),"=",s.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}var l=s.raw?n:r;var c=document.cookie.split("; ");var h=t?undefined:{};for(var p=0,d=c.length;p<d;p++){var v=c[p].split("=");var m=l(v.shift());var g=l(v.join("="));if(t&&t===m){h=i(g);break}if(!t){h[m]=i(g)}}return h};s.defaults={};e.removeCookie=function(t,n){if(e.cookie(t)!==undefined){e.cookie(t,"",e.extend({},n,{expires:-1}));return true}return false}});(function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;if(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(t);if(!this.handle){return false}e(n.iframeFix===true?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")});return true},_mouseStart:function(t){var n=this.options;this.helper=this._createHelper(t);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(e.ui.ddmanager){e.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt);this._setContainment();if(this._trigger("start",t)===false){this._clear();return false}this._cacheHelperProportions();if(e.ui.ddmanager&&!n.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,t)}this._mouseDrag(t,true);if(e.ui.ddmanager){e.ui.ddmanager.dragStart(this,t)}return true},_mouseDrag:function(t,n){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===false){this._mouseUp({});return false}this.position=r.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(e.ui.ddmanager){e.ui.ddmanager.drag(this,t)}return false},_mouseStop:function(t){var n=this,r=false;if(e.ui.ddmanager&&!this.options.dropBehaviour){r=e.ui.ddmanager.drop(this,t)}if(this.dropped){r=this.dropped;this.dropped=false}if(this.options.helper==="original"&&!e.contains(this.element[0].ownerDocument,this.element[0])){return false}if(this.options.revert==="invalid"&&!r||this.options.revert==="valid"&&r||this.options.revert===true||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)){e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(n._trigger("stop",t)!==false){n._clear()}})}else{if(this._trigger("stop",t)!==false){this._clear()}}return false},_mouseUp:function(t){e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(e.ui.ddmanager){e.ui.ddmanager.dragStop(this,t)}return e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!r.parents("body").length){r.appendTo(n.appendTo==="parent"?this.element[0].parentNode:n.appendTo)}if(r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))){r.css("position","absolute")}return r},_adjustOffsetFromHelper:function(t){if(typeof t==="string"){t=t.split(" ")}if(e.isArray(t)){t={left:+t[0],top:+t[1]||0}}if("left"in t){this.offset.click.left=t.left+this.margins.left}if("right"in t){this.offset.click.left=this.helperProportions.width-t.right+this.margins.left}if("top"in t){this.offset.click.top=t.top+this.margins.top}if("bottom"in t){this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top}},_getParentOffset:function(){var t=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie){t={top:0,left:0}}return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;if(!i.containment){this.containment=null;return}if(i.containment==="window"){this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment==="document"){this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment.constructor===Array){this.containment=i.containment;return}if(i.containment==="parent"){i.containment=this.helper[0].parentNode}n=e(i.containment);r=n[0];if(!r){return}t=n.css("overflow")!=="hidden";this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=n},_convertPositionTo:function(t,n){if(!n){n=this.position}var r=t==="absolute"?1:-1,i=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}}return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var n,r,i,s,o=this.options,u=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,a=t.pageX,f=t.pageY;if(!this.offset.scroll){this.offset.scroll={top:u.scrollTop(),left:u.scrollLeft()}}if(this.originalPosition){if(this.containment){if(this.relative_container){r=this.relative_container.offset();n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]}else{n=this.containment}if(t.pageX-this.offset.click.left<n[0]){a=n[0]+this.offset.click.left}if(t.pageY-this.offset.click.top<n[1]){f=n[1]+this.offset.click.top}if(t.pageX-this.offset.click.left>n[2]){a=n[2]+this.offset.click.left}if(t.pageY-this.offset.click.top>n[3]){f=n[3]+this.offset.click.top}}if(o.grid){i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i;s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s}}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(t,n,r){r=r||this._uiHash();e.ui.plugin.call(this,t,[n,r]);if(t==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("ui-draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[];e(i.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");if(n&&!n.options.disabled){r.sortables.push({instance:n,shouldRevert:n.options.revert});n.refreshPositions();n._trigger("activate",t,s)}})},stop:function(t,n){var r=e(this).data("ui-draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;r.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(t);this.instance.options.helper=this.instance.options._helper;if(r.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",t,i)}})},drag:function(t,n){var r=e(this).data("ui-draggable"),i=this;e.each(r.sortables,function(){var s=false,o=this;this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){s=true;e.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;if(this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])){s=false}return s})}if(s){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return n.helper[0]};t.target=this.instance.currentItem[0];this.instance._mouseCapture(t,true);this.instance._mouseStart(t,true,true);this.instance.offset.click.top=r.offset.click.top;this.instance.offset.click.left=r.offset.click.left;this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top;r._trigger("toSortable",t);r.dropped=this.instance.element;r.currentItem=r.element;this.instance.fromOutside=r}if(this.instance.currentItem){this.instance._mouseDrag(t)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",t,this.instance._uiHash(this.instance));this.instance._mouseStop(t,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}r._trigger("fromSortable",t);r.dropped=false}}})}});e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;if(t.css("cursor")){n._cursor=t.css("cursor")}t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;if(t._cursor){e("body").css("cursor",t._cursor)}}});e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;if(r.css("opacity")){i._opacity=r.css("opacity")}r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("ui-draggable").options;if(r._opacity){e(n.helper).css("opacity",r._opacity)}}});e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");if(t.scrollParent[0]!==document&&t.scrollParent[0].tagName!=="HTML"){t.overflowOffset=t.scrollParent.offset()}},drag:function(t){var n=e(this).data("ui-draggable"),r=n.options,i=false;if(n.scrollParent[0]!==document&&n.scrollParent[0].tagName!=="HTML"){if(!r.axis||r.axis!=="x"){if(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity){n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed}else if(t.pageY-n.overflowOffset.top<r.scrollSensitivity){n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed}}if(!r.axis||r.axis!=="y"){if(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity){n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed}else if(t.pageX-n.overflowOffset.left<r.scrollSensitivity){n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed}}}else{if(!r.axis||r.axis!=="x"){if(t.pageY-e(document).scrollTop()<r.scrollSensitivity){i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed)}else if(e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity){i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed)}}if(!r.axis||r.axis!=="y"){if(t.pageX-e(document).scrollLeft()<r.scrollSensitivity){i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed)}else if(e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity){i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed)}}}if(i!==false&&e.ui.ddmanager&&!r.dropBehaviour){e.ui.ddmanager.prepareOffsets(n,t)}}});e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[];e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),r=n.offset();if(this!==t.element[0]){t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})}})},drag:function(t,n){var r,i,s,o,u,a,f,l,c,h,p=e(this).data("ui-draggable"),d=p.options,v=d.snapTolerance,m=n.offset.left,g=m+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(c=p.snapElements.length-1;c>=0;c--){u=p.snapElements[c].left;a=u+p.snapElements[c].width;f=p.snapElements[c].top;l=f+p.snapElements[c].height;if(g<u-v||m>a+v||b<f-v||y>l+v||!e.contains(p.snapElements[c].item.ownerDocument,p.snapElements[c].item)){if(p.snapElements[c].snapping){p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item}))}p.snapElements[c].snapping=false;continue}if(d.snapMode!=="inner"){r=Math.abs(f-b)<=v;i=Math.abs(l-y)<=v;s=Math.abs(u-g)<=v;o=Math.abs(a-m)<=v;if(r){n.position.top=p._convertPositionTo("relative",{top:f-p.helperProportions.height,left:0}).top-p.margins.top}if(i){n.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top}if(s){n.position.left=p._convertPositionTo("relative",{top:0,left:u-p.helperProportions.width}).left-p.margins.left}if(o){n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left}}h=r||i||s||o;if(d.snapMode!=="outer"){r=Math.abs(f-y)<=v;i=Math.abs(l-b)<=v;s=Math.abs(u-m)<=v;o=Math.abs(a-g)<=v;if(r){n.position.top=p._convertPositionTo("relative",{top:f,left:0}).top-p.margins.top}if(i){n.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top}if(s){n.position.left=p._convertPositionTo("relative",{top:0,left:u}).left-p.margins.left}if(o){n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left}}if(!p.snapElements[c].snapping&&(r||i||s||o||h)){p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item}))}p.snapElements[c].snapping=r||i||s||o||h}}});e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,r=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!r.length){return}t=parseInt(e(r[0]).css("zIndex"),10)||0;e(r).each(function(n){e(this).css("zIndex",t+n)});this.css("zIndex",t+r.length)}});e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;if(r.css("zIndex")){i._zIndex=r.css("zIndex")}r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("ui-draggable").options;if(r._zIndex){e(n.helper).css("zIndex",r._zIndex)}}})})(jQuery);(function(e,t){function n(e,t,n){return e>t&&e<t+n}e.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,n=t.accept;this.isover=false;this.isout=true;this.accept=e.isFunction(n)?n:function(e){return e.is(n)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};e.ui.ddmanager.droppables[t.scope]=e.ui.ddmanager.droppables[t.scope]||[];e.ui.ddmanager.droppables[t.scope].push(this);t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=0,n=e.ui.ddmanager.droppables[this.options.scope];for(;t<n.length;t++){if(n[t]===this){n.splice(t,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if(t==="accept"){this.accept=e.isFunction(n)?n:function(e){return e.is(n)}}e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(n){this._trigger("activate",t,this.ui(n))}},_deactivate:function(t){var n=e.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(n){this._trigger("deactivate",t,this.ui(n))}},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],n.currentItem||n.element)){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",t,this.ui(n))}},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],n.currentItem||n.element)){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",t,this.ui(n))}},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=false;if(!r||(r.currentItem||r.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)){i=true;return false}});if(i){return false}if(this.accept.call(this.element[0],r.currentItem||r.element)){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",t,this.ui(r));return this.element}return false},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}});e.ui.intersect=function(e,t,r){if(!t.offset){return false}var i,s,o=(e.positionAbs||e.position.absolute).left,u=o+e.helperProportions.width,a=(e.positionAbs||e.position.absolute).top,f=a+e.helperProportions.height,l=t.offset.left,c=l+t.proportions.width,h=t.offset.top,p=h+t.proportions.height;switch(r){case"fit":return l<=o&&u<=c&&h<=a&&f<=p;case"intersect":return l<o+e.helperProportions.width/2&&u-e.helperProportions.width/2<c&&h<a+e.helperProportions.height/2&&f-e.helperProportions.height/2<p;case"pointer":i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left;s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return n(s,h,t.proportions.height)&&n(i,l,t.proportions.width);case"touch":return(a>=h&&a<=p||f>=h&&f<=p||a<h&&f>p)&&(o>=l&&o<=c||u>=l&&u<=c||o<l&&u>c);default:return false}};e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<s.length;r++){if(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element)){continue}for(i=0;i<u.length;i++){if(u[i]===s[r].element[0]){s[r].proportions.height=0;continue e}}s[r].visible=s[r].element.css("display")!=="none";if(!s[r].visible){continue}if(o==="mousedown"){s[r]._activate.call(s[r],n)}s[r].offset=s[r].element.offset();s[r].proportions={width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight}}},drop:function(t,n){var r=false;e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)){r=this._drop.call(this,n)||r}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)){this.isout=true;this.isover=false;this._deactivate.call(this,n)}});return r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){if(!t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,n)}})},drag:function(t,n){if(t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,n)}e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var r,i,s,o=e.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;if(!u){return}if(this.options.greedy){i=this.options.scope;s=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===i});if(s.length){r=e.data(s[0],"ui-droppable");r.greedyChild=u==="isover"}}if(r&&u==="isover"){r.isover=false;r.isout=true;r._out.call(r,n)}this[u]=true;this[u==="isout"?"isover":"isout"]=false;this[u==="isover"?"_over":"_out"].call(this,n);if(r&&u==="isout"){r.isout=false;r.isover=true;r._over.call(r,n)}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable");if(!t.options.refreshPositions){e.ui.ddmanager.prepareOffsets(t,n)}}}})(jQuery);(function(e,t){function n(e){return parseInt(e,10)||0}function r(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,r,i,s,o=this,u=this.options;this.element.addClass("ui-resizable");e.extend(this,{_aspectRatio:!!u.aspectRatio,aspectRatio:u.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:u.helper||u.ghost||u.animate?u.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=u.handles||(!e(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}t=this.handles.split(",");this.handles={};for(n=0;n<t.length;n++){r=e.trim(t[n]);s="ui-resizable-"+r;i=e("<div class='ui-resizable-handle "+s+"'></div>");i.css({zIndex:u.zIndex});if("se"===r){i.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[r]=".ui-resizable-"+r;this.element.append(i)}}this._renderAxis=function(t){var n,r,i,s;t=t||this.element;for(n in this.handles){if(this.handles[n].constructor===String){this.handles[n]=e(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){r=e(this.handles[n],this.element);s=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth();i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(i,s);this._proportionallyResize()}if(!e(this.handles[n]).length){continue}}};this._renderAxis(this.element);this._handles=e(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!o.resizing){if(this.className){i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}o.axis=i&&i[1]?i[1]:"se"}});if(u.autoHide){this._handles.hide();e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(u.disabled){return}e(this).removeClass("ui-resizable-autohide");o._handles.show()}).mouseleave(function(){if(u.disabled){return}if(!o.resizing){e(this).addClass("ui-resizable-autohide");o._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){n(this.element);t=this.element;this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t);t.remove()}this.originalElement.css("resize",this.originalResizeStyle);n(this.originalElement);return this},_mouseCapture:function(t){var n,r,i=false;for(n in this.handles){r=e(this.handles[n])[0];if(r===t.target||e.contains(r,t.target)){i=true}}return!this.options.disabled&&i},_mouseStart:function(t){var r,i,s,o=this.options,u=this.element.position(),a=this.element;this.resizing=true;if(/absolute/.test(a.css("position"))){a.css({position:"absolute",top:a.css("top"),left:a.css("left")})}else if(a.is(".ui-draggable")){a.css({position:"absolute",top:u.top,left:u.left})}this._renderProxy();r=n(this.helper.css("left"));i=n(this.helper.css("top"));if(o.containment){r+=e(o.containment).scrollLeft()||0;i+=e(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:r,top:i};this.size=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()};this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()};this.originalPosition={left:r,top:i};this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()};this.originalMousePosition={left:t.pageX,top:t.pageY};this.aspectRatio=typeof o.aspectRatio==="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;s=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor",s==="auto"?this.axis+"-resize":s);a.addClass("ui-resizable-resizing");this._propagate("start",t);return true},_mouseDrag:function(t){var n,r=this.helper,i={},s=this.originalMousePosition,o=this.axis,u=this.position.top,a=this.position.left,f=this.size.width,l=this.size.height,c=t.pageX-s.left||0,h=t.pageY-s.top||0,p=this._change[o];if(!p){return false}n=p.apply(this,[t,c,h]);this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey){n=this._updateRatio(n,t)}n=this._respectSize(n,t);this._updateCache(n);this._propagate("resize",t);if(this.position.top!==u){i.top=this.position.top+"px"}if(this.position.left!==a){i.left=this.position.left+"px"}if(this.size.width!==f){i.width=this.size.width+"px"}if(this.size.height!==l){i.height=this.size.height+"px"}r.css(i);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!e.isEmptyObject(i)){this._trigger("resize",t,this.ui())}return false},_mouseStop:function(t){this.resizing=false;var n,r,i,s,o,u,a,f=this.options,l=this;if(this._helper){n=this._proportionallyResizeElements;r=n.length&&/textarea/i.test(n[0].nodeName);i=r&&e.ui.hasScroll(n[0],"left")?0:l.sizeDiff.height;s=r?0:l.sizeDiff.width;o={width:l.helper.width()-s,height:l.helper.height()-i};u=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null;a=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null;if(!f.animate){this.element.css(e.extend(o,{top:a,left:u}))}l.helper.height(l.size.height);l.helper.width(l.size.width);if(this._helper&&!f.animate){this._proportionallyResize()}}e("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",t);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(e){var t,n,i,s,o,u=this.options;o={minWidth:r(u.minWidth)?u.minWidth:0,maxWidth:r(u.maxWidth)?u.maxWidth:Infinity,minHeight:r(u.minHeight)?u.minHeight:0,maxHeight:r(u.maxHeight)?u.maxHeight:Infinity};if(this._aspectRatio||e){t=o.minHeight*this.aspectRatio;i=o.minWidth/this.aspectRatio;n=o.maxHeight*this.aspectRatio;s=o.maxWidth/this.aspectRatio;if(t>o.minWidth){o.minWidth=t}if(i>o.minHeight){o.minHeight=i}if(n<o.maxWidth){o.maxWidth=n}if(s<o.maxHeight){o.maxHeight=s}}this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset();if(r(e.left)){this.position.left=e.left}if(r(e.top)){this.position.top=e.top}if(r(e.height)){this.size.height=e.height}if(r(e.width)){this.size.width=e.width}},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;if(r(e.height)){e.width=e.height*this.aspectRatio}else if(r(e.width)){e.height=e.width/this.aspectRatio}if(i==="sw"){e.left=t.left+(n.width-e.width);e.top=null}if(i==="nw"){e.top=t.top+(n.height-e.height);e.left=t.left+(n.width-e.width)}return e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=r(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=r(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=r(e.width)&&t.minWidth&&t.minWidth>e.width,u=r(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,f=this.position.top+this.size.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);if(o){e.width=t.minWidth}if(u){e.height=t.minHeight}if(i){e.width=t.maxWidth}if(s){e.height=t.maxHeight}if(o&&l){e.left=a-t.minWidth}if(i&&l){e.left=a-t.maxWidth}if(u&&c){e.top=f-t.minHeight}if(s&&c){e.top=f-t.maxHeight}if(!e.width&&!e.height&&!e.left&&e.top){e.top=null}else if(!e.width&&!e.height&&!e.top&&e.left){e.left=null}return e},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var e,t,n,r,i,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){i=this._proportionallyResizeElements[e];if(!this.borderDif){this.borderDif=[];n=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")];r=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];for(t=0;t<n.length;t++){this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(r[t],10)||0)}}i.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]);t!=="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),r=n.options,i=n._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,u=s?0:n.sizeDiff.width,a={width:n.size.width-u,height:n.size.height-o},f=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(a,l&&f?{top:l,left:f}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};if(i&&i.length){e(i[0]).css({width:r.width,height:r.height})}n._updateCache(r);n._propagate("resize",t)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var t,r,i,s,o,u,a,f=e(this).data("ui-resizable"),l=f.options,c=f.element,h=l.containment,p=h instanceof e?h.get(0):/parent/.test(h)?c.parent().get(0):h;if(!p){return}f.containerElement=e(p);if(/document/.test(h)||h===document){f.containerOffset={left:0,top:0};f.containerPosition={left:0,top:0};f.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}}else{t=e(p);r=[];e(["Top","Right","Left","Bottom"]).each(function(e,i){r[e]=n(t.css("padding"+i))});f.containerOffset=t.offset();f.containerPosition=t.position();f.containerSize={height:t.innerHeight()-r[3],width:t.innerWidth()-r[1]};i=f.containerOffset;s=f.containerSize.height;o=f.containerSize.width;u=e.ui.hasScroll(p,"left")?p.scrollWidth:o;a=e.ui.hasScroll(p)?p.scrollHeight:s;f.parentData={element:p,left:i.left,top:i.top,width:u,height:a}}},resize:function(t){var n,r,i,s,o=e(this).data("ui-resizable"),u=o.options,a=o.containerOffset,f=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement;if(h[0]!==document&&/static/.test(h.css("position"))){c=a}if(f.left<(o._helper?a.left:0)){o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left);if(l){o.size.height=o.size.width/o.aspectRatio}o.position.left=u.helper?a.left:0}if(f.top<(o._helper?a.top:0)){o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top);if(l){o.size.width=o.size.height*o.aspectRatio}o.position.top=o._helper?a.top:0}o.offset.left=o.parentData.left+o.position.left;o.offset.top=o.parentData.top+o.position.top;n=Math.abs((o._helper?o.offset.left-c.left:o.offset.left-c.left)+o.sizeDiff.width);r=Math.abs((o._helper?o.offset.top-c.top:o.offset.top-a.top)+o.sizeDiff.height);i=o.containerElement.get(0)===o.element.parent().get(0);s=/relative|absolute/.test(o.containerElement.css("position"));if(i&&s){n-=o.parentData.left}if(n+o.size.width>=o.parentData.width){o.size.width=o.parentData.width-n;if(l){o.size.height=o.size.width/o.aspectRatio}}if(r+o.size.height>=o.parentData.height){o.size.height=o.parentData.height-r;if(l){o.size.width=o.size.height*o.aspectRatio}}},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.containerOffset,i=t.containerPosition,s=t.containerElement,o=e(t.helper),u=o.offset(),a=o.outerWidth()-t.sizeDiff.width,f=o.outerHeight()-t.sizeDiff.height;if(t._helper&&!n.animate&&/relative/.test(s.css("position"))){e(this).css({left:u.left-i.left-r.left,width:a,height:f})}if(t._helper&&!n.animate&&/static/.test(s.css("position"))){e(this).css({left:u.left-i.left-r.left,width:a,height:f})}}});e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};if(typeof n.alsoResize==="object"&&!n.alsoResize.parentNode){if(n.alsoResize.length){n.alsoResize=n.alsoResize[0];r(n.alsoResize)}else{e.each(n.alsoResize,function(e){r(e)})}}else{r(n.alsoResize)}},resize:function(t,n){var r=e(this).data("ui-resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);if(n&&n>=0){s[t]=n||null}});t.css(s)})};if(typeof i.alsoResize==="object"&&!i.alsoResize.nodeType){e.each(i.alsoResize,function(e,t){a(e,t)})}else{a(i.alsoResize)}},stop:function(){e(this).removeData("resizable-alsoresize")}});e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof n.ghost==="string"?n.ghost:"");t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");if(t.ghost){t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})}},stop:function(){var t=e(this).data("ui-resizable");if(t.ghost&&t.helper){t.helper.get(0).removeChild(t.ghost.get(0))}}});e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size,i=t.originalSize,s=t.originalPosition,o=t.axis,u=typeof n.grid==="number"?[n.grid,n.grid]:n.grid,a=u[0]||1,f=u[1]||1,l=Math.round((r.width-i.width)/a)*a,c=Math.round((r.height-i.height)/f)*f,h=i.width+l,p=i.height+c,d=n.maxWidth&&n.maxWidth<h,v=n.maxHeight&&n.maxHeight<p,m=n.minWidth&&n.minWidth>h,g=n.minHeight&&n.minHeight>p;n.grid=u;if(m){h=h+a}if(g){p=p+f}if(d){h=h-a}if(v){p=p-f}if(/^(se|s|e)$/.test(o)){t.size.width=h;t.size.height=p}else if(/^(ne)$/.test(o)){t.size.width=h;t.size.height=p;t.position.top=s.top-c}else if(/^(sw)$/.test(o)){t.size.width=h;t.size.height=p;t.position.left=s.left-l}else{t.size.width=h;t.size.height=p;t.position.top=s.top-c;t.position.left=s.left-l}}})})(jQuery);(function(e,t){e.widget("ui.selectable",e.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){t=e(n.options.filter,n.element[0]);t.addClass("ui-selectee");t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:false,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})};this.refresh();this.selectees=t.addClass("ui-selectee");this._mouseInit();this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY];if(this.options.disabled){return}this.selectees=e(r.filter,this.element[0]);this._trigger("start",t);e(r.appendTo).append(this.helper);this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0});if(r.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=true;if(!t.metaKey&&!t.ctrlKey){r.$element.removeClass("ui-selected");r.selected=false;r.$element.addClass("ui-unselecting");r.unselecting=true;n._trigger("unselecting",t,{unselecting:r.element})}});e(t.target).parents().addBack().each(function(){var r,i=e.data(this,"selectable-item");if(i){r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected");i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting");i.unselecting=!r;i.selecting=r;i.selected=r;if(r){n._trigger("selecting",t,{selecting:i.element})}else{n._trigger("unselecting",t,{unselecting:i.element})}return false}})},_mouseDrag:function(t){this.dragged=true;if(this.options.disabled){return}var n,r=this,i=this.options,s=this.opos[0],o=this.opos[1],u=t.pageX,a=t.pageY;if(s>u){n=u;u=s;s=n}if(o>a){n=a;a=o;o=n}this.helper.css({left:s,top:o,width:u-s,height:a-o});this.selectees.each(function(){var n=e.data(this,"selectable-item"),f=false;if(!n||n.element===r.element[0]){return}if(i.tolerance==="touch"){f=!(n.left>u||n.right<s||n.top>a||n.bottom<o)}else if(i.tolerance==="fit"){f=n.left>s&&n.right<u&&n.top>o&&n.bottom<a}if(f){if(n.selected){n.$element.removeClass("ui-selected");n.selected=false}if(n.unselecting){n.$element.removeClass("ui-unselecting");n.unselecting=false}if(!n.selecting){n.$element.addClass("ui-selecting");n.selecting=true;r._trigger("selecting",t,{selecting:n.element})}}else{if(n.selecting){if((t.metaKey||t.ctrlKey)&&n.startselected){n.$element.removeClass("ui-selecting");n.selecting=false;n.$element.addClass("ui-selected");n.selected=true}else{n.$element.removeClass("ui-selecting");n.selecting=false;if(n.startselected){n.$element.addClass("ui-unselecting");n.unselecting=true}r._trigger("unselecting",t,{unselecting:n.element})}}if(n.selected){if(!t.metaKey&&!t.ctrlKey&&!n.startselected){n.$element.removeClass("ui-selected");n.selected=false;n.$element.addClass("ui-unselecting");n.unselecting=true;r._trigger("unselecting",t,{unselecting:n.element})}}}});return false},_mouseStop:function(t){var n=this;this.dragged=false;e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting");r.unselecting=false;r.startselected=false;n._trigger("unselected",t,{unselected:r.element})});e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected");r.selecting=false;r.selected=true;r.startselected=true;n._trigger("selected",t,{selected:r.element})});this._trigger("stop",t);this.helper.remove();return false}})})(jQuery);(function(e,t){function n(e,t,n){return e>t&&e<t+n}function r(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?e.axis==="x"||r(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--){this.items[e].item.removeData(this.widgetName+"-item")}return this},_setOption:function(t,n){if(t==="disabled"){this.options[t]=n;this.widget().toggleClass("ui-sortable-disabled",!!n)}else{e.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(t,n){var r=null,i=false,s=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(t);e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s){r=e(this);return false}});if(e.data(t.target,s.widgetName+"-item")===s){r=e(t.target)}if(!r){return false}if(this.options.handle&&!n){e(this.options.handle,r).find("*").addBack().each(function(){if(this===t.target){i=true}});if(!i){return false}}this.currentItem=r;this._removeCurrentsFromItems();return true},_mouseStart:function(t,n,r){var i,s,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(t);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(o.containment){this._setContainment()}if(o.cursor&&o.cursor!=="auto"){s=this.document.find("body");this.storedCursor=s.css("cursor");s.css("cursor",o.cursor);this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)}if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",o.opacity)}if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",o.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",t,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!r){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",t,this._uiHash(this))}}if(e.ui.ddmanager){e.ui.ddmanager.current=this}if(e.ui.ddmanager&&!o.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,t)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(t);return true},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=false;this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed}else if(t.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed}if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed}else if(t.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed}}else{if(t.pageY-e(document).scrollTop()<o.scrollSensitivity){u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed)}else if(e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity){u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)}if(t.pageX-e(document).scrollLeft()<o.scrollSensitivity){u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed)}else if(e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity){u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed)}}if(u!==false&&e.ui.ddmanager&&!o.dropBehaviour){e.ui.ddmanager.prepareOffsets(this,t)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(n=this.items.length-1;n>=0;n--){r=this.items[n];i=r.item[0];s=this._intersectsWithPointer(r);if(!s){continue}if(r.instance!==this.currentContainer){continue}if(i!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],i):true)){this.direction=s===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(r)){this._rearrange(t,r)}else{break}this._trigger("change",t,this._uiHash());break}}this._contactContainers(t);if(e.ui.ddmanager){e.ui.ddmanager.drag(this,t)}this._trigger("sort",t,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(t,n){if(!t){return}if(e.ui.ddmanager&&!this.options.dropBehaviour){e.ui.ddmanager.drop(this,t)}if(this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};if(!s||s==="x"){o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!s||s==="y"){o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else{this._clear(t,n)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var t=this.containers.length-1;t>=0;t--){this.containers[t]._trigger("deactivate",null,this._uiHash(this));if(this.containers[t].containerCache.over){this.containers[t]._trigger("out",null,this._uiHash(this));this.containers[t].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}e.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){e(this.domPosition.prev).after(this.currentItem)}else{e(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];t=t||{};e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);if(n){r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}});if(!r.length&&t.key){r.push(t.key+"=")}return r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];t=t||{};n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")});return r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=this.options.axis==="x"||r+f>u&&r+f<a,h=this.options.axis==="y"||t+l>s&&t+l<o,p=c&&h;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]){return p}else{return s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a}},_intersectsWithPointer:function(e){var t=this.options.axis==="x"||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),r=this.options.axis==="y"||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();if(!i){return false}return this.floating?o&&o==="right"||s==="down"?2:1:s&&(s==="down"?2:1)},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();if(this.floating&&s){return s==="right"&&r||s==="left"&&!r}else{return i&&(i==="down"&&t||i==="up"&&!t)}},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,r,i,s,o=[],u=[],a=this._connectWith();if(a&&t){for(n=a.length-1;n>=0;n--){i=e(a[n]);for(r=i.length-1;r>=0;r--){s=e.data(i[r],this.widgetFullName);if(s&&s!==this&&!s.options.disabled){u.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}}}}u.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(n=u.length-1;n>=0;n--){u[n][0].each(function(){o.push(this)})}return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++){if(t[n]===e.item[0]){return false}}return true})},_refreshItems:function(t){this.items=[];this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready){for(n=h.length-1;n>=0;n--){i=e(h[n]);for(r=i.length-1;r>=0;r--){s=e.data(i[r],this.widgetFullName);if(s&&s!==this&&!s.options.disabled){c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]);this.containers.push(s)}}}}for(n=c.length-1;n>=0;n--){o=c[n][1];u=c[n][0];for(r=0,f=u.length;r<f;r++){a=e(u[r]);a.data(this.widgetName+"-item",o);l.push({item:a,instance:o,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var n,r,i,s;for(n=this.items.length-1;n>=0;n--){r=this.items[n];if(r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]){continue}i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;if(!t){r.width=i.outerWidth();r.height=i.outerHeight()}s=i.offset();r.left=s.left;r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(n=this.containers.length-1;n>=0;n--){s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left;this.containers[n].containerCache.top=s.top;this.containers[n].containerCache.width=this.containers[n].element.outerWidth();this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}}return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;if(!r.placeholder||r.placeholder.constructor===String){n=r.placeholder;r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(r==="tr"){t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})}else if(r==="img"){i.attr("src",t.currentItem.attr("src"))}if(!n){i.css("visibility","hidden")}return i},update:function(e,i){if(n&&!r.forcePlaceholderSize){return}if(!i.height()){i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10))}if(!i.width()){i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}}t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,s,o,u,a,f,l,c,h,p,d=null,v=null;for(i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0])){continue}if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0])){continue}d=this.containers[i];v=i}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",t,this._uiHash(this));this.containers[i].containerCache.over=0}}}if(!d){return}if(this.containers.length===1){if(!this.containers[v].containerCache.over){this.containers[v]._trigger("over",t,this._uiHash(this));this.containers[v].containerCache.over=1}}else{o=1e4;u=null;p=d.floating||r(this.currentItem);a=p?"left":"top";f=p?"width":"height";l=this.positionAbs[a]+this.offset.click[a];for(s=this.items.length-1;s>=0;s--){if(!e.contains(this.containers[v].element[0],this.items[s].item[0])){continue}if(this.items[s].item[0]===this.currentItem[0]){continue}if(p&&!n(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height)){continue}c=this.items[s].item.offset()[a];h=false;if(Math.abs(c-l)>Math.abs(c+this.items[s][f]-l)){h=true;c+=this.items[s][f]}if(Math.abs(c-l)<o){o=Math.abs(c-l);u=this.items[s];this.direction=h?"up":"down"}}if(!u&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[v]){return}u?this._rearrange(t,u,null,true):this._rearrange(t,null,this.containers[v].element,true);this._trigger("change",t,this._uiHash());this.containers[v]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[v];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[v]._trigger("over",t,this._uiHash(this));this.containers[v].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper==="clone"?this.currentItem.clone():this.currentItem;if(!r.parents("body").length){e(n.appendTo!=="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0])}if(r[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!r[0].style.width||n.forceHelperSize){r.width(this.currentItem.width())}if(!r[0].style.height||n.forceHelperSize){r.height(this.currentItem.height())}return r},_adjustOffsetFromHelper:function(t){if(typeof t==="string"){t=t.split(" ")}if(e.isArray(t)){t={left:+t[0],top:+t[1]||0}}if("left"in t){this.offset.click.left=t.left+this.margins.left}if("right"in t){this.offset.click.left=this.helperProportions.width-t.right+this.margins.left}if("top"in t){this.offset.click.top=t.top+this.margins.top}if("bottom"in t){this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie){t={top:0,left:0}}return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;if(i.containment==="parent"){i.containment=this.helper[0].parentNode}if(i.containment==="document"||i.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(i.containment)){t=e(i.containment)[0];n=e(i.containment).offset();r=e(t).css("overflow")!=="hidden";this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){if(!n){n=this.position}var r=t==="absolute"?1:-1,i=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,a=/(html|body)/i.test(u[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(t.pageX-this.offset.click.left<this.containment[0]){s=this.containment[0]+this.offset.click.left}if(t.pageY-this.offset.click.top<this.containment[1]){o=this.containment[1]+this.offset.click.top}if(t.pageX-this.offset.click.left>this.containment[2]){s=this.containment[2]+this.offset.click.left}if(t.pageY-this.offset.click.top>this.containment[3]){o=this.containment[3]+this.offset.click.top}}if(i.grid){n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1];o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n;r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0];s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){if(i===this.counter){this.refreshPositions(!r)}})},_clear:function(e,t){this.reverting=false;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(n in this._storedCSS){if(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static"){this._storedCSS[n]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!t){r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t){r.push(function(e){this._trigger("update",e,this._uiHash())})}if(this!==this.currentContainer){if(!t){r.push(function(e){this._trigger("remove",e,this._uiHash())});r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer));r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))}}for(n=this.containers.length-1;n>=0;n--){if(!t){r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n]))}if(this.containers[n].containerCache.over){r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n]));this.containers[n].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!t){this._trigger("beforeStop",e,this._uiHash());for(n=0;n<r.length;n++){r[n].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return false}if(!t){this._trigger("beforeStop",e,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!t){for(n=0;n<r.length;n++){r[n].call(this,e)}this._trigger("stop",e,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(e.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})(jQuery);+function(e){"use strict";function i(){e(t).remove();e(n).each(function(t){var n=s(e(this));if(!n.hasClass("open"))return;n.trigger(t=e.Event("hide.bs.dropdown"));if(t.isDefaultPrevented())return;n.removeClass("open").trigger("hidden.bs.dropdown")})}function s(t){var n=t.attr("data-target");if(!n){n=t.attr("href");n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")}var r=n&&e(n);return r&&r.length?r:t.parent()}var t=".dropdown-backdrop";var n="[data-toggle=dropdown]";var r=function(t){var n=e(t).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(t){var n=e(this);if(n.is(".disabled, :disabled"))return;var r=s(n);var o=r.hasClass("open");i();if(!o){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length){e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i)}r.trigger(t=e.Event("show.bs.dropdown"));if(t.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown");n.focus()}return false};r.prototype.keydown=function(t){if(!/(38|40|27)/.test(t.keyCode))return;var r=e(this);t.preventDefault();t.stopPropagation();if(r.is(".disabled, :disabled"))return;var i=s(r);var o=i.hasClass("open");if(!o||o&&t.keyCode==27){if(t.which==27)i.find(n).focus();return r.click()}var u=e("[role=menu] li:not(.divider):visible a",i);if(!u.length)return;var a=u.index(u.filter(":focus"));if(t.keyCode==38&&a>0)a--;if(t.keyCode==40&&a<u.length-1)a++;if(!~a)a=0;u.eq(a).focus()};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this);var i=n.data("dropdown");if(!i)n.data("dropdown",i=new r(this));if(typeof t=="string")i[t].call(n)})};e.fn.dropdown.Constructor=r;e.fn.dropdown.noConflict=function(){e.fn.dropdown=o;return this};e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu]",r.prototype.keydown)}(window.jQuery);(function(e,t,n,r){"use strict";var i=function(t,n){this.widget="";this.$element=e(t);this.defaultTime=n.defaultTime;this.disableFocus=n.disableFocus;this.isOpen=n.isOpen;this.minuteStep=n.minuteStep;this.modalBackdrop=n.modalBackdrop;this.secondStep=n.secondStep;this.showInputs=n.showInputs;this.showMeridian=n.showMeridian;this.showSeconds=n.showSeconds;this.template=n.template;this.appendWidgetTo=n.appendWidgetTo;this._init()};i.prototype={constructor:i,_init:function(){var t=this;if(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend")){this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":e.proxy(this.showWidget,this)});this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this)})}else{if(this.template){this.$element.on({"focus.timepicker":e.proxy(this.showWidget,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this)})}else{this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this)})}}if(this.template!==false){this.$widget=e(this.getTemplate()).prependTo(this.$element.parents(this.appendWidgetTo)).on("click",e.proxy(this.widgetClick,this))}else{this.$widget=false}if(this.showInputs&&this.$widget!==false){this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(this).select()},"keydown.timepicker":e.proxy(t.widgetKeydown,t)})})}this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=r;this.updateFromElementVal()},decrementHour:function(){if(this.showMeridian){if(this.hour===1){this.hour=12}else if(this.hour===12){this.hour--;return this.toggleMeridian()}else if(this.hour===0){this.hour=11;return this.toggleMeridian()}else{this.hour--}}else{if(this.hour===0){this.hour=23}else{this.hour--}}this.update()},decrementMinute:function(e){var t;if(e){t=this.minute-e}else{t=this.minute-this.minuteStep}if(t<0){this.decrementHour();this.minute=t+60}else{this.minute=t}this.update()},decrementSecond:function(){var e=this.second-this.secondStep;if(e<0){this.decrementMinute(true);this.second=e+60}else{this.second=e}this.update()},elementKeydown:function(e){switch(e.keyCode){case 9:this.updateFromElementVal();switch(this.highlightedUnit){case"hour":e.preventDefault();this.highlightNextUnit();break;case"minute":if(this.showMeridian||this.showSeconds){e.preventDefault();this.highlightNextUnit()}break;case"second":if(this.showMeridian){e.preventDefault();this.highlightNextUnit()}break}break;case 27:this.updateFromElementVal();break;case 37:e.preventDefault();this.highlightPrevUnit();this.updateFromElementVal();break;case 38:e.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour();this.highlightHour();break;case"minute":this.incrementMinute();this.highlightMinute();break;case"second":this.incrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}break;case 39:e.preventDefault();this.updateFromElementVal();this.highlightNextUnit();break;case 40:e.preventDefault();switch(this.highlightedUnit){case"hour":this.decrementHour();this.highlightHour();break;case"minute":this.decrementMinute();this.highlightMinute();break;case"second":this.decrementSecond();this.highlightSecond();break;case"meridian":this.toggleMeridian();this.highlightMeridian();break}break}},formatTime:function(e,t,n,r){e=e<10?"0"+e:e;t=t<10?"0"+t:t;n=n<10?"0"+n:n;return e+":"+t+(this.showSeconds?":"+n:"")+(this.showMeridian?" "+r:"")},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e){return e.selectionStart}else if(n.selection){e.focus();var t=n.selection.createRange(),r=n.selection.createRange().text.length;t.moveStart("character",-e.value.length);return t.text.length-r}},getTemplate:function(){var e,t,n,r,i,s;if(this.showInputs){t='<input type="text" name="hour" class="bootstrap-timepicker-hour" maxlength="2"/>';n='<input type="text" name="minute" class="bootstrap-timepicker-minute" maxlength="2"/>';r='<input type="text" name="second" class="bootstrap-timepicker-second" maxlength="2"/>';i='<input type="text" name="meridian" class="bootstrap-timepicker-meridian" maxlength="2"/>'}else{t='<span class="bootstrap-timepicker-hour"></span>';n='<span class="bootstrap-timepicker-minute"></span>';r='<span class="bootstrap-timepicker-second"></span>';i='<span class="bootstrap-timepicker-meridian"></span>'}s="<table>"+"<tr>"+'<td><a href="#" data-action="incrementHour"><i class="glyph-icon icon-chevron-up"></i></a></td>'+'<td class="separator">&nbsp;</td>'+'<td><a href="#" data-action="incrementMinute"><i class="glyph-icon icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td>'+'<td><a href="#" data-action="incrementSecond"><i class="glyph-icon icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td>'+'<td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="glyph-icon icon-chevron-up"></i></a></td>':"")+"</tr>"+"<tr>"+"<td>"+t+"</td> "+'<td class="separator">:</td>'+"<td>"+n+"</td> "+(this.showSeconds?'<td class="separator">:</td>'+"<td>"+r+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td>'+"<td>"+i+"</td>":"")+"</tr>"+"<tr>"+'<td><a href="#" data-action="decrementHour"><i class="glyph-icon icon-chevron-down"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" data-action="decrementMinute"><i class="glyph-icon icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td>'+'<td><a href="#" data-action="decrementSecond"><i class="glyph-icon icon-chevron-down"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td>'+'<td><a href="#" data-action="toggleMeridian"><i class="glyph-icon icon-chevron-down"></i></a></td>':"")+"</tr>"+"</table>";switch(this.template){case"modal":e='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'">'+'<div class="modal-header">'+'<a href="#" class="close" data-dismiss="modal">×</a>'+"<h3>Pick a Time</h3>"+"</div>"+'<div class="modal-content">'+s+"</div>"+'<div class="modal-footer">'+'<a href="#" class="btn btn-primary" data-dismiss="modal">OK</a>'+"</div>"+"</div>";break;case"dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+s+"</div>";break}return e},getTime:function(){return this.formatTime(this.hour,this.minute,this.second,this.meridian)},hideWidget:function(){if(this.isOpen===false){return}if(this.showInputs){this.updateFromWidgetInputs()}this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("hide")}else{this.$widget.removeClass("open")}e(n).off("mousedown.timepicker");this.isOpen=false},highlightUnit:function(){this.position=this.getCursorPosition();if(this.position>=0&&this.position<=2){this.highlightHour()}else if(this.position>=3&&this.position<=5){this.highlightMinute()}else if(this.position>=6&&this.position<=8){if(this.showSeconds){this.highlightSecond()}else{this.highlightMeridian()}}else if(this.position>=9&&this.position<=11){this.highlightMeridian()}},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":if(this.showSeconds){this.highlightSecond()}else if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}break;case"second":if(this.showMeridian){this.highlightMeridian()}else{this.highlightHour()}break;case"meridian":this.highlightHour();break}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMeridian();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":if(this.showSeconds){this.highlightSecond()}else{this.highlightMinute()}break}},highlightHour:function(){var e=this.$element.get(0);this.highlightedUnit="hour";if(e.setSelectionRange){setTimeout(function(){e.setSelectionRange(0,2)},0)}},highlightMinute:function(){var e=this.$element.get(0);this.highlightedUnit="minute";if(e.setSelectionRange){setTimeout(function(){e.setSelectionRange(3,5)},0)}},highlightSecond:function(){var e=this.$element.get(0);this.highlightedUnit="second";if(e.setSelectionRange){setTimeout(function(){e.setSelectionRange(6,8)},0)}},highlightMeridian:function(){var e=this.$element.get(0);this.highlightedUnit="meridian";if(e.setSelectionRange){if(this.showSeconds){setTimeout(function(){e.setSelectionRange(9,11)},0)}else{setTimeout(function(){e.setSelectionRange(6,8)},0)}}},incrementHour:function(){if(this.showMeridian){if(this.hour===11){this.hour++;return this.toggleMeridian()}else if(this.hour===12){this.hour=0}}if(this.hour===23){this.hour=0;return}this.hour++;this.update()},incrementMinute:function(e){var t;if(e){t=this.minute+e}else{t=this.minute+this.minuteStep-this.minute%this.minuteStep}if(t>59){this.incrementHour();this.minute=t-60}else{this.minute=t}this.update()},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;if(e>59){this.incrementMinute(true);this.second=e-60}else{this.second=e}this.update()},remove:function(){e("document").off(".timepicker");if(this.$widget){this.$widget.remove()}delete this.$element.data().timepicker},setDefaultTime:function(e){if(!this.$element.val()){if(e==="current"){var t=new Date,n=t.getHours(),r=Math.floor(t.getMinutes()/this.minuteStep)*this.minuteStep,i=Math.floor(t.getSeconds()/this.secondStep)*this.secondStep,s="AM";if(this.showMeridian){if(n===0){n=12}else if(n>=12){if(n>12){n=n-12}s="PM"}else{s="AM"}}this.hour=n;this.minute=r;this.second=i;this.meridian=s;this.update()}else if(e===false){this.hour=0;this.minute=0;this.second=0;this.meridian="AM"}else{this.setTime(e)}}else{this.updateFromElementVal()}},setTime:function(e){var t,n;if(this.showMeridian){t=e.split(" ");n=t[0].split(":");this.meridian=t[1]}else{n=e.split(":")}this.hour=parseInt(n[0],10);this.minute=parseInt(n[1],10);this.second=parseInt(n[2],10);if(isNaN(this.hour)){this.hour=0}if(isNaN(this.minute)){this.minute=0}if(this.showMeridian){if(this.hour>12){this.hour=12}else if(this.hour<1){this.hour=12}if(this.meridian==="am"||this.meridian==="a"){this.meridian="AM"}else if(this.meridian==="pm"||this.meridian==="p"){this.meridian="PM"}if(this.meridian!=="AM"&&this.meridian!=="PM"){this.meridian="AM"}}else{if(this.hour>=24){this.hour=23}else if(this.hour<0){this.hour=0}}if(this.minute<0){this.minute=0}else if(this.minute>=60){this.minute=59}if(this.showSeconds){if(isNaN(this.second)){this.second=0}else if(this.second<0){this.second=0}else if(this.second>=60){this.second=59}}this.update()},showWidget:function(){if(this.isOpen){return}if(this.$element.is(":disabled")){return}var t=this;e(n).on("mousedown.timepicker",function(n){if(e(n.target).closest(".bootstrap-timepicker-widget").length===0){t.hideWidget()}});this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});if(this.disableFocus){this.$element.blur()}this.updateFromElementVal();if(this.template==="modal"&&this.$widget.modal){this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this))}else{if(this.isOpen===false){this.$widget.addClass("open")}}this.isOpen=true},toggleMeridian:function(){this.meridian=this.meridian==="AM"?"PM":"AM";this.update()},update:function(){this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}});this.updateElement();this.updateWidget()},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){var e=this.$element.val();if(e){this.setTime(e)}},updateWidget:function(){if(this.$widget===false){return}var e=this.hour<10?"0"+this.hour:this.hour,t=this.minute<10?"0"+this.minute:this.minute,n=this.second<10?"0"+this.second:this.second;if(this.showInputs){this.$widget.find("input.bootstrap-timepicker-hour").val(e);this.$widget.find("input.bootstrap-timepicker-minute").val(t);if(this.showSeconds){this.$widget.find("input.bootstrap-timepicker-second").val(n)}if(this.showMeridian){this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)}}else{this.$widget.find("span.bootstrap-timepicker-hour").text(e);this.$widget.find("span.bootstrap-timepicker-minute").text(t);if(this.showSeconds){this.$widget.find("span.bootstrap-timepicker-second").text(n)}if(this.showMeridian){this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian)}}},updateFromWidgetInputs:function(){if(this.$widget===false){return}var t=e("input.bootstrap-timepicker-hour",this.$widget).val()+":"+e("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+e("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+e("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setTime(t)},widgetClick:function(t){t.stopPropagation();t.preventDefault();var n=e(t.target).closest("a").data("action");if(n){this[n]()}},widgetKeydown:function(t){var n=e(t.target).closest("input"),r=n.attr("name");switch(t.keyCode){case 9:if(this.showMeridian){if(r==="meridian"){return this.hideWidget()}}else{if(this.showSeconds){if(r==="second"){return this.hideWidget()}}else{if(r==="minute"){return this.hideWidget()}}}this.updateFromWidgetInputs();break;case 27:this.hideWidget();break;case 38:t.preventDefault();switch(r){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian();break}break;case 40:t.preventDefault();switch(r){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian();break}break}}};e.fn.timepicker=function(t){var n=Array.apply(null,arguments);n.shift();return this.each(function(){var r=e(this),s=r.data("timepicker"),o=typeof t==="object"&&t;if(!s){r.data("timepicker",s=new i(this,e.extend({},e.fn.timepicker.defaults,o,e(this).data())))}if(typeof t==="string"){s[t].apply(s,n)}})};e.fn.timepicker.defaults={defaultTime:"current",disableFocus:false,isOpen:false,minuteStep:15,modalBackdrop:false,secondStep:15,showSeconds:false,showInputs:true,showMeridian:true,template:"dropdown",appendWidgetTo:".bootstrap-timepicker"};e.fn.timepicker.Constructor=i})(jQuery,window,document);+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",e,t)};t.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};t.prototype.init=function(t,n,r){this.enabled=true;this.type=t;this.$element=e(n);this.options=this.getOptions(r);var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click"){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else if(o!="manual"){var u=o=="hover"?"mouseenter":"focus";var a=o=="hover"?"mouseleave":"blur";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){t=e.extend({},this.getDefaults(),this.$element.data(),t);if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t};t.prototype.getDelegateOptions=function(){var t={};var n=this.getDefaults();this._options&&e.each(this._options,function(e,r){if(n[e]!=r)t[e]=r});return t};t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout);n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){if(n.hoverState=="in")n.show()},n.options.delay.show)};t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout);n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){if(n.hoverState=="out")n.hide()},n.options.delay.hide)};t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.tip();this.setContent();if(this.options.animation)n.addClass("fade");var r=typeof this.options.placement=="function"?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement;var i=/\s?auto?\s?/i;var s=i.test(r);if(s)r=r.replace(i,"")||"top";n.detach().css({top:0,left:0,display:"block"}).addClass(r);this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var o=this.getPosition();var u=n[0].offsetWidth;var a=n[0].offsetHeight;if(s){var f=this.$element.parent();var l=r;var c=document.documentElement.scrollTop||document.body.scrollTop;var h=this.options.container=="body"?window.innerWidth:f.outerWidth();var p=this.options.container=="body"?window.innerHeight:f.outerHeight();var d=this.options.container=="body"?0:f.offset().left;r=r=="bottom"&&o.top+o.height+a-c>p?"top":r=="top"&&o.top-c-a<0?"bottom":r=="right"&&o.right+u>h?"left":r=="left"&&o.left-u<d?"right":r;n.removeClass(l).addClass(r)}var v=this.getCalculatedOffset(r,o,u,a);this.applyPlacement(v,r);this.$element.trigger("shown.bs."+this.type)}};t.prototype.applyPlacement=function(e,t){var n;var r=this.tip();var i=r[0].offsetWidth;var s=r[0].offsetHeight;var o=parseInt(r.css("margin-top"),10);var u=parseInt(r.css("margin-left"),10);if(isNaN(o))o=0;if(isNaN(u))u=0;e.top=e.top+o;e.left=e.left+u;r.offset(e).addClass("in");var a=r[0].offsetWidth;var f=r[0].offsetHeight;if(t=="top"&&f!=s){n=true;e.top=e.top+s-f}if(/bottom|top/.test(t)){var l=0;if(e.left<0){l=e.left*-2;e.left=0;r.offset(e);a=r[0].offsetWidth;f=r[0].offsetHeight}this.replaceArrow(l-i+a,a,"left")}else{this.replaceArrow(f-s,f,"top")}if(n)r.offset(e)};t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")};t.prototype.setContent=function(){var e=this.tip();var t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")};t.prototype.hide=function(){function i(){if(t.hoverState!="in")n.detach()}var t=this;var n=this.tip();var r=e.Event("hide.bs."+this.type);this.$element.trigger(r);if(r.isDefaultPrevented())return;n.removeClass("in");e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,i).emulateTransitionEnd(150):i();this.$element.trigger("hidden.bs."+this.type);return this};t.prototype.fixTitle=function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())};t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getTitle=function(){var e;var t=this.$element;var n=this.options;e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title);return e};t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};t.prototype.enable=function(){this.enabled=true};t.prototype.disable=function(){this.enabled=false};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)};t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this);var i=r.data("bs.tooltip");var s=typeof n=="object"&&n;if(!i)r.data("bs.tooltip",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.noConflict=function(){e.fn.tooltip=n;return this}}(window.jQuery);+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var e=this.tip();var t=this.getTitle();var n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content")[this.options.html?"html":"text"](n);e.removeClass("fade top bottom left right in");if(!e.find(".popover-title").html())e.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var e=this.$element;var t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};t.prototype.tip=function(){if(!this.$tip)this.$tip=e(this.options.template);return this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this);var i=r.data("bs.popover");var s=typeof n=="object"&&n;if(!i)r.data("bs.popover",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.popover.Constructor=t;e.fn.popover.noConflict=function(){e.fn.popover=n;return this}}(window.jQuery);(function(e){e.easyPieChart=function(t,n){var r,i,s,o,u,a,f,l,c=this;this.el=t;this.$el=e(t);this.$el.data("easyPieChart",this);this.init=function(){var t,r;c.options=e.extend({},e.easyPieChart.defaultOptions,n);t=parseInt(c.$el.data("percent"),10);c.percentage=0;c.canvas=e("<canvas width='"+c.options.size+"' height='"+c.options.size+"'></canvas>").get(0);c.$el.append(c.canvas);if(typeof G_vmlCanvasManager!=="undefined"&&G_vmlCanvasManager!==null){G_vmlCanvasManager.initElement(c.canvas)}c.ctx=c.canvas.getContext("2d");if(window.devicePixelRatio>1){r=window.devicePixelRatio;e(c.canvas).css({width:c.options.size,height:c.options.size});c.canvas.width*=r;c.canvas.height*=r;c.ctx.scale(r,r)}c.ctx.translate(c.options.size/2,c.options.size/2);c.ctx.rotate(c.options.rotate*Math.PI/180);c.$el.addClass("easyPieChart");c.$el.css({width:c.options.size,height:c.options.size,lineHeight:""+c.options.size+"px"});c.update(t);return c};this.update=function(e){e=parseFloat(e)||0;if(c.options.animate===false){s(e)}else{i(c.percentage,e)}return c};f=function(){var e,t,n;c.ctx.fillStyle=c.options.scaleColor;c.ctx.lineWidth=1;n=[];for(e=t=0;t<=24;e=++t){n.push(r(e))}return n};r=function(e){var t;t=e%6===0?0:c.options.size*.017;c.ctx.save();c.ctx.rotate(e*Math.PI/12);c.ctx.fillRect(c.options.size/2-t,0,-c.options.size*.05+t,1);c.ctx.restore()};l=function(){var e;e=c.options.size/2-c.options.lineWidth/2;if(c.options.scaleColor!==false){e-=c.options.size*.08}c.ctx.beginPath();c.ctx.arc(0,0,e,0,Math.PI*2,true);c.ctx.closePath();c.ctx.strokeStyle=c.options.trackColor;c.ctx.lineWidth=c.options.lineWidth;c.ctx.stroke()};a=function(){if(c.options.scaleColor!==false){f()}if(c.options.trackColor!==false){l()}};s=function(t){var n;a();c.ctx.strokeStyle=e.isFunction(c.options.barColor)?c.options.barColor(t):c.options.barColor;c.ctx.lineCap=c.options.lineCap;c.ctx.lineWidth=c.options.lineWidth;n=c.options.size/2-c.options.lineWidth/2;if(c.options.scaleColor!==false){n-=c.options.size*.08}c.ctx.save();c.ctx.rotate(-Math.PI/2);c.ctx.beginPath();c.ctx.arc(0,0,n,0,Math.PI*2*t/100,false);c.ctx.stroke();c.ctx.restore()};u=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}();i=function(e,t){var n,r;c.options.onStart.call(c);c.percentage=t;r=Date.now();n=function(){var i,f;f=Date.now()-r;if(f<c.options.animate){u(n)}c.ctx.clearRect(-c.options.size/2,-c.options.size/2,c.options.size,c.options.size);a.call(c);i=[o(f,e,t-e,c.options.animate)];c.options.onStep.call(c,i);s.call(c,i);if(f>=c.options.animate){return c.options.onStop.call(c)}};u(n)};o=function(e,t,n,r){var i,s;i=function(e){return Math.pow(e,2)};s=function(e){if(e<1){return i(e)}else{return 2-i(e/2*-2+2)}};e/=r/2;return n/2*s(e)+t};return this.init()};e.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",rotate:0,size:110,lineWidth:3,animate:false,onStart:e.noop,onStop:e.noop,onStep:e.noop};e.fn.easyPieChart=function(t){return e.each(this,function(n,r){var i,s;i=e(r);if(!i.data("easyPieChart")){s=e.extend({},t,i.data());return i.data("easyPieChart",new e.easyPieChart(r,s))}})};return void 0})(jQuery);(function(e,t,n){(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.sparkline&&e(jQuery)})(function(r){"use strict";var i={},s,o,u,f,l,h,p,d,v,m,g,y,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=0;s=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:n,normalRangeMax:n,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:n,chartRangeMax:n,chartRangeMinX:n,chartRangeMaxX:n,tooltipFormat:new u('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:n,nullColor:n,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:n,chartRangeMin:n,chartRangeClip:!1,colorMap:n,tooltipFormat:new u('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new u('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:n,thresholdValue:0,chartRangeMax:n,chartRangeMin:n,chartRangeClip:!1,tooltipFormat:new u("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:n,tooltipFormat:new u("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new u('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:n,targetColor:"#4a2",chartRangeMax:n,chartRangeMin:n,tooltipFormat:new u("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},D='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',o=function(){var e,t;return e=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(e.prototype=r.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],arguments.length>2&&(t=Array.prototype.slice.call(arguments,1,-1),t.unshift(e.prototype),r.extend.apply(r,t))):e.prototype=arguments[0],e.prototype.cls=e,e},r.SPFormatClass=u=o({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,r){var i=this,s=e,o,u,a,f,l;return this.format.replace(this.fre,function(){var e;return u=arguments[1],a=arguments[3],o=i.precre.exec(u),o?(l=o[2],u=o[1]):l=!1,f=s[u],f===n?"":a&&t&&t[a]?(e=t[a],e.get?t[a].get(f)||f:t[a][f]||f):(v(f)&&(r.get("numberFormatter")?f=r.get("numberFormatter")(f):f=E(f,l,r.get("numberDigitGroupCount"),r.get("numberDigitGroupSep"),r.get("numberDecimalMark"))),f)})}}),r.spformat=function(e,t){return new u(e,t)},f=function(e,t,n){return e<t?t:e>n?n:e},l=function(e,n){var r;return n===2?(r=t.floor(e.length/2),e.length%2?e[r]:(e[r-1]+e[r])/2):e.length%2?(r=(e.length*n+n)/4,r%1?(e[t.floor(r)]+e[t.floor(r)-1])/2:e[r-1]):(r=(e.length*n+2)/4,r%1?(e[t.floor(r)]+e[t.floor(r)-1])/2:e[r-1])},h=function(e){var t;switch(e){case"undefined":e=n;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:t=parseFloat(e),e==t&&(e=t)}return e},p=function(e){var t,n=[];for(t=e.length;t--;)n[t]=h(e[t]);return n},d=function(e,t){var n,r,i=[];for(n=0,r=e.length;n<r;n++)e[n]!==t&&i.push(e[n]);return i},v=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},E=function(e,t,n,i,s){var o,u;e=(t===!1?parseFloat(e).toString():e.toFixed(t)).split(""),o=(o=r.inArray(".",e))<0?e.length:o,o<e.length&&(e[o]=s);for(u=o-n;u>0;u-=n)e.splice(u,0,i);return e.join("")},m=function(e,t,n){var r;for(r=t.length;r--;){if(n&&t[r]===null)continue;if(t[r]!==e)return!1}return!0},g=function(e){var t=0,n;for(n=e.length;n--;)t+=typeof e[n]=="number"?e[n]:0;return t},w=function(e){return r.isArray(e)?e:[e]},y=function(t){var n;e.createStyleSheet?e.createStyleSheet().cssText=t:(n=e.createElement("style"),n.type="text/css",e.getElementsByTagName("head")[0].appendChild(n),n[typeof e.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=t)},r.fn.simpledraw=function(t,i,s,o){var u,f;if(s&&(u=this.data("_jqs_vcanvas")))return u;if(r.fn.sparkline.canvas===!1)return!1;if(r.fn.sparkline.canvas===n){var l=e.createElement("canvas");if(!l.getContext||!l.getContext("2d")){if(!e.namespaces||!!e.namespaces.v)return r.fn.sparkline.canvas=!1,!1;e.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),r.fn.sparkline.canvas=function(e,t,n,r){return new F(e,t,n)}}else r.fn.sparkline.canvas=function(e,t,n,r){return new j(e,t,n,r)}}return t===n&&(t=r(this).innerWidth()),i===n&&(i=r(this).innerHeight()),u=r.fn.sparkline.canvas(t,i,this,o),f=r(this).data("_jqs_mhandler"),f&&f.registerCanvas(u),u},r.fn.cleardraw=function(){var e=this.data("_jqs_vcanvas");e&&e.reset()},r.RangeMapClass=S=o({init:function(e){var t,n,r=[];for(t in e)e.hasOwnProperty(t)&&typeof t=="string"&&t.indexOf(":")>-1&&(n=t.split(":"),n[0]=n[0].length===0?-Infinity:parseFloat(n[0]),n[1]=n[1].length===0?Infinity:parseFloat(n[1]),n[2]=e[t],r.push(n));this.map=e,this.rangelist=r||!1},get:function(e){var t=this.rangelist,r,i,s;if((s=this.map[e])!==n)return s;if(t)for(r=t.length;r--;){i=t[r];if(i[0]<=e&&i[1]>=e)return i[2]}return n}}),r.range_map=function(e){return new S(e)},x=o({init:function(e,t){var n=r(e);this.$el=n,this.options=t,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!t.get("disableTooltips"),this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(e){this.splist.push(e),this.over&&this.updateDisplay()},registerCanvas:function(e){var t=r(e.canvas);this.canvas=e,this.$canvas=t,t.mouseenter(r.proxy(this.mouseenter,this)),t.mouseleave(r.proxy(this.mouseleave,this)),t.click(r.proxy(this.mouseclick,this))},reset:function(e){this.splist=[],this.tooltip&&e&&(this.tooltip.remove(),this.tooltip=n)},mouseclick:function(e){var t=r.Event("sparklineClick");t.originalEvent=e,t.sparklines=this.splist,this.$el.trigger(t)},mouseenter:function(t){r(e.body).unbind("mousemove.jqs"),r(e.body).bind("mousemove.jqs",r.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new T(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){r(e.body).unbind("mousemove.jqs");var t=this.splist,n=t.length,i=!1,s,o;this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null);for(o=0;o<n;o++)s=t[o],s.clearRegionHighlight()&&(i=!0);i&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var e=this.splist,t=e.length,n=!1,i=this.$canvas.offset(),s=this.currentPageX-i.left,o=this.currentPageY-i.top,u,a,f,l,c;if(!this.over)return;for(f=0;f<t;f++)a=e[f],l=a.setRegionHighlight(this.currentEl,s,o),l&&(n=!0);if(n){c=r.Event("sparklineRegionChange"),c.sparklines=this.splist,this.$el.trigger(c);if(this.tooltip){u="";for(f=0;f<t;f++)a=e[f],u+=a.getCurrentRegionTooltip();this.tooltip.setContent(u)}this.disableHighlight||this.canvas.render()}l===null&&this.mouseleave()}}),T=o({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var n=t.get("tooltipClassname","jqstooltip"),i=this.sizeStyle,s;this.container=t.get("tooltipContainer")||e.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),r("#jqssizetip").remove(),r("#jqstooltip").remove(),this.sizetip=r("<div/>",{id:"jqssizetip",style:i,"class":n}),this.tooltip=r("<div/>",{id:"jqstooltip","class":n}).appendTo(this.container),s=this.tooltip.offset(),this.offsetLeft=s.left,this.offsetTop=s.top,this.hidden=!0,r(window).unbind("resize.jqs scroll.jqs"),r(window).bind("resize.jqs scroll.jqs",r.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=r(window).scrollTop(),this.scrollLeft=r(window).scrollLeft(),this.scrollRight=this.scrollLeft+r(window).width(),this.updatePosition()},getSize:function(e){this.sizetip.html(e).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(e){if(!e){this.tooltip.css("visibility","hidden"),this.hidden=!0;return}this.getSize(e),this.tooltip.html(e).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(e,t){if(e===n){if(this.mousex===n)return;e=this.mousex-this.offsetLeft,t=this.mousey-this.offsetTop}else this.mousex=e-=this.offsetLeft,this.mousey=t-=this.offsetTop;if(!this.height||!this.width||this.hidden)return;t-=this.height+this.tooltipOffsetY,e+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),e<this.scrollLeft?e=this.scrollLeft:e+this.width>this.scrollRight&&(e=this.scrollRight-this.width),this.tooltip.css({left:e,top:t})},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=n,r(window).unbind("resize.jqs scroll.jqs")}}),P=function(){y(D)},r(P),I=[],r.fn.sparkline=function(t,i){return this.each(function(){var s=new r.fn.sparkline.options(this,i),o=r(this),u,f;u=function(){var i,u,f,l,h,p,d;if(t==="html"||t===n){d=this.getAttribute(s.get("tagValuesAttribute"));if(d===n||d===null)d=o.html();i=d.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else i=t;u=s.get("width")==="auto"?i.length*s.get("defaultPixelsPerValue"):s.get("width");if(s.get("height")==="auto"){if(!s.get("composite")||!r.data(this,"_jqs_vcanvas"))l=e.createElement("span"),l.innerHTML="a",o.html(l),f=r(l).innerHeight()||r(l).height(),r(l).remove(),l=null}else f=s.get("height");s.get("disableInteraction")?h=!1:(h=r.data(this,"_jqs_mhandler"),h?s.get("composite")||h.reset():(h=new x(this,s),r.data(this,"_jqs_mhandler",h)));if(s.get("composite")&&!r.data(this,"_jqs_vcanvas")){r.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),r.data(this,"_jqs_errnotify",!0));return}p=new(r.fn.sparkline[s.get("type")])(this,i,s,u,f),p.render(),h&&h.registerSparkline(p)};if(r(this).html()&&!s.get("disableHiddenCheck")&&r(this).is(":hidden")||!r(this).parents("body").length){if(!s.get("composite")&&r.data(this,"_jqs_pending"))for(f=I.length;f;f--)I[f-1][0]==this&&I.splice(f-1,1);I.push([this,u]),r.data(this,"_jqs_pending",!0)}else u.call(this)})},r.fn.sparkline.defaults=s(),r.sparkline_display_visible=function(){var e,t,n,i=[];for(t=0,n=I.length;t<n;t++)e=I[t][0],r(e).is(":visible")&&!r(e).parents().is(":hidden")?(I[t][1].call(e),r.data(I[t][0],"_jqs_pending",!1),i.push(t)):!r(e).closest("html").length&&!r.data(e,"_jqs_pending")&&(r.data(I[t][0],"_jqs_pending",!1),i.push(t));for(t=i.length;t;t--)I.splice(i[t-1],1)},r.fn.sparkline.options=o({init:function(e,t){var n,s,o,u;this.userOptions=t=t||{},this.tag=e,this.tagValCache={},s=r.fn.sparkline.defaults,o=s.common,this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||o.tagOptionsPrefix),u=this.getTagSetting("type"),u===i?n=s[t.type||o.type]:n=s[u],this.mergedOptions=r.extend({},o,n,t)},getTagSetting:function(e){var t=this.tagOptionsPrefix,r,s,o,u;if(t===!1||t===n)return i;if(this.tagValCache.hasOwnProperty(e))r=this.tagValCache.key;else{r=this.tag.getAttribute(t+e);if(r===n||r===null)r=i;else if(r.substr(0,1)==="["){r=r.substr(1,r.length-2).split(",");for(s=r.length;s--;)r[s]=h(r[s].replace(/(^\s*)|(\s*$)/g,""))}else if(r.substr(0,1)==="{"){o=r.substr(1,r.length-2).split(","),r={};for(s=o.length;s--;)u=o[s].split(":",2),r[u[0].replace(/(^\s*)|(\s*$)/g,"")]=h(u[1].replace(/(^\s*)|(\s*$)/g,""))}else r=h(r);this.tagValCache.key=r}return r},get:function(e,t){var r=this.getTagSetting(e),s;return r!==i?r:(s=this.mergedOptions[e])===n?t:s}}),r.fn.sparkline._base=o({disabled:!1,init:function(e,t,i,s,o){this.el=e,this.$el=r(e),this.values=t,this.options=i,this.width=s,this.height=o,this.currentRegion=n},initTarget:function(){var e=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),e))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(e,t){},setRegionHighlight:function(e,t,r){var i=this.currentRegion,s=!this.options.get("disableHighlight"),o;return t>this.canvasWidth||r>this.canvasHeight||t<0||r<0?null:(o=this.getRegion(e,t,r),i!==o?(i!==n&&s&&this.removeHighlight(),this.currentRegion=o,o!==n&&s&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==n?(this.removeHighlight(),this.currentRegion=n,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(e){},getCurrentRegionTooltip:function(){var e=this.options,t="",i=[],s,o,a,f,l,h,p,d,v,m,g,y,b,w;if(this.currentRegion===n)return"";s=this.getCurrentRegionFields(),g=e.get("tooltipFormatter");if(g)return g(this,e,s);e.get("tooltipChartTitle")&&(t+='<div class="jqs jqstitle">'+e.get("tooltipChartTitle")+"</div>\n"),o=this.options.get("tooltipFormat");if(!o)return"";r.isArray(o)||(o=[o]),r.isArray(s)||(s=[s]),p=this.options.get("tooltipFormatFieldlist"),d=this.options.get("tooltipFormatFieldlistKey");if(p&&d){v=[];for(h=s.length;h--;)m=s[h][d],(w=r.inArray(m,p))!=-1&&(v[w]=s[h]);s=v}a=o.length,b=s.length;for(h=0;h<a;h++){y=o[h],typeof y=="string"&&(y=new u(y)),f=y.fclass||"jqsfield";for(w=0;w<b;w++)if(!s[w].isNull||!e.get("tooltipSkipNull"))r.extend(s[w],{prefix:e.get("tooltipPrefix"),suffix:e.get("tooltipSuffix")}),l=y.render(s[w],e.get("tooltipValueLookups"),e),i.push('<div class="'+f+'">'+l+"</div>")}return i.length?t+i.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(e,n){var r=n.get("highlightColor"),i=n.get("highlightLighten"),s,o,u,a;if(r)return r;if(i){s=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(s){u=[],o=e.length===4?16:1;for(a=0;a<3;a++)u[a]=f(t.round(parseInt(s[a+1],16)*o*i),0,255);return"rgb("+u.join(",")+")"}}return e}}),N={changeHighlight:function(e){var t=this.currentRegion,n=this.target,i=this.regionShapes[t],s;i&&(s=this.renderRegion(t,e),r.isArray(s)||r.isArray(i)?(n.replaceWithShapes(i,s),this.regionShapes[t]=r.map(s,function(e){return e.id})):(n.replaceWithShape(i,s),this.regionShapes[t]=s.id))},render:function(){var e=this.values,t=this.target,n=this.regionShapes,i,s,o,u;if(!this.cls._super.render.call(this))return;for(o=e.length;o--;){i=this.renderRegion(o);if(i)if(r.isArray(i)){s=[];for(u=i.length;u--;)i[u].append(),s.push(i[u].id);n[o]=s}else i.append(),n[o]=i.id;else n[o]=null}t.render()}},r.fn.sparkline.line=C=o(r.fn.sparkline._base,{type:"line",init:function(e,t,n,r,i){C._super.init.call(this,e,t,n,r,i),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(e,t,r){var i,s=this.regionMap;for(i=s.length;i--;)if(s[i]!==null&&t>=s[i][0]&&t<=s[i][1])return s[i][2];return n},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.yvalues[e]===null,x:this.xvalues[e],y:this.yvalues[e],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:e}},renderHighlight:function(){var e=this.currentRegion,t=this.target,r=this.vertices[e],i=this.options,s=i.get("spotRadius"),o=i.get("highlightSpotColor"),u=i.get("highlightLineColor"),a,f;if(!r)return;s&&o&&(a=t.drawCircle(r[0],r[1],s,n,o),this.highlightSpotId=a.id,t.insertAfterShape(this.lastShapeId,a)),u&&(f=t.drawLine(r[0],this.canvasTop,r[0],this.canvasTop+this.canvasHeight,u),this.highlightLineId=f.id,t.insertAfterShape(this.lastShapeId,f))},removeHighlight:function(){var e=this.target;this.highlightSpotId&&(e.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(e.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var e=this.values,n=e.length,r=this.xvalues,i=this.yvalues,s=this.yminmax,o,u,a,f,l;for(o=0;o<n;o++)u=e[o],a=typeof e[o]=="string",f=typeof e[o]=="object"&&e[o]instanceof Array,l=a&&e[o].split(":"),a&&l.length===2?(r.push(Number(l[0])),i.push(Number(l[1])),s.push(Number(l[1]))):f?(r.push(u[0]),i.push(u[1]),s.push(u[1])):(r.push(o),e[o]===null||e[o]==="null"?i.push(null):(i.push(Number(u)),s.push(Number(u))));this.options.get("xvalues")&&(r=this.options.get("xvalues")),this.maxy=this.maxyorg=t.max.apply(t,s),this.miny=this.minyorg=t.min.apply(t,s),this.maxx=t.max.apply(t,r),this.minx=t.min.apply(t,r),this.xvalues=r,this.yvalues=i,this.yminmax=s},processRangeOptions:function(){var e=this.options,t=e.get("normalRangeMin"),r=e.get("normalRangeMax");t!==n&&(t<this.miny&&(this.miny=t),r>this.maxy&&(this.maxy=r)),e.get("chartRangeMin")!==n&&(e.get("chartRangeClip")||e.get("chartRangeMin")<this.miny)&&(this.miny=e.get("chartRangeMin")),e.get("chartRangeMax")!==n&&(e.get("chartRangeClip")||e.get("chartRangeMax")>this.maxy)&&(this.maxy=e.get("chartRangeMax")),e.get("chartRangeMinX")!==n&&(e.get("chartRangeClipX")||e.get("chartRangeMinX")<this.minx)&&(this.minx=e.get("chartRangeMinX")),e.get("chartRangeMaxX")!==n&&(e.get("chartRangeClipX")||e.get("chartRangeMaxX")>this.maxx)&&(this.maxx=e.get("chartRangeMaxX"))},drawNormalRange:function(e,r,i,s,o){var u=this.options.get("normalRangeMin"),a=this.options.get("normalRangeMax"),f=r+t.round(i-i*((a-this.miny)/o)),l=t.round(i*(a-u)/o);this.target.drawRect(e,f,s,l,n,this.options.get("normalRangeColor")).append()},render:function(){var e=this.options,i=this.target,s=this.canvasWidth,o=this.canvasHeight,u=this.vertices,a=e.get("spotRadius"),f=this.regionMap,l,h,p,d,v,m,g,y,w,E,x,T,N,k,L,A,O,M,_,D,P,H,B,j,F;if(!C._super.render.call(this))return;this.scanValues(),this.processRangeOptions(),B=this.xvalues,j=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2)return;d=v=0,l=this.maxx-this.minx===0?1:this.maxx-this.minx,h=this.maxy-this.miny===0?1:this.maxy-this.miny,p=this.yvalues.length-1,a&&(s<a*4||o<a*4)&&(a=0);if(a){P=e.get("highlightSpotColor")&&!e.get("disableInteraction");if(P||e.get("minSpotColor")||e.get("spotColor")&&j[p]===this.miny)o-=t.ceil(a);if(P||e.get("maxSpotColor")||e.get("spotColor")&&j[p]===this.maxy)o-=t.ceil(a),d+=t.ceil(a);if(P||(e.get("minSpotColor")||e.get("maxSpotColor"))&&(j[0]===this.miny||j[0]===this.maxy))v+=t.ceil(a),s-=t.ceil(a);if(P||e.get("spotColor")||e.get("minSpotColor")||e.get("maxSpotColor")&&(j[p]===this.miny||j[p]===this.maxy))s-=t.ceil(a)}o--,e.get("normalRangeMin")!==n&&!e.get("drawNormalOnTop")&&this.drawNormalRange(v,d,o,s,h),g=[],y=[g],k=L=null,A=j.length;for(F=0;F<A;F++)w=B[F],x=B[F+1],E=j[F],T=v+t.round((w-this.minx)*(s/l)),N=F<A-1?v+t.round((x-this.minx)*(s/l)):s,L=T+(N-T)/2,f[F]=[k||0,L,F],k=L,E===null?F&&(j[F-1]!==null&&(g=[],y.push(g)),u.push(null)):(E<this.miny&&(E=this.miny),E>this.maxy&&(E=this.maxy),g.length||g.push([T,d+o]),m=[T,d+t.round(o-o*((E-this.miny)/h))],g.push(m),u.push(m));O=[],M=[],_=y.length;for(F=0;F<_;F++)g=y[F],g.length&&(e.get("fillColor")&&(g.push([g[g.length-1][0],d+o]),M.push(g.slice(0)),g.pop()),g.length>2&&(g[0]=[g[0][0],g[1][1]]),O.push(g));_=M.length;for(F=0;F<_;F++)i.drawShape(M[F],e.get("fillColor"),e.get("fillColor")).append();e.get("normalRangeMin")!==n&&e.get("drawNormalOnTop")&&this.drawNormalRange(v,d,o,s,h),_=O.length;for(F=0;F<_;F++)i.drawShape(O[F],e.get("lineColor"),n,e.get("lineWidth")).append();if(a&&e.get("valueSpots")){D=e.get("valueSpots"),D.get===n&&(D=new S(D));for(F=0;F<A;F++)H=D.get(j[F]),H&&i.drawCircle(v+t.round((B[F]-this.minx)*(s/l)),d+t.round(o-o*((j[F]-this.miny)/h)),a,n,H).append()}a&&e.get("spotColor")&&j[p]!==null&&i.drawCircle(v+t.round((B[B.length-1]-this.minx)*(s/l)),d+t.round(o-o*((j[p]-this.miny)/h)),a,n,e.get("spotColor")).append(),this.maxy!==this.minyorg&&(a&&e.get("minSpotColor")&&(w=B[r.inArray(this.minyorg,j)],i.drawCircle(v+t.round((w-this.minx)*(s/l)),d+t.round(o-o*((this.minyorg-this.miny)/h)),a,n,e.get("minSpotColor")).append()),a&&e.get("maxSpotColor")&&(w=B[r.inArray(this.maxyorg,j)],i.drawCircle(v+t.round((w-this.minx)*(s/l)),d+t.round(o-o*((this.maxyorg-this.miny)/h)),a,n,e.get("maxSpotColor")).append())),this.lastShapeId=i.getLastShapeId(),this.canvasTop=d,i.render()}}),r.fn.sparkline.bar=k=o(r.fn.sparkline._base,N,{type:"bar",init:function(e,i,s,o,u){var a=parseInt(s.get("barWidth"),10),l=parseInt(s.get("barSpacing"),10),v=s.get("chartRangeMin"),m=s.get("chartRangeMax"),g=s.get("chartRangeClip"),y=Infinity,w=-Infinity,E,x,T,N,C,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X;k._super.init.call(this,e,i,s,o,u);for(L=0,A=i.length;L<A;L++){U=i[L],E=typeof U=="string"&&U.indexOf(":")>-1;if(E||r.isArray(U))j=!0,E&&(U=i[L]=p(U.split(":"))),U=d(U,null),x=t.min.apply(t,U),T=t.max.apply(t,U),x<y&&(y=x),T>w&&(w=T)}this.stacked=j,this.regionShapes={},this.barWidth=a,this.barSpacing=l,this.totalBarWidth=a+l,this.width=o=i.length*a+(i.length-1)*l,this.initTarget(),g&&(H=v===n?-Infinity:v,B=m===n?Infinity:m),C=[],N=j?[]:C;var V=[],$=[];for(L=0,A=i.length;L<A;L++)if(j){F=i[L],i[L]=R=[],V[L]=0,N[L]=$[L]=0;for(I=0,q=F.length;I<q;I++)U=R[I]=g?f(F[I],H,B):F[I],U!==null&&(U>0&&(V[L]+=U),y<0&&w>0?U<0?$[L]+=t.abs(U):N[L]+=U:N[L]+=t.abs(U-(U<0?w:y)),C.push(U))}else U=g?f(i[L],H,B):i[L],U=i[L]=h(U),U!==null&&C.push(U);this.max=P=t.max.apply(t,C),this.min=D=t.min.apply(t,C),this.stackMax=w=j?t.max.apply(t,V):P,this.stackMin=y=j?t.min.apply(t,C):D,s.get("chartRangeMin")!==n&&(s.get("chartRangeClip")||s.get("chartRangeMin")<D)&&(D=s.get("chartRangeMin")),s.get("chartRangeMax")!==n&&(s.get("chartRangeClip")||s.get("chartRangeMax")>P)&&(P=s.get("chartRangeMax")),this.zeroAxis=M=s.get("zeroAxis",!0),D<=0&&P>=0&&M?_=0:M==0?_=D:D>0?_=D:_=P,this.xaxisOffset=_,O=j?t.max.apply(t,N)+t.max.apply(t,$):P-D,this.canvasHeightEf=M&&D<0?this.canvasHeight-2:this.canvasHeight-1,D<_?(W=j&&P>=0?w:P,z=(W-_)/O*this.canvasHeight,z!==t.ceil(z)&&(this.canvasHeightEf-=2,z=t.ceil(z))):z=this.canvasHeight,this.yoffset=z,r.isArray(s.get("colorMap"))?(this.colorMapByIndex=s.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=s.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===n&&(this.colorMapByValue=new S(this.colorMapByValue))),this.range=O},getRegion:function(e,r,i){var s=t.floor(r/this.totalBarWidth);return s<0||s>=this.values.length?n:s},getCurrentRegionFields:function(){var e=this.currentRegion,t=w(this.values[e]),n=[],r,i;for(i=t.length;i--;)r=t[i],n.push({isNull:r===null,value:r,color:this.calcColor(i,r,e),offset:e});return n},calcColor:function(e,t,i){var s=this.colorMapByIndex,o=this.colorMapByValue,u=this.options,a,f;return this.stacked?a=u.get("stackedBarColor"):a=t<0?u.get("negBarColor"):u.get("barColor"),t===0&&u.get("zeroColor")!==n&&(a=u.get("zeroColor")),o&&(f=o.get(t))?a=f:s&&s.length>i&&(a=s[i]),r.isArray(a)?a[e%a.length]:a},renderRegion:function(e,i){var s=this.values[e],o=this.options,u=this.xaxisOffset,a=[],f=this.range,l=this.stacked,h=this.target,p=e*this.totalBarWidth,d=this.canvasHeightEf,v=this.yoffset,g,y,w,E,S,x,T,N,C,k;s=r.isArray(s)?s:[s],T=s.length,N=s[0],E=m(null,s),k=m(u,s,!0);if(E)return o.get("nullColor")?(w=i?o.get("nullColor"):this.calcHighlightColor(o.get("nullColor"),o),g=v>0?v-1:v,h.drawRect(p,g,this.barWidth-1,0,w,w)):n;S=v;for(x=0;x<T;x++){N=s[x];if(l&&N===u){if(!k||C)continue;C=!0}f>0?y=t.floor(d*(t.abs(N-u)/f))+1:y=1,N<u||N===u&&v===0?(g=S,S+=y):(g=v-y,v-=y),w=this.calcColor(x,N,e),i&&(w=this.calcHighlightColor(w,o)),a.push(h.drawRect(p,g,this.barWidth-1,y-1,w,w))}return a.length===1?a[0]:a}}),r.fn.sparkline.tristate=L=o(r.fn.sparkline._base,N,{type:"tristate",init:function(e,t,i,s,o){var u=parseInt(i.get("barWidth"),10),a=parseInt(i.get("barSpacing"),10);L._super.init.call(this,e,t,i,s,o),this.regionShapes={},this.barWidth=u,this.barSpacing=a,this.totalBarWidth=u+a,this.values=r.map(t,Number),this.width=s=t.length*u+(t.length-1)*a,r.isArray(i.get("colorMap"))?(this.colorMapByIndex=i.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=i.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===n&&(this.colorMapByValue=new S(this.colorMapByValue))),this.initTarget()},getRegion:function(e,n,r){return t.floor(n/this.totalBarWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===n,value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var n=this.values,r=this.options,i=this.colorMapByIndex,s=this.colorMapByValue,o,u;return s&&(u=s.get(e))?o=u:i&&i.length>t?o=i[t]:n[t]<0?o=r.get("negBarColor"):n[t]>0?o=r.get("posBarColor"):o=r.get("zeroBarColor"),o},renderRegion:function(e,n){var r=this.values,i=this.options,s=this.target,o,u,a,f,l,c;o=s.pixelHeight,a=t.round(o/2),f=e*this.totalBarWidth,r[e]<0?(l=a,u=a-1):r[e]>0?(l=0,u=a-1):(l=a-1,u=2),c=this.calcColor(r[e],e);if(c===null)return;return n&&(c=this.calcHighlightColor(c,i)),s.drawRect(f,l,this.barWidth-1,u-1,c,c)}}),r.fn.sparkline.discrete=A=o(r.fn.sparkline._base,N,{type:"discrete",init:function(e,i,s,o,u){A._super.init.call(this,e,i,s,o,u),this.regionShapes={},this.values=i=r.map(i,Number),this.min=t.min.apply(t,i),this.max=t.max.apply(t,i),this.range=this.max-this.min,this.width=o=s.get("width")==="auto"?i.length*2:this.width,this.interval=t.floor(o/i.length),this.itemWidth=o/i.length,s.get("chartRangeMin")!==n&&(s.get("chartRangeClip")||s.get("chartRangeMin")<this.min)&&(this.min=s.get("chartRangeMin")),s.get("chartRangeMax")!==n&&(s.get("chartRangeClip")||s.get("chartRangeMax")>this.max)&&(this.max=s.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight=s.get("lineHeight")==="auto"?t.round(this.canvasHeight*.3):s.get("lineHeight"))},getRegion:function(e,n,r){return t.floor(n/this.itemWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===n,value:this.values[e],offset:e}},renderRegion:function(e,n){var r=this.values,i=this.options,s=this.min,o=this.max,u=this.range,a=this.interval,l=this.target,c=this.canvasHeight,h=this.lineHeight,p=c-h,d,v,m,g;return v=f(r[e],s,o),g=e*a,d=t.round(p-p*((v-s)/u)),m=i.get("thresholdColor")&&v<i.get("thresholdValue")?i.get("thresholdColor"):i.get("lineColor"),n&&(m=this.calcHighlightColor(m,i)),l.drawLine(g,d,g,d+h,m)}}),r.fn.sparkline.bullet=O=o(r.fn.sparkline._base,{type:"bullet",init:function(e,r,i,s,o){var u,a,f;O._super.init.call(this,e,r,i,s,o),this.values=r=p(r),f=r.slice(),f[0]=f[0]===null?f[2]:f[0],f[1]=r[1]===null?f[2]:f[1],u=t.min.apply(t,r),a=t.max.apply(t,r),i.get("base")===n?u=u<0?u:0:u=i.get("base"),this.min=u,this.max=a,this.range=a-u,this.shapes={},this.valueShapes={},this.regiondata={},this.width=s=i.get("width")==="auto"?"4.0em":s,this.target=this.$el.simpledraw(s,o,i.get("composite")),r.length||(this.disabled=!0),this.initTarget()},getRegion:function(e,t,r){var i=this.target.getShapeAt(e,t,r);return i!==n&&this.shapes[i]!==n?this.shapes[i]:n},getCurrentRegionFields:function(){var e=this.currentRegion;return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},changeHighlight:function(e){var t=this.currentRegion,n=this.valueShapes[t],r;delete this.shapes[n];switch(t.substr(0,1)){case"r":r=this.renderRange(t.substr(1),e);break;case"p":r=this.renderPerformance(e);break;case"t":r=this.renderTarget(e)}this.valueShapes[t]=r.id,this.shapes[r.id]=t,this.target.replaceWithShape(n,r)},renderRange:function(e,n){var r=this.values[e],i=t.round(this.canvasWidth*((r-this.min)/this.range)),s=this.options.get("rangeColors")[e-2];return n&&(s=this.calcHighlightColor(s,this.options)),this.target.drawRect(0,0,i-1,this.canvasHeight-1,s,s)},renderPerformance:function(e){var n=this.values[1],r=t.round(this.canvasWidth*((n-this.min)/this.range)),i=this.options.get("performanceColor");return e&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,t.round(this.canvasHeight*.3),r-1,t.round(this.canvasHeight*.4)-1,i,i)},renderTarget:function(e){var n=this.values[0],r=t.round(this.canvasWidth*((n-this.min)/this.range)-this.options.get("targetWidth")/2),i=t.round(this.canvasHeight*.1),s=this.canvasHeight-i*2,o=this.options.get("targetColor");return e&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(r,i,this.options.get("targetWidth")-1,s-1,o,o)},render:function(){var e=this.values.length,t=this.target,n,r;if(!O._super.render.call(this))return;for(n=2;n<e;n++)r=this.renderRange(n).append(),this.shapes[r.id]="r"+n,this.valueShapes["r"+n]=r.id;this.values[1]!==null&&(r=this.renderPerformance().append(),this.shapes[r.id]="p1",this.valueShapes.p1=r.id),this.values[0]!==null&&(r=this.renderTarget().append(),this.shapes[r.id]="t0",this.valueShapes.t0=r.id),t.render()}}),r.fn.sparkline.pie=M=o(r.fn.sparkline._base,{type:"pie",init:function(e,n,i,s,o){var u=0,a;M._super.init.call(this,e,n,i,s,o),this.shapes={},this.valueShapes={},this.values=n=r.map(n,Number),i.get("width")==="auto"&&(this.width=this.height);if(n.length>0)for(a=n.length;a--;)u+=n[a];this.total=u,this.initTarget(),this.radius=t.floor(t.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(e,t,r){var i=this.target.getShapeAt(e,t,r);return i!==n&&this.shapes[i]!==n?this.shapes[i]:n},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:this.values[e]===n,value:this.values[e],percent:this.values[e]/this.total*100,color:this.options.get("sliceColors")[e%this.options.get("sliceColors").length],offset:e}},changeHighlight:function(e){var t=this.currentRegion,n=this.renderSlice(t,e),r=this.valueShapes[t];delete this.shapes[r],this.target.replaceWithShape(r,n),this.valueShapes[t]=n.id,this.shapes[n.id]=t},renderSlice:function(e,r){var i=this.target,s=this.options,o=this.radius,u=s.get("borderWidth"),a=s.get("offset"),f=2*t.PI,l=this.values,h=this.total,p=a?2*t.PI*(a/360):0,d,v,m,g,y;g=l.length;for(m=0;m<g;m++){d=p,v=p,h>0&&(v=p+f*(l[m]/h));if(e===m)return y=s.get("sliceColors")[m%s.get("sliceColors").length],r&&(y=this.calcHighlightColor(y,s)),i.drawPieSlice(o,o,o-u,d,v,n,y);p=v}},render:function(){var e=this.target,r=this.values,i=this.options,s=this.radius,o=i.get("borderWidth"),u,a;if(!M._super.render.call(this))return;o&&e.drawCircle(s,s,t.floor(s-o/2),i.get("borderColor"),n,o).append();for(a=r.length;a--;)r[a]&&(u=this.renderSlice(a).append(),this.valueShapes[a]=u.id,this.shapes[u.id]=a);e.render()}}),r.fn.sparkline.box=_=o(r.fn.sparkline._base,{type:"box",init:function(e,t,n,i,s){_._super.init.call(this,e,t,n,i,s),this.values=r.map(t,Number),this.width=n.get("width")==="auto"?"4.0em":i,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==n&&e.push({field:"lo",value:this.loutlier}),this.routlier!==n&&e.push({field:"ro",value:this.routlier}),this.lwhisker!==n&&e.push({field:"lw",value:this.lwhisker}),this.rwhisker!==n&&e.push({field:"rw",value:this.rwhisker}),e},render:function(){var e=this.target,r=this.values,i=r.length,s=this.options,o=this.canvasWidth,u=this.canvasHeight,a=s.get("chartRangeMin")===n?t.min.apply(t,r):s.get("chartRangeMin"),f=s.get("chartRangeMax")===n?t.max.apply(t,r):s.get("chartRangeMax"),h=0,p,d,v,m,g,y,w,E,S,x,T;if(!_._super.render.call(this))return;if(s.get("raw"))s.get("showOutliers")&&r.length>5?(d=r[0],p=r[1],m=r[2],g=r[3],y=r[4],w=r[5],E=r[6]):(p=r[0],m=r[1],g=r[2],y=r[3],w=r[4]);else{r.sort(function(e,t){return e-t}),m=l(r,1),g=l(r,2),y=l(r,3),v=y-m;if(s.get("showOutliers")){p=w=n;for(S=0;S<i;S++)p===n&&r[S]>m-v*s.get("outlierIQR")&&(p=r[S]),r[S]<y+v*s.get("outlierIQR")&&(w=r[S]);d=r[0],E=r[i-1]}else p=r[0],w=r[i-1]}this.quartiles=[m,g,y],this.lwhisker=p,this.rwhisker=w,this.loutlier=d,this.routlier=E,T=o/(f-a+1),s.get("showOutliers")&&(h=t.ceil(s.get("spotRadius")),o-=2*t.ceil(s.get("spotRadius")),T=o/(f-a+1),d<p&&e.drawCircle((d-a)*T+h,u/2,s.get("spotRadius"),s.get("outlierLineColor"),s.get("outlierFillColor")).append(),E>w&&e.drawCircle((E-a)*T+h,u/2,s.get("spotRadius"),s.get("outlierLineColor"),s.get("outlierFillColor")).append()),e.drawRect(t.round((m-a)*T+h),t.round(u*.1),t.round((y-m)*T),t.round(u*.8),s.get("boxLineColor"),s.get("boxFillColor")).append(),e.drawLine(t.round((p-a)*T+h),t.round(u/2),t.round((m-a)*T+h),t.round(u/2),s.get("lineColor")).append(),e.drawLine(t.round((p-a)*T+h),t.round(u/4),t.round((p-a)*T+h),t.round(u-u/4),s.get("whiskerColor")).append(),e.drawLine(t.round((w-a)*T+h),t.round(u/2),t.round((y-a)*T+h),t.round(u/2),s.get("lineColor")).append(),e.drawLine(t.round((w-a)*T+h),t.round(u/4),t.round((w-a)*T+h),t.round(u-u/4),s.get("whiskerColor")).append(),e.drawLine(t.round((g-a)*T+h),t.round(u*.1),t.round((g-a)*T+h),t.round(u*.9),s.get("medianColor")).append(),s.get("target")&&(x=t.ceil(s.get("spotRadius")),e.drawLine(t.round((s.get("target")-a)*T+h),t.round(u/2-x),t.round((s.get("target")-a)*T+h),t.round(u/2+x),s.get("targetColor")).append(),e.drawLine(t.round((s.get("target")-a)*T+h-x),t.round(u/2),t.round((s.get("target")-a)*T+h+x),t.round(u/2),s.get("targetColor")).append()),e.render()}}),H=o({init:function(e,t,n,r){this.target=e,this.id=t,this.type=n,this.args=r},append:function(){return this.target.appendShape(this),this}}),B=o({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,t,n){if(!e)return;this.width=e,this.height=t,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),r.data(n,"_jqs_vcanvas",this)},drawLine:function(e,t,n,r,i,s){return this.drawShape([[e,t],[n,r]],i,s)},drawShape:function(e,t,n,r){return this._genShape("Shape",[e,t,n,r])},drawCircle:function(e,t,n,r,i,s){return this._genShape("Circle",[e,t,n,r,i,s])},drawPieSlice:function(e,t,n,r,i,s,o){return this._genShape("PieSlice",[e,t,n,r,i,s,o])},drawRect:function(e,t,n,r,i,s){return this._genShape("Rect",[e,t,n,r,i,s])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,t){r(t).html(e)},_calculatePixelDims:function(e,t,n){var i;i=this._pxregex.exec(t),i?this.pixelHeight=i[1]:this.pixelHeight=r(n).height(),i=this._pxregex.exec(e),i?this.pixelWidth=i[1]:this.pixelWidth=r(n).width()},_genShape:function(e,t){var n=q++;return t.unshift(n),new H(this,n,e,t)},appendShape:function(e){alert("appendShape not implemented")},replaceWithShape:function(e,t){alert("replaceWithShape not implemented")},insertAfterShape:function(e,t){alert("insertAfterShape not implemented")},removeShapeId:function(e){alert("removeShapeId not implemented")},getShapeAt:function(e,t,n){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),j=o(B,{init:function(t,i,s,o){j._super.init.call(this,t,i,s),this.canvas=e.createElement("canvas"),s[0]&&(s=s[0]),r.data(s,"_jqs_vcanvas",this),r(this.canvas).css({display:"inline-block",width:t,height:i,verticalAlign:"top"}),this._insert(this.canvas,s),this._calculatePixelDims(t,i,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=n,r(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(e,t,r){var i=this.canvas.getContext("2d");return e!==n&&(i.strokeStyle=e),i.lineWidth=r===n?1:r,t!==n&&(i.fillStyle=t),i},reset:function(){var e=this._getContext();e.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=n},_drawShape:function(e,t,r,i,s){var o=this._getContext(r,i,s),u,a;o.beginPath(),o.moveTo(t[0][0]+.5,t[0][1]+.5);for(u=1,a=t.length;u<a;u++)o.lineTo(t[u][0]+.5,t[u][1]+.5);r!==n&&o.stroke(),i!==n&&o.fill(),this.targetX!==n&&this.targetY!==n&&o.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,r,i,s,o,u,a){var f=this._getContext(o,u,a);f.beginPath(),f.arc(r,i,s,0,2*t.PI,!1),this.targetX!==n&&this.targetY!==n&&f.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),o!==n&&f.stroke(),u!==n&&f.fill()},_drawPieSlice:function(e,t,r,i,s,o,u,a){var f=this._getContext(u,a);f.beginPath(),f.moveTo(t,r),f.arc(t,r,i,s,o,!1),f.lineTo(t,r),f.closePath(),u!==n&&f.stroke(),a&&f.fill(),this.targetX!==n&&this.targetY!==n&&f.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,n,r,i,s,o){return this._drawShape(e,[[t,n],[t+r,n],[t+r,n+i],[t,n+i],[t,n]],s,o)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n=this.shapeseq,r;this.shapes[t.id]=t;for(r=n.length;r--;)n[r]==e&&(n[r]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var n=this.shapeseq,r={},i,s,o;for(s=e.length;s--;)r[e[s]]=!0;for(s=n.length;s--;)i=n[s],r[i]&&(n.splice(s,1),delete this.shapes[i],o=s);for(s=t.length;s--;)n.splice(o,0,t[s].id),this.shapes[t[s].id]=t[s]},insertAfterShape:function(e,t){var n=this.shapeseq,r;for(r=n.length;r--;)if(n[r]===e){n.splice(r+1,0,t.id),this.shapes[t.id]=t;return}},removeShapeId:function(e){var t=this.shapeseq,n;for(n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}delete this.shapes[e]},getShapeAt:function(e,t,n){return this.targetX=t,this.targetY=n,this.render(),this.currentTargetShapeId},render:function(){var e=this.shapeseq,t=this.shapes,n=e.length,r=this._getContext(),i,s,o;r.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(o=0;o<n;o++)i=e[o],s=t[i],this["_draw"+s.type].apply(this,s.args);this.interact||(this.shapes={},this.shapeseq=[])}}),F=o(B,{init:function(t,n,i){var s;F._super.init.call(this,t,n,i),i[0]&&(i=i[0]),r.data(i,"_jqs_vcanvas",this),this.canvas=e.createElement("span"),r(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:n,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,i),this._calculatePixelDims(t,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,s='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"'+' style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",s),this.group=r(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(e,t,r,i,s){var o=[],u,a,f,l,h,p,d;for(d=0,p=t.length;d<p;d++)o[d]=""+t[d][0]+","+t[d][1];return u=o.splice(0,1),s=s===n?1:s,a=r===n?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+r+'" ',f=i===n?' filled="false"':' fillColor="'+i+'" filled="true" ',l=o[0]===o[o.length-1]?"x ":"",h='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+e+'" '+a+f+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+u+" l "+o.join(", ")+" "+l+'e">'+" </v:shape>",h},_drawCircle:function(e,t,r,i,s,o,u){var a,f,l;return t-=i,r-=i,a=s===n?' stroked="false" ':' strokeWeight="'+u+'px" strokeColor="'+s+'" ',f=o===n?' filled="false"':' fillColor="'+o+'" filled="true" ',l='<v:oval  id="jqsshape'+e+'" '+a+f+' style="position:absolute;top:'+r+"px; left:"+t+"px; width:"+i*2+"px; height:"+i*2+'px"></v:oval>',l},_drawPieSlice:function(e,r,i,s,o,u,a,f){var l,h,p,d,v,m,g,y;if(o===u)return"";u-o===2*t.PI&&(o=0,u=2*t.PI),h=r+t.round(t.cos(o)*s),p=i+t.round(t.sin(o)*s),d=r+t.round(t.cos(u)*s),v=i+t.round(t.sin(u)*s);if(h===d&&p===v){if(u-o<t.PI)return"";h=d=r+s,p=v=i}return h===d&&p===v&&u-o<t.PI?"":(l=[r-s,i-s,r+s,i+s,h,p,d,v],m=a===n?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ',g=f===n?' filled="false"':' fillColor="'+f+'" filled="true" ',y='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" '+' id="jqsshape'+e+'" '+m+g+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+r+","+i+" wa "+l.join(", ")+' x e">'+" </v:shape>",y)},_drawRect:function(e,t,n,r,i,s,o){return this._drawShape(e,[[t,n],[t,n+i],[t+r,n+i],[t+r,n],[t,n]],s,o)},reset:function(){this.group.innerHTML=""},appendShape:function(e){var t=this["_draw"+e.type].apply(this,e.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n=r("#jqsshape"+e),i=this["_draw"+t.type].apply(this,t.args);n[0].outerHTML=i},replaceWithShapes:function(e,t){var n=r("#jqsshape"+e[0]),i="",s=t.length,o;for(o=0;o<s;o++)i+=this["_draw"+t[o].type].apply(this,t[o].args);n[0].outerHTML=i;for(o=1;o<e.length;o++)r("#jqsshape"+e[o]).remove()},insertAfterShape:function(e,t){var n=r("#jqsshape"+e),i=this["_draw"+t.type].apply(this,t.args);n[0].insertAdjacentHTML("afterEnd",i)},removeShapeId:function(e){var t=r("#jqsshape"+e);this.group.removeChild(t[0])},getShapeAt:function(e,t,n){var r=e.id.substr(8);return r},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})})(document,Math);(function(){function i(e){return _.chain(_.range(e,10)).reverse().map(function(e){return'g[data-index="'+e+'"]'}).value().join(", ")}function s(e,t){var n=e.getAttribute("class");return(n!==null?n.replace(/color\d+/g,""):"")+" color"+t}function a(e,t){return _.chain(e).pluck("data").flatten().pluck(t).uniq().filter(function(e){return e!==undefined&&e!==null}).value().sort(d3.ascending)}function f(e,t){var n=e[0],r=e[1],i,s;if(n===r){s=Math.max(Math.round(n/10),4);n-=s;r+=s}i=r-n;n=n?n-i/10:n;n=e[0]>0?Math.max(n,0):n;r=r?r+i/10:r;r=e[1]<0?Math.min(r,0):r;return[n,r]}function l(e,t,n,r){var i,s=_.chain(t).pluck("data").flatten().value();i={x:d3.extent(s,function(e){return e.x}),y:d3.extent(s,function(e){return e.y})};_.each([n,r],function(t,n){var r=n?"y":"x",o;i[r]=d3.extent(s,function(e){return e[r]});if(t==="ordinal"){return}_.each([r+"Min",r+"Max"],function(n,s){if(t!=="time"){o=f(i[r])}if(e.hasOwnProperty(n)&&e[n]!==null){i[r][s]=e[n]}else if(t!=="time"){i[r][s]=o[s]}})});return i}function p(){var e=document;return!!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}function e(e,t,n,r){var i=this,s;i._options=r=_.defaults(r||{},h);if(p()===false){return r.unsupported(n)}i._selector=n;i._container=d3.select(n);i._drawSvg();i._mainStorage={};i._compStorage={};t=_.clone(t);if(e&&!t.type){t.type=e}i.setData(t);d3.select(window).on("resize.for."+n,function(){if(s){clearTimeout(s)}s=setTimeout(function(){s=null;i._resize()},500)})}var e,t={},n={},r={};(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){return e instanceof x?e:this instanceof x?(this._wrapped=e,void 0):new x(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.3";var T=x.each=x.forEach=function(e,t,r){if(null!=e)if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;s>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return null==e?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)}),!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}if(T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)}),!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){return t.call(n,e,i,s)?(r=e,!0):void 0}),r},x.filter=x.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return null==e?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){return(i=i&&t.call(r,e,s,o))?void 0:n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return null==e?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){return i||(i=t.call(r,e,s,o))?n:void 0}),!!i)};x.contains=x.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2);return x.map(e,function(e){return(x.isFunction(t)?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t){return x.isEmpty(t)?[]:x.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;r.computed>o&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=null==n?x.identity:k(n);for(var i=n.call(r,t),s=0,o=e.length;o>s;){var u=s+o>>>1;i>n.call(r,e[u])?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:x.contains(o,n))||(o.push(n),s.push(e[r]))}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){for(var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},x.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=Array(r);r>i;)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}},x.bindAll=function(e){var t=u.call(arguments,1);return 0==t.length&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,0>=f?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if("[object Array]"==i){if(o=e.length,u=o==t.length)for(;o--&&(u=M(e[o],t[o],n,r)););}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)&&(o++,!(u=x.has(t,c)&&M(e[c],t[c],n,r))))break;if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(null==e)return!0;if(x.isArray(e)||x.isString(e))return 0===e.length;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=w||function(e){return"[object Array]"==f.call(e)},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!(!e||!x.has(e,"callee"))}),x.isFunction=function(e){return"function"==typeof e},x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==f.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=x.invert(_.escape);var D={escape:RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(null==e)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=""+ ++P;return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){n=x.defaults({},n,x.templateSettings);var r=RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),i=u+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,x);var a=function(e){return o.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);r={getInsertionPoint:i,colorClass:s};var o=this,u=.25;n.ordinal=function(e,t,n,r){var i=a(e,t);return d3.scale.ordinal().domain(i).rangeRoundBands(n,u)};n.linear=function(e,t,n,r){return d3.scale.linear().domain(r).nice().rangeRound(n)};n.exponential=function(e,t,n,r){return d3.scale.pow().exponent(.65).domain(r).nice().rangeRound(n)};n.time=function(e,t,n,r){return d3.time.scale().domain(_.map(r,function(e){return new Date(e)})).range(n)};n.xy=function(t,n,r,i){var s=t._options,o=l(s,n,r,i),u={},a=[s.axisPaddingLeft,t._width],f=[t._height,s.axisPaddingTop],c,h;_.each([r,i],function(t,r){var i=r===0?"x":"y",s=r===0?a:f,l=e.getScale(t);u[i]=l(n,i,s,o[i])});return u};(function(){function s(e,t,n,r){e.xScale2=d3.scale.ordinal().domain(d3.range(0,n.length)).rangeRoundBands([0,e.xScale.rangeBand()],.08)}function o(t,s,o,u,a){var f,l,c=t.yZero;f=t._g.selectAll(n+o).data(u,function(e){return e.className});f.enter().insert("g",i).attr("data-index",e).style("opacity",0).attr("class",function(e,t){var n=_.uniq((o+e.className).split(".")).join(" ");return n+" bar "+r.colorClass(this,t)}).attr("transform",function(e,n){return"translate("+t.xScale2(n)+",0)"});l=f.selectAll("rect").data(function(e){return e.data},function(e){return e.x});l.enter().append("rect").attr("width",0).attr("rx",3).attr("ry",3).attr("x",function(e){return t.xScale(e.x)+t.xScale2.rangeBand()/2}).attr("height",function(e){return Math.abs(c-t.yScale(e.y))}).attr("y",function(e){return e.y<0?c:t.yScale(e.y)}).on("mouseover",a.mouseover).on("mouseout",a.mouseout).on("click",a.click);s.barGroups=f;s.bars=l}function u(e,t,n){var i=e.yZero;t.barGroups.attr("class",function(e,t){return r.colorClass(this,t)}).transition().duration(n).style("opacity",1).attr("transform",function(t,n){return"translate("+e.xScale2(n)+",0)"});t.bars.transition().duration(n).attr("width",e.xScale2.rangeBand()).attr("x",function(t){return e.xScale(t.x)}).attr("height",function(t){return Math.abs(i-e.yScale(t.y))}).attr("y",function(t){return t.y<0?i:e.yScale(t.y)})}function a(e,t,n){t.bars.exit().transition().duration(n).attr("width",0).remove();t.barGroups.exit().transition().duration(n).style("opacity",0).remove()}function f(e,t,n){var r=e.xScale2?e.xScale2.rangeBand()/2:0;delete e.xScale2;t.bars.transition().duration(n).attr("width",0).attr("x",function(t){return e.xScale(t.x)+r})}var e=2,n="g.bar",i=r.getInsertionPoint(e);t.bar={postUpdateScale:s,enter:o,update:u,exit:a,destroy:f}})();(function(){function s(t,s,o,u,a){function g(e){return[e.data]}var f=t._options.interpolation,l=function(e,n){if(!t.xScale2&&!t.xScale.rangeBand){return t.xScale(e.x)}return t.xScale(e.x)+t.xScale.rangeBand()/2},c=function(e){return t.yScale(e.y)},h=d3.svg.line().x(l).interpolate(f),p=d3.svg.area().x(l).y1(t.yZero).interpolate(f),d,v,m;d=t._g.selectAll(n+o).data(u,function(e){return e.className});d.enter().insert("g",i).attr("data-index",e).attr("class",function(e,t){var n=_.uniq((o+e.className).split(".")).join(" ");return n+" line "+r.colorClass(this,t)});v=d.selectAll("path.fill").data(g);v.enter().append("path").attr("class","fill").style("opacity",0).attr("d",p.y0(c));m=d.selectAll("path.line").data(g);m.enter().append("path").attr("class","line").style("opacity",0).attr("d",h.y(c));s.lineContainers=d;s.lineFills=v;s.linePaths=m;s.lineX=l;s.lineY=c;s.lineA=p;s.line=h}function o(e,t,n){t.lineContainers.attr("class",function(e,t){return r.colorClass(this,t)});t.lineFills.transition().duration(n).style("opacity",1).attr("d",t.lineA.y0(t.lineY));t.linePaths.transition().duration(n).style("opacity",1).attr("d",t.line.y(t.lineY))}function u(e,t){t.linePaths.exit().style("opacity",0).remove();t.lineFills.exit().style("opacity",0).remove();t.lineContainers.exit().remove()}function a(e,t,n){t.linePaths.transition().duration(n).style("opacity",0);t.lineFills.transition().duration(n).style("opacity",0)}var e=3,n="g.line",i=r.getInsertionPoint(e);t.line={enter:s,update:o,exit:u,destroy:a}})();(function(){function n(t,n,r,i,s){var o;e.enter(t,n,r,i,s);o=n.lineContainers.selectAll("circle").data(function(e){return e.data},function(e){return e.x});o.enter().append("circle").style("opacity",0).attr("cx",n.lineX).attr("cy",n.lineY).attr("r",5).on("mouseover",s.mouseover).on("mouseout",s.mouseout).on("click",s.click);n.lineCircles=o}function r(t,n,r){e.update.apply(null,_.toArray(arguments));n.lineCircles.transition().duration(r).style("opacity",1).attr("cx",n.lineX).attr("cy",n.lineY)}function i(t,n){n.lineCircles.exit().remove();e.exit.apply(null,_.toArray(arguments))}function s(t,n,r){e.destroy.apply(null,_.toArray(arguments));if(!n.lineCircles){return}n.lineCircles.transition().duration(r).style("opacity",0)}var e=t.line;t["line-dotted"]={enter:n,update:r,exit:i,destroy:s}})();(function(){function n(t,n,r,i,s){e.enter(t,n,r,i,s)}function r(e){function t(e,t){return e+t.y}var n=_.map(e,function(e){var n=e.data.length,r=_.clone(e.data);e=_.clone(e);while(n){n-=1;r[n]=_.clone(e.data[n]);r[n].y0=e.data[n].y;r[n].y=_.reduce(_.first(e.data,n),t,e.data[n].y)}return _.extend(e,{data:r})});return n}function i(e){if(!e.hasOwnProperty("cumulativeOMainData")){return}e._mainData=e.cumulativeOMainData;delete e.cumulativeOMainData;e._compData=e.cumulativeOCompData;delete e.cumulativeOCompData}function s(e,t){i(e);e.cumulativeOMainData=e._mainData;e._mainData=r(e._mainData);e.cumulativeOCompData=e._compData;e._compData=r(e._compData)}function o(t,n,r){i(t);e.destroy.apply(null,_.toArray(arguments))}var e=t["line-dotted"];t.cumulative={preUpdateScale:s,enter:n,update:e.update,exit:e.exit,destroy:o}})();var c=[[]],h={mouseover:function(e,t){},mouseout:function(e,t){},click:function(e,t){},axisPaddingTop:0,axisPaddingRight:0,axisPaddingBottom:5,axisPaddingLeft:20,paddingTop:0,paddingRight:0,paddingBottom:20,paddingLeft:60,tickHintX:10,tickFormatX:function(e){return e},tickHintY:10,tickFormatY:function(e){return e},xMin:null,xMax:null,yMin:null,yMax:null,dataFormatX:function(e){return e},dataFormatY:function(e){return e},unsupported:function(e){d3.select(e).text("SVG is not supported on your browser")},empty:function(e,t,n){},notempty:function(e,t){},timing:750,interpolation:"monotone",sortX:function(e,t){return!e.x&&!t.x?0:e.x<t.x?-1:1}};e.setVis=function(e,n){if(t.hasOwnProperty(e)){throw'Cannot override vis type "'+e+'".'}t[e]=n};e.getVis=function(e){if(!t.hasOwnProperty(e)){throw'Vis type "'+e+'" does not exist.'}return _.clone(t[e])};e.setScale=function(e,t){if(n.hasOwnProperty(e)){throw'Scale type "'+e+'" already exists.'}n[e]=t};e.getScale=function(e){if(!n.hasOwnProperty(e)){throw'Scale type "'+e+'" does not exist.'}return n[e]};e.visutils=r;_.defaults(e.prototype,{setType:function(e,n){var r=this;if(r._type&&e===r._type){return}if(!t.hasOwnProperty(e)){throw'Vis type "'+e+'" is not defined.'}if(r._type){r._destroy(r._vis,r._mainStorage)}r._type=e;r._vis=t[e];if(!n){r._draw()}},setData:function(e){function i(e){var t=_.map(_.clone(e.data),function(e){var t=_.clone(e);if(e.hasOwnProperty("x")){t.x=n.dataFormatX(e.x)}if(e.hasOwnProperty("y")){t.y=n.dataFormatY(e.y)}return t}).sort(n.sortX);return _.extend(_.clone(e),{data:t})}var t=this,n=t._options,r=_.clone(e);if(!e.hasOwnProperty("main")){throw'No "main" key found in given chart data.'}switch(e.type){case"bar":e.xScale="ordinal";break;case undefined:e.type=t._type;break}n.xMin=isNaN(parseInt(e.xMin,10))?n.xMin:e.xMin;n.xMax=isNaN(parseInt(e.xMax,10))?n.xMax:e.xMax;n.yMin=isNaN(parseInt(e.yMin,10))?n.yMin:e.yMin;n.yMax=isNaN(parseInt(e.yMax,10))?n.yMax:e.yMax;if(t._vis){t._destroy(t._vis,t._mainStorage)}t.setType(e.type,true);r.main=_.map(r.main,i);t._mainData=r.main;t._xScaleType=r.xScale;t._yScaleType=r.yScale;if(r.hasOwnProperty("comp")){r.comp=_.map(r.comp,i);t._compData=r.comp}else{t._compData=[]}t._draw()},setScale:function(e,t){var n=this;switch(e){case"x":n._xScaleType=t;break;case"y":n._yScaleType=t;break;default:throw'Cannot change scale of unknown axis "'+e+'".'}n._draw()},_drawSvg:function(){var e=this,t=e._container,n=e._options,r=parseInt(t.style("width").replace("px",""),10),i=parseInt(t.style("height").replace("px",""),10),s,o,u;s=t.selectAll("svg").data(c);s.enter().append("svg").attr("height",i).attr("width",r).attr("class","xchart");s.transition().attr("width",r).attr("height",i);o=s.selectAll("g").data(c);o.enter().append("g").attr("transform","translate("+n.paddingLeft+","+n.paddingTop+")");u=o.selectAll("g.scale").data(c);u.enter().append("g").attr("class","scale");e._svg=s;e._g=o;e._gScale=u;e._height=i-n.paddingTop-n.paddingBottom-n.axisPaddingTop-n.axisPaddingBottom;e._width=r-n.paddingLeft-n.paddingRight-n.axisPaddingLeft-n.axisPaddingRight},_resize:function(e){var t=this;t._drawSvg();t._draw()},_drawAxes:function(){if(this._noData){return}var e=this,t=e._options,n=e._gScale.transition().duration(t.timing),r=t.tickHintX,i=t.tickHintY,s=e._height+t.axisPaddingTop+t.axisPaddingBottom,o=d3.svg.line().x(function(e){return e}),u,a,f,l,h,p,d;l=d3.svg.axis().scale(e.xScale).ticks(r).tickSize(-e._height).tickFormat(t.tickFormatX).orient("bottom");f=e._gScale.selectAll("g.axisX").data(c);f.enter().append("g").attr("class","axis axisX").attr("transform","translate(0,"+s+")");f.call(l);d=e._gScale.selectAll(".axisX g")[0];if(d.length>e._width/80){d.sort(function(e,t){var n=/translate\(([^,)]+)/;e=e.getAttribute("transform").match(n);t=t.getAttribute("transform").match(n);return parseFloat(e[1],10)-parseFloat(t[1],10)});d3.selectAll(d).filter(function(e,t){return t%(Math.ceil(d.length/r)+1)}).remove()}p=d3.svg.axis().scale(e.yScale).ticks(i).tickSize(-e._width-t.axisPaddingRight-t.axisPaddingLeft).tickFormat(t.tickFormatY).orient("left");h=e._gScale.selectAll("g.axisY").data(c);h.enter().append("g").attr("class","axis axisY").attr("transform","translate(0,0)");n.selectAll("g.axisY").call(p);u=e._gScale.selectAll("g.axisZero").data([[]]);u.enter().append("g").attr("class","axisZero");a=u.selectAll("line").data([[]]);a.enter().append("line").attr("x1",0).attr("x2",e._width+t.axisPaddingLeft+t.axisPaddingRight).attr("y1",e.yZero).attr("y2",e.yZero);a.transition().duration(t.timing).attr("y1",e.yZero).attr("y2",e.yZero)},_updateScale:function(){var e=this,t=function(){return _.union(e._mainData,e._compData)},r=t(),i=e._vis,s,o;delete e.xScale;delete e.yScale;delete e.yZero;if(i.hasOwnProperty("preUpdateScale")){i.preUpdateScale(e,r,e._mainData,e._compData)}r=t();s=n.xy(e,r,e._xScaleType,e._yScaleType);e.xScale=s.x;e.yScale=s.y;o=e.yScale.domain()[0];e.yZero=o>0?e.yScale(o):e.yScale(0);if(i.hasOwnProperty("postUpdateScale")){i.postUpdateScale(e,r,e._mainData,e._compData)}},_enter:function(e,t,n,r){var i=this,s={click:i._options.click,mouseover:i._options.mouseover,mouseout:i._options.mouseout};i._checkVisMethod(e,"enter");e.enter(i,t,r,n,s)},_update:function(e,t){var n=this;n._checkVisMethod(e,"update");e.update(n,t,n._options.timing)},_exit:function(e,t){var n=this;n._checkVisMethod(e,"exit");e.exit(n,t,n._options.timing)},_destroy:function(e,t){var n=this;n._checkVisMethod(e,"destroy");try{e.destroy(n,t,n._options.timing)}catch(r){}},_draw:function(){var e=this,n=e._options,r,i;e._noData=_.flatten(_.pluck(e._mainData,"data").concat(_.pluck(e._compData,"data"))).length===0;e._updateScale();e._drawAxes();e._enter(e._vis,e._mainStorage,e._mainData,".main");e._exit(e._vis,e._mainStorage);e._update(e._vis,e._mainStorage);r=_.chain(e._compData).groupBy(function(e){return e.type});i=r.keys();_.each(e._compStorage,function(n,r){if(-1===i.indexOf(r).value()){var s=t[r];e._enter(s,n,[],".comp."+r.replace(/\W+/g,""));e._exit(s,n)}});r.each(function(n,r){var i=t[r],s;if(!e._compStorage.hasOwnProperty(r)){e._compStorage[r]={}}s=e._compStorage[r];e._enter(i,s,n,".comp."+r.replace(/\W+/g,""));e._exit(i,s);e._update(i,s)});if(e._noData){n.empty(e,e._selector,e._mainData)}else{n.notempty(e,e._selector)}},_checkVisMethod:function(e,t){var n=this;if(!e[t]){throw'Required method "'+t+'" not found on vis type "'+n._type+'".'}}});if(typeof define==="function"&&define.amd&&typeof define.amd==="object"){define(function(){return e});return}window.xChart=e})();(function(e,t){var n=0,r={},i={};r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="hide";i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show";e.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!t.collapsible&&(t.active===false||t.active==null)){t.active=0}this._processPanels();if(t.active<0){t.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?e():this.active.next(),content:!this.active.length?e():this.active.next()}},_createIcons:function(){var t=this.options.icons;if(t){e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});this._destroyIcons();e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});if(this.options.heightStyle!=="content"){e.css("height","")}},_setOption:function(e,t){if(e==="active"){this._activate(t);return}if(e==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(t)}this._super(e,t);if(e==="collapsible"&&!t&&this.options.active===false){this._activate(0)}if(e==="icons"){this._destroyIcons();if(t){this._createIcons()}}if(e==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)}},_keydown:function(t){if(t.altKey||t.ctrlKey){return}var n=e.ui.keyCode,r=this.headers.length,i=this.headers.index(t.target),s=false;switch(t.keyCode){case n.RIGHT:case n.DOWN:s=this.headers[(i+1)%r];break;case n.LEFT:case n.UP:s=this.headers[(i-1+r)%r];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:s=this.headers[0];break;case n.END:s=this.headers[r-1];break}if(s){e(t.target).attr("tabIndex",-1);e(s).attr("tabIndex",0);s.focus();t.preventDefault()}},_panelKeyDown:function(t){if(t.keyCode===e.ui.keyCode.UP&&t.ctrlKey){e(t.currentTarget).prev().focus()}},refresh:function(){var t=this.options;this._processPanels();if(t.active===false&&t.collapsible===true||!this.headers.length){t.active=false;this.active=e()}else if(t.active===false){this._activate(0)}else if(this.active.length&&!e.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){t.active=false;this.active=e()}else{this._activate(Math.max(0,t.active-1))}}else{t.active=this.headers.index(this.active)}this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,r=this.options,i=r.heightStyle,s=this.element.parent(),o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++n);this.active=this._findActive(r.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(t){var n=e(this),r=n.attr("id"),i=n.next(),s=i.attr("id");if(!r){r=o+"-header-"+t;n.attr("id",r)}if(!s){s=o+"-panel-"+t;i.attr("id",s)}n.attr("aria-controls",s);i.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"})}this._createIcons();this._setupEvents(r.event);if(i==="fill"){t=s.height();this.element.siblings(":visible").each(function(){var n=e(this),r=n.css("position");if(r==="absolute"||r==="fixed"){return}t-=n.outerHeight(true)});this.headers.each(function(){t-=e(this).outerHeight(true)});this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else if(i==="auto"){t=0;this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t)}},_activate:function(t){var n=this._findActive(t)[0];if(n===this.active[0]){return}n=n||this.active[0];this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return typeof t==="number"?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};if(t){e.each(t.split(" "),function(e,t){n[t]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,n);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i[0]===r[0],o=s&&n.collapsible,u=o?e():i.next(),a=r.next(),f={oldHeader:r,oldPanel:a,newHeader:o?e():i,newPanel:u};t.preventDefault();if(s&&!n.collapsible||this._trigger("beforeActivate",t,f)===false){return}n.active=o?false:this.headers.index(i);this.active=s?e():i;this._toggle(f);r.removeClass("ui-accordion-header-active ui-state-active");if(n.icons){r.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header)}if(!s){i.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(n.icons){i.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader)}i.next().addClass("ui-accordion-content-active")}},_toggle:function(t){var n=t.newPanel,r=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=n;this.prevHide=r;if(this.options.animate){this._animate(n,r,t)}else{r.hide();n.show();this._toggleComplete(t)}r.attr({"aria-expanded":"false","aria-hidden":"true"});r.prev().attr("aria-selected","false");if(n.length&&r.length){r.prev().attr("tabIndex",-1)}else if(n.length){this.headers.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1)}n.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,t,n){var s,o,u,a=this,f=0,l=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},h=l&&c.down||c,p=function(){a._toggleComplete(n)};if(typeof h==="number"){u=h}if(typeof h==="string"){o=h}o=o||h.easing||c.easing;u=u||h.duration||c.duration;if(!t.length){return e.animate(i,u,o,p)}if(!e.length){return t.animate(r,u,o,p)}s=e.show().outerHeight();t.animate(r,{duration:u,easing:o,step:function(e,t){t.now=Math.round(e)}});e.hide().animate(i,{duration:u,easing:o,complete:p,step:function(e,n){n.now=Math.round(e);if(n.prop!=="height"){f+=n.now}else if(a.options.heightStyle!=="content"){n.now=Math.round(s-t.outerHeight()-f);f=0}}})},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(t.length){t.parent()[0].className=t.parent()[0].className}this._trigger("activate",null,e)}})})(jQuery);(function(e,t){var n=0;e.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),s=i==="textarea",o=i==="input";this.isMultiLine=s?true:o?false:this.element.prop("isContentEditable");this.valueMethod=this.element[s||o?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly")){t=true;r=true;n=true;return}t=false;r=false;n=false;var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:t=true;this._move("previousPage",i);break;case s.PAGE_DOWN:t=true;this._move("nextPage",i);break;case s.UP:t=true;this._keyEvent("previous",i);break;case s.DOWN:t=true;this._keyEvent("next",i);break;case s.ENTER:case s.NUMPAD_ENTER:if(this.menu.active){t=true;i.preventDefault();this.menu.select(i)}break;case s.TAB:if(this.menu.active){this.menu.select(i)}break;case s.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(i);i.preventDefault()}break;default:n=true;this._searchTimeout(i);break}},keypress:function(r){if(t){t=false;if(!this.isMultiLine||this.menu.element.is(":visible")){r.preventDefault()}return}if(n){return}var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r);break}},input:function(e){if(r){r=false;e.preventDefault();return}this._searchTimeout(e)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(e);this._change(e)}});this._initSource();this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];if(!e(t.target).closest(".ui-menu-item").length){this._delay(function(){var t=this;this.document.one("mousedown",function(r){if(r.target!==t.element[0]&&r.target!==n&&!e.contains(n,r.target)){t.close()}})})}},menufocus:function(t,n){if(this.isNewMenu){this.isNewMenu=false;if(t.originalEvent&&/^mouse/.test(t.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});return}}var r=n.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",t,{item:r})){if(t.originalEvent&&/^key/.test(t.originalEvent.type)){this._value(r.value)}}else{this.liveRegion.text(r.value)}},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=r;this._delay(function(){this.previous=r;this.selectedItem=n})}if(false!==this._trigger("select",e,{item:n})){this._value(n.value)}this.term=this._value();this.close(e);this.selectedItem=n}});this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t);if(e==="source"){this._initSource()}if(e==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(e==="disabled"&&t&&this.xhr){this.xhr.abort()}},_appendTo:function(){var t=this.options.appendTo;if(t){t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)}if(!t){t=this.element.closest(".ui-front")}if(!t.length){t=this.document[0].body}return t},_initSource:function(){var t,n,r=this;if(e.isArray(this.options.source)){t=this.options.source;this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}}else if(typeof this.options.source==="string"){n=this.options.source;this.source=function(t,i){if(r.xhr){r.xhr.abort()}r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}}else{this.source=this.options.source}},_searchTimeout:function(e){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,e)}},this.options.delay)},search:function(e,t){e=e!=null?e:this._value();this.term=this._value();if(e.length<this.options.minLength){return this.close(t)}if(this._trigger("search",t)===false){return}return this._search(e)},_search:function(e){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:e},this._response())},_response:function(){var e=this,t=++n;return function(r){if(t===n){e.__response(r)}e.pending--;if(!e.pending){e.element.removeClass("ui-autocomplete-loading")}}},__response:function(e){if(e){e=this._normalize(e)}this._trigger("response",null,{content:e});if(!this.options.disabled&&e&&e.length&&!this.cancelSearch){this._suggest(e);this._trigger("open")}else{this._close()}},close:function(e){this.cancelSearch=true;this._close(e)},_close:function(e){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",e)}},_change:function(e){if(this.previous!==this._value()){this._trigger("change",e,{item:this.selectedItem})}},_normalize:function(t){if(t.length&&t[0].label&&t[0].value){return t}return e.map(t,function(t){if(typeof t==="string"){return{label:t,value:t}}return e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t);this.isNewMenu=true;this.menu.refresh();n.show();this._resizeMenu();n.position(e.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this._value(this.term);this.menu.blur();return}this.menu[e](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,t);t.preventDefault()}}});e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}});e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(e&&e.length){t=this.options.messages.results(e.length)}else{t=this.options.messages.noResults}this.liveRegion.text(t)}})})(jQuery);(function(e,t){var n,r,i,s,o="ui-button ui-widget ui-state-default ui-corner-all",u="ui-state-hover ui-state-active ",a="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},l=function(t){var n=t.name,r=t.form,i=e([]);if(n){n=n.replace(/'/g,"\\'");if(r){i=e(r).find("[name='"+n+"']")}else{i=e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})}}return i};e.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var t=this,u=this.options,a=this.type==="checkbox"||this.type==="radio",c=!a?"ui-state-active":"",h="ui-state-focus";if(u.label===null){u.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()}this._hoverable(this.buttonElement);this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(u.disabled){return}if(this===n){e(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(u.disabled){return}e(this).removeClass(c)}).bind("click"+this.eventNamespace,function(e){if(u.disabled){e.preventDefault();e.stopImmediatePropagation()}});this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(h)});if(a){this.element.bind("change"+this.eventNamespace,function(){if(s){return}t.refresh()});this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){if(u.disabled){return}s=false;r=e.pageX;i=e.pageY}).bind("mouseup"+this.eventNamespace,function(e){if(u.disabled){return}if(r!==e.pageX||i!==e.pageY){s=true}})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s){return false}})}else if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||s){return false}e(this).addClass("ui-state-active");t.buttonElement.attr("aria-pressed","true");var n=t.element[0];l(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(u.disabled){return false}e(this).addClass("ui-state-active");n=this;t.document.one("mouseup",function(){n=null})}).bind("mouseup"+this.eventNamespace,function(){if(u.disabled){return false}e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(u.disabled){return false}if(t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER){e(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(t){if(t.keyCode===e.ui.keyCode.SPACE){e(this).click()}})}}this._setOption("disabled",u.disabled);this._resetButton()},_determineButtonType:function(){var e,t,n;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else if(this.element.is("[type=radio]")){this.type="radio"}else if(this.element.is("input")){this.type="input"}else{this.type="button"}if(this.type==="checkbox"||this.type==="radio"){e=this.element.parents().last();t="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(t);if(!this.buttonElement.length){e=e.length?e.siblings():this.element.siblings();this.buttonElement=e.filter(t);if(!this.buttonElement.length){this.buttonElement=e.find(t)}}this.element.addClass("ui-helper-hidden-accessible");n=this.element.is(":checked");if(n){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",n)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(o+" "+u+" "+a).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(e,t){this._super(e,t);if(e==="disabled"){if(t){this.element.prop("disabled",true)}else{this.element.prop("disabled",false)}return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(t!==this.options.disabled){this._setOption("disabled",t)}if(this.type==="radio"){l(this.element[0]).each(function(){if(e(this).is(":checked")){e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var t=this.buttonElement.removeClass(a),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),r=this.options.icons,i=r.primary&&r.secondary,s=[];if(r.primary||r.secondary){if(this.options.text){s.push("ui-button-text-icon"+(i?"s":r.primary?"-primary":"-secondary"))}if(r.primary){t.prepend("<span class='ui-button-icon-primary ui-icon "+r.primary+"'></span>")}if(r.secondary){t.append("<span class='ui-button-icon-secondary ui-icon "+r.secondary+"'></span>")}if(!this.options.text){s.push(i?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){t.attr("title",e.trim(n))}}}else{s.push("ui-button-text-only")}t.addClass(s.join(" "))}});e.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){if(e==="disabled"){this.buttons.button("option",e,t)}this._super(e,t)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(e,t){function i(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};e.extend(this._defaults,this.regional[""]);this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).removeClass("ui-datepicker-next-hover")}}).delegate(n,"mouseover",function(){if(!e.datepicker._isDisabledDatepicker(r.inline?t.parent()[0]:r.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){e(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){e(this).addClass("ui-datepicker-next-hover")}}})}function o(t,n){e.extend(t,n);for(var r in n){if(n[r]==null){t[r]=n[r]}}return t}e.extend(e.ui,{datepicker:{version:"1.10.3"}});var n="datepicker",r;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){o(this._defaults,e||{});return this},_attachDatepicker:function(t,n){var r,i,s;r=t.nodeName.toLowerCase();i=r==="div"||r==="span";if(!t.id){this.uuid+=1;t.id="dp"+this.uuid}s=this._newInst(e(t),i);s.settings=e.extend({},n||{});if(r==="input"){this._connectDatepicker(t,s)}else if(i){this._inlineDatepicker(t,s)}},_newInst:function(t,n){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:!n?this.dpDiv:s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function(t,r){var i=e(t);r.append=e([]);r.trigger=e([]);if(i.hasClass(this.markerClassName)){return}this._attachments(i,r);i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(r);e.data(t,n,r);if(r.settings.disabled){this._disableDatepicker(t)}},_attachments:function(t,n){var r,i,s,o=this._get(n,"appendText"),u=this._get(n,"isRTL");if(n.append){n.append.remove()}if(o){n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>");t[u?"before":"after"](n.append)}t.unbind("focus",this._showDatepicker);if(n.trigger){n.trigger.remove()}r=this._get(n,"showOn");if(r==="focus"||r==="both"){t.focus(this._showDatepicker)}if(r==="button"||r==="both"){i=this._get(n,"buttonText");s=this._get(n,"buttonImage");n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:i,title:i}):e("<button type='button'></button>").addClass(this._triggerClass).html(!s?i:e("<img/>").attr({src:s,alt:i,title:i})));t[u?"before":"after"](n.trigger);n.trigger.click(function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]){e.datepicker._hideDatepicker()}else if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(t[0])}else{e.datepicker._showDatepicker(t[0])}return false})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,r,i,s=new Date(2009,12-1,20),o=this._get(e,"dateFormat");if(o.match(/[DM]/)){t=function(e){n=0;r=0;for(i=0;i<e.length;i++){if(e[i].length>n){n=e[i].length;r=i}}return r};s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort")));s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())}e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,r){var i=e(t);if(i.hasClass(this.markerClassName)){return}i.addClass(this.markerClassName).append(r.dpDiv);e.data(t,n,r);this._setDate(r,this._getDefaultDate(r),true);this._updateDatepicker(r);this._updateAlternate(r);if(r.settings.disabled){this._disableDatepicker(t)}r.dpDiv.css("display","block")},_dialogDatepicker:function(t,r,i,s,u){var a,f,l,c,h,p=this._dialogInst;if(!p){this.uuid+=1;a="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);e("body").append(this._dialogInput);p=this._dialogInst=this._newInst(this._dialogInput,false);p.settings={};e.data(this._dialogInput[0],n,p)}o(p.settings,s||{});r=r&&r.constructor===Date?this._formatDate(p,r):r;this._dialogInput.val(r);this._pos=u?u.length?u:[u.pageX,u.pageY]:null;if(!this._pos){f=document.documentElement.clientWidth;l=document.documentElement.clientHeight;c=document.documentElement.scrollLeft||document.body.scrollLeft;h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[f/2-100+c,l/2-150+h]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");p.settings.onSelect=i;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(e.blockUI){e.blockUI(this.dpDiv)}e.data(this._dialogInput[0],n,p);return this},_destroyDatepicker:function(t){var r,i=e(t),s=e.data(t,n);if(!i.hasClass(this.markerClassName)){return}r=t.nodeName.toLowerCase();e.removeData(t,n);if(r==="input"){s.append.remove();s.trigger.remove();i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(r==="div"||r==="span"){i.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var r,i,s=e(t),o=e.data(t,n);if(!s.hasClass(this.markerClassName)){return}r=t.nodeName.toLowerCase();if(r==="input"){t.disabled=false;o.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(r==="div"||r==="span"){i=s.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled");i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e})},_disableDatepicker:function(t){var r,i,s=e(t),o=e.data(t,n);if(!s.hasClass(this.markerClassName)){return}r=t.nodeName.toLowerCase();if(r==="input"){t.disabled=true;o.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(r==="div"||r==="span"){i=s.children("."+this._inlineClass);i.children().addClass("ui-state-disabled");i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e});this._disabledInputs[this._disabledInputs.length]=t},_isDisabledDatepicker:function(e){if(!e){return false}for(var t=0;t<this._disabledInputs.length;t++){if(this._disabledInputs[t]===e){return true}}return false},_getInst:function(t){try{return e.data(t,n)}catch(r){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,r,i){var s,u,a,f,l=this._getInst(n);if(arguments.length===2&&typeof r==="string"){return r==="defaults"?e.extend({},e.datepicker._defaults):l?r==="all"?e.extend({},l.settings):this._get(l,r):null}s=r||{};if(typeof r==="string"){s={};s[r]=i}if(l){if(this._curInst===l){this._hideDatepicker()}u=this._getDateDatepicker(n,true);a=this._getMinMaxDate(l,"min");f=this._getMinMaxDate(l,"max");o(l.settings,s);if(a!==null&&s.dateFormat!==t&&s.minDate===t){l.settings.minDate=this._formatDate(l,a)}if(f!==null&&s.dateFormat!==t&&s.maxDate===t){l.settings.maxDate=this._formatDate(l,f)}if("disabled"in s){if(s.disabled){this._disableDatepicker(n)}else{this._enableDatepicker(n)}}this._attachments(e(n),l);this._autoSize(l);this._setDate(l,u);this._updateAlternate(l);this._updateDatepicker(l)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);if(t){this._updateDatepicker(t)}},_setDateDatepicker:function(e,t){var n=this._getInst(e);if(n){this._setDate(n,t);this._updateDatepicker(n);this._updateAlternate(n)}},_getDateDatepicker:function(e,t){var n=this._getInst(e);if(n&&!n.inline){this._setDateFromField(n,t)}return n?this._getDate(n):null},_doKeyDown:function(t){var n,r,i,s=e.datepicker._getInst(t.target),o=true,u=s.dpDiv.is(".ui-datepicker-rtl");s._keyEvent=true;if(e.datepicker._datepickerShowing){switch(t.keyCode){case 9:e.datepicker._hideDatepicker();o=false;break;case 13:i=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv);if(i[0]){e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0])}n=e.datepicker._get(s,"onSelect");if(n){r=e.datepicker._formatDate(s);n.apply(s.input?s.input[0]:null,[r,s])}else{e.datepicker._hideDatepicker()}return false;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:if(t.ctrlKey||t.metaKey){e.datepicker._clearDate(t.target)}o=t.ctrlKey||t.metaKey;break;case 36:if(t.ctrlKey||t.metaKey){e.datepicker._gotoToday(t.target)}o=t.ctrlKey||t.metaKey;break;case 37:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,u?+1:-1,"D")}o=t.ctrlKey||t.metaKey;if(t.originalEvent.altKey){e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M")}break;case 38:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,-7,"D")}o=t.ctrlKey||t.metaKey;break;case 39:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,u?-1:+1,"D")}o=t.ctrlKey||t.metaKey;if(t.originalEvent.altKey){e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M")}break;case 40:if(t.ctrlKey||t.metaKey){e.datepicker._adjustDate(t.target,+7,"D")}o=t.ctrlKey||t.metaKey;break;default:o=false}}else if(t.keyCode===36&&t.ctrlKey){e.datepicker._showDatepicker(this)}else{o=false}if(o){t.preventDefault();t.stopPropagation()}},_doKeyPress:function(t){var n,r,i=e.datepicker._getInst(t.target);if(e.datepicker._get(i,"constrainInput")){n=e.datepicker._possibleChars(e.datepicker._get(i,"dateFormat"));r=String.fromCharCode(t.charCode==null?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||r<" "||!n||n.indexOf(r)>-1}},_doKeyUp:function(t){var n,r=e.datepicker._getInst(t.target);if(r.input.val()!==r.lastVal){try{n=e.datepicker.parseDate(e.datepicker._get(r,"dateFormat"),r.input?r.input.val():null,e.datepicker._getFormatConfig(r));if(n){e.datepicker._setDateFromField(r);e.datepicker._updateAlternate(r);e.datepicker._updateDatepicker(r)}}catch(i){}}return true},_showDatepicker:function(t){t=t.target||t;if(t.nodeName.toLowerCase()!=="input"){t=e("input",t.parentNode)[0]}if(e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t){return}var n,r,i,s,u,a,f;n=e.datepicker._getInst(t);if(e.datepicker._curInst&&e.datepicker._curInst!==n){e.datepicker._curInst.dpDiv.stop(true,true);if(n&&e.datepicker._datepickerShowing){e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}}r=e.datepicker._get(n,"beforeShow");i=r?r.apply(t,[t,n]):{};if(i===false){return}o(n.settings,i);n.lastVal=null;e.datepicker._lastInput=t;e.datepicker._setDateFromField(n);if(e.datepicker._inDialog){t.value=""}if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(t);e.datepicker._pos[1]+=t.offsetHeight}s=false;e(t).parents().each(function(){s|=e(this).css("position")==="fixed";return!s});u={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;n.dpDiv.empty();n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(n);u=e.datepicker._checkOffset(n,u,s);n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"});if(!n.inline){a=e.datepicker._get(n,"showAnim");f=e.datepicker._get(n,"duration");n.dpDiv.zIndex(e(t).zIndex()+1);e.datepicker._datepickerShowing=true;if(e.effects&&e.effects.effect[a]){n.dpDiv.show(a,e.datepicker._get(n,"showOptions"),f)}else{n.dpDiv[a||"show"](a?f:null)}if(e.datepicker._shouldFocusInput(n)){n.input.focus()}e.datepicker._curInst=n}},_updateDatepicker:function(t){this.maxRows=4;r=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,i=this._getNumberOfMonths(t),s=i[1],o=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(s>1){t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",o*s+"em")}t.dpDiv[(i[0]!==1||i[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)){t.input.focus()}if(t.yearshtml){n=t.yearshtml;setTimeout(function(){if(n===t.yearshtml&&t.yearshtml){t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml)}n=t.yearshtml=null},0)}},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,r){var i=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,u=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(r?0:e(document).scrollLeft()),f=document.documentElement.clientHeight+(r?0:e(document).scrollTop());n.left-=this._get(t,"isRTL")?i-o:0;n.left-=r&&n.left===t.input.offset().left?e(document).scrollLeft():0;n.top-=r&&n.top===t.input.offset().top+u?e(document).scrollTop():0;n.left-=Math.min(n.left,n.left+i>a&&a>i?Math.abs(n.left+i-a):0);n.top-=Math.min(n.top,n.top+s>f&&f>s?Math.abs(s+u):0);return n},_findPos:function(t){var n,r=this._getInst(t),i=this._get(r,"isRTL");while(t&&(t.type==="hidden"||t.nodeType!==1||e.expr.filters.hidden(t))){t=t[i?"previousSibling":"nextSibling"]}n=e(t).offset();return[n.left,n.top]},_hideDatepicker:function(t){var r,i,s,o,u=this._curInst;if(!u||t&&u!==e.data(t,n)){return}if(this._datepickerShowing){r=this._get(u,"showAnim");i=this._get(u,"duration");s=function(){e.datepicker._tidyDialog(u)};if(e.effects&&(e.effects.effect[r]||e.effects[r])){u.dpDiv.hide(r,e.datepicker._get(u,"showOptions"),i,s)}else{u.dpDiv[r==="slideDown"?"slideUp":r==="fadeIn"?"fadeOut":"hide"](r?i:null,s)}if(!r){s()}this._datepickerShowing=false;o=this._get(u,"onClose");if(o){o.apply(u.input?u.input[0]:null,[u.input?u.input.val():"",u])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(!e.datepicker._curInst){return}var n=e(t.target),r=e.datepicker._getInst(n[0]);if(n[0].id!==e.datepicker._mainDivId&&n.parents("#"+e.datepicker._mainDivId).length===0&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&!(e.datepicker._inDialog&&e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==r){e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,r){var i=e(t),s=this._getInst(i[0]);if(this._isDisabledDatepicker(i[0])){return}this._adjustInstDate(s,n+(r==="M"?this._get(s,"showCurrentAtPos"):0),r);this._updateDatepicker(s)},_gotoToday:function(t){var n,r=e(t),i=this._getInst(r[0]);if(this._get(i,"gotoCurrent")&&i.currentDay){i.selectedDay=i.currentDay;i.drawMonth=i.selectedMonth=i.currentMonth;i.drawYear=i.selectedYear=i.currentYear}else{n=new Date;i.selectedDay=n.getDate();i.drawMonth=i.selectedMonth=n.getMonth();i.drawYear=i.selectedYear=n.getFullYear()}this._notifyChange(i);this._adjustDate(r)},_selectMonthYear:function(t,n,r){var i=e(t),s=this._getInst(i[0]);s["selected"+(r==="M"?"Month":"Year")]=s["draw"+(r==="M"?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10);this._notifyChange(s);this._adjustDate(i)},_selectDay:function(t,n,r,i){var s,o=e(t);if(e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])){return}s=this._getInst(o[0]);s.selectedDay=s.currentDay=e("a",i).html();s.selectedMonth=s.currentMonth=n;s.selectedYear=s.currentYear=r;this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var r,i=e(t),s=this._getInst(i[0]);n=n!=null?n:this._formatDate(s);if(s.input){s.input.val(n)}this._updateAlternate(s);r=this._get(s,"onSelect");if(r){r.apply(s.input?s.input[0]:null,[n,s])}else if(s.input){s.input.trigger("change")}if(s.inline){this._updateDatepicker(s)}else{this._hideDatepicker();this._lastInput=s.input[0];if(typeof s.input[0]!=="object"){s.input.focus()}this._lastInput=null}},_updateAlternate:function(t){var n,r,i,s=this._get(t,"altField");if(s){n=this._get(t,"altFormat")||this._get(t,"dateFormat");r=this._getDate(t);i=this.formatDate(n,r,this._getFormatConfig(t));e(s).each(function(){e(this).val(i)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));t=n.getTime();n.setMonth(0);n.setDate(1);return Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,r){if(t==null||n==null){throw"Invalid arguments"}n=typeof n==="object"?n.toString():n+"";if(n===""){return null}var i,s,o,u=0,a=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,f=typeof a!=="string"?a:(new Date).getFullYear()%100+parseInt(a,10),l=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,c=(r?r.dayNames:null)||this._defaults.dayNames,h=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,p=(r?r.monthNames:null)||this._defaults.monthNames,d=-1,v=-1,m=-1,g=-1,y=false,b,w=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;if(n){i++}return n},E=function(e){var t=w(e),r=e==="@"?14:e==="!"?20:e==="y"&&t?4:e==="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=n.substring(u).match(i);if(!s){throw"Missing number at position "+u}u+=s[0].length;return parseInt(s[0],10)},S=function(t,r,i){var s=-1,o=e.map(w(t)?i:r,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});e.each(o,function(e,t){var r=t[1];if(n.substr(u,r.length).toLowerCase()===r.toLowerCase()){s=t[0];u+=r.length;return false}});if(s!==-1){return s+1}else{throw"Unknown name at position "+u}},x=function(){if(n.charAt(u)!==t.charAt(i)){throw"Unexpected literal at position "+u}u++};for(i=0;i<t.length;i++){if(y){if(t.charAt(i)==="'"&&!w("'")){y=false}else{x()}}else{switch(t.charAt(i)){case"d":m=E("d");break;case"D":S("D",l,c);break;case"o":g=E("o");break;case"m":v=E("m");break;case"M":v=S("M",h,p);break;case"y":d=E("y");break;case"@":b=new Date(E("@"));d=b.getFullYear();v=b.getMonth()+1;m=b.getDate();break;case"!":b=new Date((E("!")-this._ticksTo1970)/1e4);d=b.getFullYear();v=b.getMonth()+1;m=b.getDate();break;case"'":if(w("'")){x()}else{y=true}break;default:x()}}}if(u<n.length){o=n.substr(u);if(!/^\s+/.test(o)){throw"Extra/unparsed characters found in date: "+o}}if(d===-1){d=(new Date).getFullYear()}else if(d<100){d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=f?0:-100)}if(g>-1){v=1;m=g;do{s=this._getDaysInMonth(d,v-1);if(m<=s){break}v++;m-=s}while(true)}b=this._daylightSavingAdjust(new Date(d,v-1,m));if(b.getFullYear()!==d||b.getMonth()+1!==v||b.getDate()!==m){throw"Invalid date"}return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*1e7,formatDate:function(e,t,n){if(!t){return""}var r,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;if(n){r++}return n},f=function(e,t,n){var r=""+t;if(a(e)){while(r.length<n){r="0"+r}}return r},l=function(e,t,n,r){return a(e)?r[t]:n[t]},c="",h=false;if(t){for(r=0;r<e.length;r++){if(h){if(e.charAt(r)==="'"&&!a("'")){h=false}else{c+=e.charAt(r)}}else{switch(e.charAt(r)){case"d":c+=f("d",t.getDate(),2);break;case"D":c+=l("D",t.getDay(),i,s);break;case"o":c+=f("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":c+=f("m",t.getMonth()+1,2);break;case"M":c+=l("M",t.getMonth(),o,u);break;case"y":c+=a("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=t.getTime()*1e4+this._ticksTo1970;break;case"'":if(a("'")){c+="'"}else{h=true}break;default:c+=e.charAt(r)}}}}return c},_possibleChars:function(e){var t,n="",r=false,i=function(n){var r=t+1<e.length&&e.charAt(t+1)===n;if(r){t++}return r};for(t=0;t<e.length;t++){if(r){if(e.charAt(t)==="'"&&!i("'")){r=false}else{n+=e.charAt(t)}}else{switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":if(i("'")){n+="'"}else{r=true}break;default:n+=e.charAt(t)}}}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal){return}var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),s=i,o=this._getFormatConfig(e);try{s=this.parseDate(n,r,o)||i}catch(u){r=t?"":r}e.selectedDay=s.getDate();e.drawMonth=e.selectedMonth=s.getMonth();e.drawYear=e.selectedYear=s.getFullYear();e.currentDay=r?s.getDate():0;e.currentMonth=r?s.getMonth():0;e.currentYear=r?s.getFullYear():0;this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,r){var i=function(e){var t=new Date;t.setDate(t.getDate()+e);return t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(r){}var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),o=i.getMonth(),u=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,f=a.exec(n);while(f){switch(f[2]||"d"){case"d":case"D":u+=parseInt(f[1],10);break;case"w":case"W":u+=parseInt(f[1],10)*7;break;case"m":case"M":o+=parseInt(f[1],10);u=Math.min(u,e.datepicker._getDaysInMonth(s,o));break;case"y":case"Y":s+=parseInt(f[1],10);u=Math.min(u,e.datepicker._getDaysInMonth(s,o));break}f=a.exec(n)}return new Date(s,o,u)},o=n==null||n===""?r:typeof n==="string"?s(n):typeof n==="number"?isNaN(n)?r:i(n):new Date(n.getTime());o=o&&o.toString()==="Invalid Date"?r:o;if(o){o.setHours(0);o.setMinutes(0);o.setSeconds(0);o.setMilliseconds(0)}return this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){if(!e){return null}e.setHours(e.getHours()>12?e.getHours()+2:0);return e},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate();e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth();e.drawYear=e.selectedYear=e.currentYear=o.getFullYear();if((i!==e.selectedMonth||s!==e.selectedYear)&&!n){this._notifyChange(e)}this._adjustInstDate(e);if(e.input){e.input.val(r?"":this._formatDate(e))}},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()===""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),r="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(r,-n,"M")},next:function(){e.datepicker._adjustDate(r,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(r)},selectDay:function(){e.datepicker._selectDay(r,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){e.datepicker._selectMonthYear(r,this,"M");return false},selectYear:function(){e.datepicker._selectMonthYear(r,this,"Y");return false}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q=new Date,R=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),U=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),W=this._get(e,"hideIfNoPrevNext"),X=this._get(e,"navigationAsDateFormat"),V=this._getNumberOfMonths(e),$=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),K=V[0]!==1||V[1]!==1,Q=this._daylightSavingAdjust(!e.currentDay?new Date(9999,9,9):new Date(e.currentYear,e.currentMonth,e.currentDay)),G=this._getMinMaxDate(e,"min"),Y=this._getMinMaxDate(e,"max"),Z=e.drawMonth-$,et=e.drawYear;if(Z<0){Z+=12;et--}if(Y){t=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-V[0]*V[1]+1,Y.getDate()));t=G&&t<G?G:t;while(this._daylightSavingAdjust(new Date(et,Z,1))>t){Z--;if(Z<0){Z=11;et--}}}e.drawMonth=Z;e.drawYear=et;n=this._get(e,"prevText");n=!X?n:this.formatDate(n,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e));r=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>";i=this._get(e,"nextText");i=!X?i:this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e));s=this._canAdjustMonth(e,+1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+i+"</span></a>";o=this._get(e,"currentText");u=this._get(e,"gotoCurrent")&&e.currentDay?Q:R;o=!X?o:this.formatDate(o,u,this._getFormatConfig(e));a=!e.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>":"";f=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?a:"")+(this._isInRange(e,u)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+o+"</button>":"")+(U?"":a)+"</div>":"";l=parseInt(this._get(e,"firstDay"),10);l=isNaN(l)?0:l;c=this._get(e,"showWeek");h=this._get(e,"dayNames");p=this._get(e,"dayNamesMin");d=this._get(e,"monthNames");v=this._get(e,"monthNamesShort");m=this._get(e,"beforeShowDay");g=this._get(e,"showOtherMonths");y=this._get(e,"selectOtherMonths");b=this._getDefaultDate(e);w="";E;for(S=0;S<V[0];S++){x="";this.maxRows=4;for(T=0;T<V[1];T++){N=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay));C=" ui-corner-all";k="";if(K){k+="<div class='ui-datepicker-group";if(V[1]>1){switch(T){case 0:k+=" ui-datepicker-group-first";C=" ui-corner-"+(U?"right":"left");break;case V[1]-1:k+=" ui-datepicker-group-last";C=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle";C="";break}}k+="'>"}k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&S===0?U?s:r:"")+(/all|right/.test(C)&&S===0?U?r:s:"")+this._generateMonthYearHeader(e,Z,et,G,Y,S>0||T>0,d,v)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";L=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(E=0;E<7;E++){A=(E+l)%7;L+="<th"+((E+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+h[A]+"'>"+p[A]+"</span></th>"}k+=L+"</tr></thead><tbody>";O=this._getDaysInMonth(et,Z);if(et===e.selectedYear&&Z===e.selectedMonth){e.selectedDay=Math.min(e.selectedDay,O)}M=(this._getFirstDayOfMonth(et,Z)-l+7)%7;_=Math.ceil((M+O)/7);D=K?this.maxRows>_?this.maxRows:_:_;this.maxRows=D;P=this._daylightSavingAdjust(new Date(et,Z,1-M));for(H=0;H<D;H++){k+="<tr>";B=!c?"":"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>";for(E=0;E<7;E++){j=m?m.apply(e.input?e.input[0]:null,[P]):[true,""];F=P.getMonth()!==Z;I=F&&!y||!j[0]||G&&P<G||Y&&P>Y;B+="<td class='"+((E+l+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===N.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===N.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!g?"":" "+j[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+((!F||g)&&j[2]?" title='"+j[2].replace(/'/g,"&#39;")+"'":"")+(I?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!g?"&#xa0;":I?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===R.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>";P.setDate(P.getDate()+1);P=this._daylightSavingAdjust(P)}k+=B+"</tr>"}Z++;if(Z>11){Z=0;et++}k+="</tbody></table>"+(K?"</div>"+(V[0]>0&&T===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");x+=k}w+=x}w+=f;e._keyEvent=false;return w},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a,f,l,c,h,p,d,v,m=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(s||!m){w+="<span class='ui-datepicker-month'>"+o[t]+"</span>"}else{a=r&&r.getFullYear()===n;f=i&&i.getFullYear()===n;w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(l=0;l<12;l++){if((!a||l>=r.getMonth())&&(!f||l<=i.getMonth())){w+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+u[l]+"</option>"}}w+="</select>"}if(!y){b+=w+(s||!(m&&g)?"&#xa0;":"")}if(!e.yearshtml){e.yearshtml="";if(s||!g){b+="<span class='ui-datepicker-year'>"+n+"</span>"}else{c=this._get(e,"yearRange").split(":");h=(new Date).getFullYear();p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t};d=p(c[0]);v=Math.max(d,p(c[1]||""));d=r?Math.max(d,r.getFullYear()):d;v=i?Math.min(v,i.getFullYear()):v;e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;d<=v;d++){e.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>"}e.yearshtml+="</select>";b+=e.yearshtml;e.yearshtml=null}}b+=this._get(e,"yearSuffix");if(y){b+=(s||!(m&&g)?"&#xa0;":"")+w}b+="</div>";return b},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n==="Y"?t:0),i=e.drawMonth+(n==="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n==="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate();e.drawMonth=e.selectedMonth=o.getMonth();e.drawYear=e.selectedYear=o.getFullYear();if(n==="M"||n==="Y"){this._notifyChange(e)}},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return r&&i>r?r:i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");if(t){t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])}},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t==="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));if(t<0){s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth()))}return this._isInRange(e,s)},_isInRange:function(e,t){var n,r,i=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,u=null,a=this._get(e,"yearRange");if(a){n=a.split(":");r=(new Date).getFullYear();o=parseInt(n[0],10);u=parseInt(n[1],10);if(n[0].match(/[+\-].*/)){o+=r}if(n[1].match(/[+\-].*/)){u+=r}}return(!i||t.getTime()>=i.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!u||t.getFullYear()<=u)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");t=typeof t!=="string"?t:(new Date).getFullYear()%100+parseInt(t,10);return{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){if(!t){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}var i=t?typeof t==="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}});e.fn.datepicker=function(t){if(!this.length){return this}if(!e.datepicker.initialized){e(document).mousedown(e.datepicker._checkExternalClick);e.datepicker.initialized=true}if(e("#"+e.datepicker._mainDivId).length===0){e("body").append(e.datepicker.dpDiv)}var n=Array.prototype.slice.call(arguments,1);if(typeof t==="string"&&(t==="isDisabled"||t==="getDate"||t==="widget")){return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))}if(t==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))}return this.each(function(){typeof t==="string"?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)})};e.datepicker=new i;e.datepicker.initialized=false;e.datepicker.uuid=(new Date).getTime();e.datepicker.version="1.10.3"})(jQuery);(function(e,t){var n={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},r={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};e.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;if(n<0){e(this).css("top",t.top-n)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&e.fn.draggable){this._makeDraggable()}if(this.options.resizable&&e.fn.resizable){this._makeResizable()}this._isOpen=false},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var t=this.options.appendTo;if(t&&(t.jquery||t.nodeType)){return e(t)}return this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}e=t.parent.children().eq(t.index);if(e.length&&e[0]!==this.element[0]){e.before(this.element)}else{t.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;if(!this._isOpen||this._trigger("beforeClose",t)===false){return}this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){e(this.document[0].activeElement).blur()}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(n&&!t){this._trigger("focus",e)}return n},open:function(){var t=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=e(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")});this._trigger("open")},_focusTabbable:function(){var e=this.element.find("[autofocus]");if(!e.length){e=this.element.find(":tabbable")}if(!e.length){e=this.uiDialogButtonPane.find(":tabbable")}if(!e.length){e=this.uiDialogTitlebarClose.filter(":tabbable")}if(!e.length){e=this.uiDialog}e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);if(!n){this._focusTabbable()}}t.preventDefault();n.call(this);this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE){t.preventDefault();this.close(t);return}if(t.keyCode!==e.ui.keyCode.TAB){return}var n=this.uiDialog.find(":tabbable"),r=n.filter(":first"),i=n.filter(":last");if((t.target===i[0]||t.target===this.uiDialog[0])&&!t.shiftKey){r.focus(1);t.preventDefault()}else if((t.target===r[0]||t.target===this.uiDialog[0])&&t.shiftKey){i.focus(1);t.preventDefault()}},mousedown:function(e){if(this._moveToTop(e)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(t){if(!e(t.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus()}}});this.uiDialogTitlebarClose=e("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault();this.close(e)}});t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(t);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){if(!this.options.title){e.html("&#160;")}e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(e.isEmptyObject(n)||e.isArray(n)&&!n.length){this.uiDialog.removeClass("ui-dialog-buttons");return}e.each(n,function(n,r){var i,s;r=e.isFunction(r)?{click:r,text:n}:r;r=e.extend({type:"button"},r);i=r.click;r.click=function(){i.apply(t.element[0],arguments)};s={icons:r.icons,text:r.showText};delete r.icons;delete r.showText;e("<button></button>",r).button(s).appendTo(t.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function r(e){return{position:e.position,offset:e.offset}}var t=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,i){e(this).addClass("ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",n,r(i))},drag:function(e,n){t._trigger("drag",e,r(n))},stop:function(i,s){n.position=[s.position.left-t.document.scrollLeft(),s.position.top-t.document.scrollTop()];e(this).removeClass("ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",i,r(s))}})},_makeResizable:function(){function o(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var t=this,n=this.options,r=n.resizable,i=this.uiDialog.css("position"),s=typeof r==="string"?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,r){e(this).addClass("ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",n,o(r))},resize:function(e,n){t._trigger("resize",e,o(n))},stop:function(r,i){n.height=e(this).height();n.width=e(this).width();e(this).removeClass("ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",r,o(i))}}).css("position",i)},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!e){this.uiDialog.hide()}},_setOptions:function(t){var i=this,s=false,o={};e.each(t,function(e,t){i._setOption(e,t);if(e in n){s=true}if(e in r){o[e]=t}});if(s){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",o)}},_setOption:function(e,t){var n,r,i=this.uiDialog;if(e==="dialogClass"){i.removeClass(this.options.dialogClass).addClass(t)}if(e==="disabled"){return}this._super(e,t);if(e==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(e==="buttons"){this._createButtons()}if(e==="closeText"){this.uiDialogTitlebarClose.button({label:""+t})}if(e==="draggable"){n=i.is(":data(ui-draggable)");if(n&&!t){i.draggable("destroy")}if(!n&&t){this._makeDraggable()}}if(e==="position"){this._position()}if(e==="resizable"){r=i.is(":data(ui-resizable)");if(r&&!t){i.resizable("destroy")}if(r&&typeof t==="string"){i.resizable("option","handles",t)}if(!r&&t!==false){this._makeResizable()}}if(e==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var e,t,n,r=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(r.minWidth>r.width){r.width=r.minWidth}e=this.uiDialog.css({height:"auto",width:r.width}).outerHeight();t=Math.max(0,r.minHeight-e);n=typeof r.maxHeight==="number"?Math.max(0,r.maxHeight-e):"none";if(r.height==="auto"){this.element.css({minHeight:t,maxHeight:n,height:"auto"})}else{this.element.height(Math.max(0,r.height-e))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(t){if(e(t.target).closest(".ui-dialog").length){return true}return!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var t=this,n=this.widgetFullName;if(!e.ui.dialog.overlayInstances){this._delay(function(){if(e.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(r){if(!t._allowInteraction(r)){r.preventDefault();e(".ui-dialog:visible:last .ui-dialog-content").data(n)._focusTabbable()}})}})}this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});e.ui.dialog.overlayInstances++},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){e.ui.dialog.overlayInstances--;if(!e.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog")}this.overlay.remove();this.overlay=null}}});e.ui.dialog.overlayInstances=0;if(e.uiBackCompat!==false){e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t=this.options.position,n=[],r=[0,0],i;if(t){if(typeof t==="string"||typeof t==="object"&&"0"in t){n=t.split?t.split(" "):[t[0],t[1]];if(n.length===1){n[1]=n[0]}e.each(["left","top"],function(e,t){if(+n[e]===n[e]){r[e]=n[e];n[e]=t}});t={my:n[0]+(r[0]<0?r[0]:"+"+r[0])+" "+n[1]+(r[1]<0?r[1]:"+"+r[1]),at:n.join(" ")}}t=e.extend({},e.ui.dialog.prototype.options.position,t)}else{t=e.ui.dialog.prototype.options.position}i=this.uiDialog.is(":visible");if(!i){this.uiDialog.show()}this.uiDialog.position(t);if(!i){this.uiDialog.hide()}}})}})(jQuery);(function(e,t){e.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){if(this.options.disabled){e.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var n=e(t.target).closest(".ui-menu-item");if(!this.mouseHandled&&n.not(".ui-state-disabled").length){this.mouseHandled=true;this.select(t);if(n.has(".ui-menu").length){this.expand(t)}else if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);if(!t){this.focus(e,n)}},blur:function(t){this._delay(function(){if(!e.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(t)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(t){if(!e(t.target).closest(".ui-menu").length){this.collapseAll(t)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);if(t.data("ui-menu-submenu-carat")){t.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,r,i,s,o,u=true;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(t)}break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:u=false;r=this.previousFilter||"";i=String.fromCharCode(t.keyCode);s=false;clearTimeout(this.filterTimer);if(i===r){s=true}else{i=r+i}o=new RegExp("^"+a(i),"i");n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())});n=s&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n;if(!n.length){i=String.fromCharCode(t.keyCode);o=new RegExp("^"+a(i),"i");n=this.activeMenu.children(".ui-menu-item").filter(function(){return o.test(e(this).children("a").text())})}if(n.length){this.focus(t,n);if(n.length>1){this.previousFilter=i;this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(u){t.preventDefault()}},_activate:function(e){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(e)}else{this.select(e)}}},refresh:function(){var t,n=this.options.icons.submenu,r=this.element.find(this.options.menus);r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),r=t.prev("a"),i=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",true);r.attr("aria-haspopup","true").prepend(i);t.attr("aria-labelledby",r.attr("id"))});t=r.add(this.element);t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});t.children(":not(.ui-menu-item)").each(function(){var t=e(this);if(!/[^\-\u2014\u2013\s]/.test(t.text())){t.addClass("ui-widget-content ui-menu-divider")}});t.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!e.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if(e==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu)}this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&e.type==="focus");this._scrollIntoView(t);this.active=t.first();r=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",r.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(e&&e.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}n=t.children(".ui-menu");if(n.length&&/^mouse/.test(e.type)){this._startOpening(n)}this.activeMenu=t.parent();this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,s,o,u;if(this._hasScroll()){n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0;r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0;i=t.offset().top-this.activeMenu.offset().top-n-r;s=this.activeMenu.scrollTop();o=this.activeMenu.height();u=t.height();if(i<0){this.activeMenu.scrollTop(s+i)}else if(i+u>o){this.activeMenu.scrollTop(s+i-o+u)}}},blur:function(e,t){if(!t){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",e,{item:this.active})},_startOpening:function(e){clearTimeout(this.timer);if(e.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(e)},this.delay)},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer);this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));if(!r.length){r=this.element}this._close(r);this.blur(t);this.activeMenu=r},this.delay)},_close:function(e){if(!e){e=this.active?this.active.parent():this.element}e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(t&&t.length){this._close();this.focus(e,t)}},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(t&&t.length){this._open(t.parent());this._delay(function(){this.focus(e,t)})}},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;if(this.active){if(e==="first"||e==="last"){r=this.active[e==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{r=this.active[e+"All"](".ui-menu-item").eq(0)}}if(!r||!r.length||!this.active){r=this.activeMenu.children(".ui-menu-item")[t]()}this.focus(n,r)},nextPage:function(t){var n,r,i;if(!this.active){this.next(t);return}if(this.isLastItem()){return}if(this._hasScroll()){r=this.active.offset().top;i=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){n=e(this);return n.offset().top-r-i<0});this.focus(t,n)}else{this.focus(t,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(t){var n,r,i;if(!this.active){this.next(t);return}if(this.isFirstItem()){return}if(this._hasScroll()){r=this.active.offset().top;i=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){n=e(this);return n.offset().top-r+i>0});this.focus(t,n)}else{this.focus(t,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(t,true)}this._trigger("select",t,n)}})})(jQuery);(function(e,t){e.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(e){if(e===t){return this.options.value}this.options.value=this._constrainedValue(e);this._refreshValue()},_constrainedValue:function(e){if(e===t){e=this.options.value}this.indeterminate=e===false;if(typeof e!=="number"){e=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value;this._super(e);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(e,t){if(e==="max"){t=Math.max(this.min,t)}this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==t){this.oldValue=t;this._trigger("change")}if(t===this.options.max){this._trigger("complete")}}})})(jQuery);(function(e,t){var n=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];n=r.values&&r.values.length||1;if(i.length>n){i.slice(n).remove();i=i.slice(0,n)}for(t=i.length;t<n;t++){o.push(s)}this.handles=i.add(e(o.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";if(t.range){if(t.range===true){if(!t.values){t.values=[this._valueMin(),this._valueMin()]}else if(t.values.length&&t.values.length!==2){t.values=[t.values[0],t.values[0]]}else if(e.isArray(t.values)){t.values=t.values.slice(0)}}if(!this.range||!this.range.length){this.range=e("<div></div>").appendTo(this.element);n="ui-slider-range"+" ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(n+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))}else{this.range=e([])}},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e);this._on(e,this._handleEvents);this._hoverable(e);this._focusable(e)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;if(c.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();n={x:t.pageX,y:t.pageY};r=this._normValueFromMouse(n);i=this._valueMax()-this._valueMin()+1;this.handles.each(function(t){var n=Math.abs(r-l.values(t));if(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===c.min)){i=n;s=e(this);o=t}});u=this._start(t,o);if(u===false){return false}this._mouseSliding=true;this._handleIndex=o;s.addClass("ui-state-active").focus();a=s.offset();f=!e(t.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(t,o,r)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);this._slide(e,this._handleIndex,n);return false},_mouseStop:function(e){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;if(this.orientation==="horizontal"){t=this.elementSize.width;n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{t=this.elementSize.height;n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}r=n/t;if(r>1){r=1}if(r<0){r=0}if(this.orientation==="vertical"){r=1-r}i=this._valueMax()-this._valueMin();s=this._valueMin()+r*i;return this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};if(this.options.values&&this.options.values.length){n.value=this.values(t);n.values=this.values()}return this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;if(this.options.values&&this.options.values.length){r=this.values(t?0:1);if(this.options.values.length===2&&this.options.range===true&&(t===0&&n>r||t===1&&n<r)){n=r}if(n!==this.values(t)){i=this.values();i[t]=n;s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i});r=this.values(t?0:1);if(s!==false){this.values(t,n,true)}}}else{if(n!==this.value()){s=this._trigger("slide",e,{handle:this.handles[t],value:n});if(s!==false){this.value(n)}}}},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};if(this.options.values&&this.options.values.length){n.value=this.values(t);n.values=this.values()}this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};if(this.options.values&&this.options.values.length){n.value=this.values(t);n.values=this.values()}this._lastChangedValue=t;this._trigger("change",e,n)}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(t,n){var r,i,s;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(n);this._refreshValue();this._change(null,t);return}if(arguments.length){if(e.isArray(arguments[0])){r=this.options.values;i=arguments[0];for(s=0;s<r.length;s+=1){r[s]=this._trimAlignValue(i[s]);this._change(null,s)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(t)}else{return this.value()}}}else{return this._values()}},_setOption:function(t,n){var r,i=0;if(t==="range"&&this.options.range===true){if(n==="min"){this.options.value=this._values(0);this.options.values=null}else if(n==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}if(e.isArray(this.options.values)){i=this.options.values.length}e.Widget.prototype._setOption.apply(this,arguments);switch(t){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(r=0;r<i;r+=1){this._change(null,r)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var t,n,r;if(arguments.length){t=this.options.values[e];t=this._trimAlignValue(t);return t}else if(this.options.values&&this.options.values.length){n=this.options.values.slice();for(r=0;r<n.length;r+=1){n[r]=this._trimAlignValue(n[r])}return n}else{return[]}},_trimAlignValue:function(e){if(e<=this._valueMin()){return this._valueMin()}if(e>=this._valueMax()){return this._valueMax()}var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;if(Math.abs(n)*2>=t){r+=n>0?t:-t}return parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=!this._animateOff?u.animate:false,l={};if(this.options.values&&this.options.values.length){this.handles.each(function(r){n=(a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())*100;l[a.orientation==="horizontal"?"left":"bottom"]=n+"%";e(this).stop(1,1)[f?"animate":"css"](l,u.animate);if(a.options.range===true){if(a.orientation==="horizontal"){if(r===0){a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate)}if(r===1){a.range[f?"animate":"css"]({width:n-t+"%"},{queue:false,duration:u.animate})}}else{if(r===0){a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate)}if(r===1){a.range[f?"animate":"css"]({height:n-t+"%"},{queue:false,duration:u.animate})}}}t=n})}else{r=this.value();i=this._valueMin();s=this._valueMax();n=s!==i?(r-i)/(s-i)*100:0;l[this.orientation==="horizontal"?"left":"bottom"]=n+"%";this.handle.stop(1,1)[f?"animate":"css"](l,u.animate);if(o==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate)}if(o==="max"&&this.orientation==="horizontal"){this.range[f?"animate":"css"]({width:100-n+"%"},{queue:false,duration:u.animate})}if(o==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate)}if(o==="max"&&this.orientation==="vertical"){this.range[f?"animate":"css"]({height:100-n+"%"},{queue:false,duration:u.animate})}}},_handleEvents:{keydown:function(t){var r,i,s,o,u=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:t.preventDefault();if(!this._keySliding){this._keySliding=true;e(t.target).addClass("ui-state-active");r=this._start(t,u);if(r===false){return}}break}o=this.options.step;if(this.options.values&&this.options.values.length){i=s=this.values(u)}else{i=s=this.value()}switch(t.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/n);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/n);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax()){return}s=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin()){return}s=this._trimAlignValue(i-o);break}this._slide(t,u,s)},click:function(e){e.preventDefault()},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(t,n);this._change(t,n);e(t.target).removeClass("ui-state-active")}}}})})(jQuery);(function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments);this._refresh();if(t!==this.element.val()){this._trigger("change")}}}e.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;e.each(["min","max","step"],function(e,r){var i=n.attr(r);if(i!==undefined&&i.length){t[r]=i}});return t},_events:{keydown:function(e){if(this._start(e)&&this._keydown(e)){e.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",e)}},mousewheel:function(e,t){if(!t){return}if(!this.spinning&&!this._start(e)){return false}this._spin((t>0?1:-1)*this.options.step,e);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(e)}},100);e.preventDefault()},"mousedown .ui-spinner-button":function(t){function r(){var e=this.element[0]===this.document[0].activeElement;if(!e){this.element.focus();this.previous=n;this._delay(function(){this.previous=n})}}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();t.preventDefault();r.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;r.call(this)});if(this._start(t)===false){return}this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(!e(t.currentTarget).hasClass("ui-state-active")){return}if(this._start(t)===false){return false}this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(e.height()*.5)&&e.height()>0){e.height(e.height())}if(this.options.disabled){this.disable()}},_keydown:function(t){var n=this.options,r=e.ui.keyCode;switch(t.keyCode){case r.UP:this._repeat(null,1,t);return true;case r.DOWN:this._repeat(null,-1,t);return true;case r.PAGE_UP:this._repeat(null,n.page,t);return true;case r.PAGE_DOWN:this._repeat(null,-n.page,t);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return""+"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>"+"<span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(e){if(!this.spinning&&this._trigger("start",e)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(e,t,n){e=e||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,n)},e);this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;if(!this.counter){this.counter=1}n=this._adjustValue(n+e*this._increment(this.counter));if(!this.spinning||this._trigger("spin",t,{value:n})!==false){this._value(n);this.counter++}},_increment:function(t){var n=this.options.incremental;if(n){return e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1)}return 1},_precision:function(){var e=this._precisionOf(this.options.step);if(this.options.min!==null){e=Math.max(e,this._precisionOf(this.options.min))}return e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return n===-1?0:t.length-n-1},_adjustValue:function(e){var t,n,r=this.options;t=r.min!==null?r.min:0;n=e-t;n=Math.round(n/r.step)*r.step;e=t+n;e=parseFloat(e.toFixed(this._precision()));if(r.max!==null&&e>r.max){return r.max}if(r.min!==null&&e<r.min){return r.min}return e},_stop:function(e){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",e)},_setOption:function(e,t){if(e==="culture"||e==="numberFormat"){var n=this._parse(this.element.val());this.options[e]=t;this.element.val(this._format(n));return}if(e==="max"||e==="min"||e==="step"){if(typeof t==="string"){t=this._parse(t)}}if(e==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)}this._super(e,t);if(e==="disabled"){if(t){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}}},_setOptions:t(function(e){this._super(e);this._value(this.element.val())}),_parse:function(e){if(typeof e==="string"&&e!==""){e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e}return e===""||isNaN(e)?null:e},_format:function(e){if(e===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var n;if(e!==""){n=this._parse(e);if(n!==null){if(!t){n=this._adjustValue(n)}e=this._format(n)}}this.element.val(e);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){if(this._start()){this._spin((e||1)*this.options.step);this._stop()}},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){if(this._start()){this._spin((e||1)*-this.options.step);this._stop()}},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length){return this._parse(this.element.val())}t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})})(jQuery);(function(e,t){function i(){return++n}function s(e){return e.hash.length>1&&decodeURIComponent(e.href.replace(r,""))===decodeURIComponent(location.href.replace(r,""))}var n=0,r=/#.*$/;e.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,n=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){if(e(this).is(".ui-state-disabled")){t.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(e(this).closest("li").is(".ui-state-disabled")){this.blur()}});this._processTabs();n.active=this._initialActive();if(e.isArray(n.disabled)){n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(n.active)}else{this.active=e()}this._refresh();if(this.active.length){this.load(n.active)}},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,r=location.hash.substring(1);if(t===null){if(r){this.tabs.each(function(n,i){if(e(i).attr("aria-controls")===r){t=n;return false}})}if(t===null){t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(t===null||t===-1){t=this.tabs.length?0:false}}if(t!==false){t=this.tabs.index(this.tabs.eq(t));if(t===-1){t=n?false:0}}if(!n&&t===false&&this.anchors.length){t=0}return t},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?e():this._getPanelForTab(this.active)}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),r=this.tabs.index(n),i=true;if(this._handlePageNav(t)){return}switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:r++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=false;r--;break;case e.ui.keyCode.END:r=this.anchors.length-1;break;case e.ui.keyCode.HOME:r=0;break;case e.ui.keyCode.SPACE:t.preventDefault();clearTimeout(this.activating);this._activate(r);return;case e.ui.keyCode.ENTER:t.preventDefault();clearTimeout(this.activating);this._activate(r===this.options.active?false:r);return;default:return}t.preventDefault();clearTimeout(this.activating);r=this._focusNextTab(r,i);if(!t.ctrlKey){n.attr("aria-selected","false");this.tabs.eq(r).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",r)},this.delay)}},_panelKeydown:function(t){if(this._handlePageNav(t)){return}if(t.ctrlKey&&t.keyCode===e.ui.keyCode.UP){t.preventDefault();this.active.focus()}},_handlePageNav:function(t){if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(t,n){function i(){if(t>r){t=0}if(t<0){t=r}return t}var r=this.tabs.length-1;while(e.inArray(i(),this.options.disabled)!==-1){t=n?t+1:t-1}return t},_focusNextTab:function(e,t){e=this._findNextTab(e,t);this.tabs.eq(e).focus();return e},_setOption:function(e,t){if(e==="active"){this._activate(t);return}if(e==="disabled"){this._setupDisabled(t);return}this._super(e,t);if(e==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",t);if(!t&&this.options.active===false){this._activate(0)}}if(e==="event"){this._setupEvents(t)}if(e==="heightStyle"){this._setupHeightStyle(t)}},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)});this._processTabs();if(t.active===false||!this.anchors.length){t.active=false;this.active=e()}else if(this.active.length&&!e.contains(this.tablist[0],this.active[0])){if(this.tabs.length===t.disabled.length){t.active=false;this.active=e()}else{this._activate(this._findNextTab(Math.max(0,t.active-1),false))}}else{t.active=this.tabs.index(this.active)}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=e();this.anchors.each(function(n,r){var i,o,u,a=e(r).uniqueId().attr("id"),f=e(r).closest("li"),l=f.attr("aria-controls");if(s(r)){i=r.hash;o=t.element.find(t._sanitizeSelector(i))}else{u=t._tabId(f);i="#"+u;o=t.element.find(i);if(!o.length){o=t._createPanel(u);o.insertAfter(t.panels[n-1]||t.tablist)}o.attr("aria-live","polite")}if(o.length){t.panels=t.panels.add(o)}if(l){f.data("ui-tabs-aria-controls",l)}f.attr({"aria-controls":i.substring(1),"aria-labelledby":a});o.attr("aria-labelledby",a)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(t){if(e.isArray(t)){if(!t.length){t=false}else if(t.length===this.anchors.length){t=true}}for(var n=0,r;r=this.tabs[n];n++){if(t===true||e.inArray(n,t)!==-1){e(r).addClass("ui-state-disabled").attr("aria-disabled","true")}else{e(r).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=t},_setupEvents:function(t){var n={click:function(e){e.preventDefault()}};if(t){e.each(t.split(" "),function(e,t){n[t]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,n);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,r=this.element.parent();if(t==="fill"){n=r.height();n-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var t=e(this),r=t.css("position");if(r==="absolute"||r==="fixed"){return}n-=t.outerHeight(true)});this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(true)});this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")}else if(t==="auto"){n=0;this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n)}},_eventHandler:function(t){var n=this.options,r=this.active,i=e(t.currentTarget),s=i.closest("li"),o=s[0]===r[0],u=o&&n.collapsible,a=u?e():this._getPanelForTab(s),f=!r.length?e():this._getPanelForTab(r),l={oldTab:r,oldPanel:f,newTab:u?e():s,newPanel:a};t.preventDefault();if(s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||this._trigger("beforeActivate",t,l)===false){return}n.active=u?false:this.tabs.index(s);this.active=o?e():s;if(this.xhr){this.xhr.abort()}if(!f.length&&!a.length){e.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(a.length){this.load(this.tabs.index(s),t)}this._toggle(t,l)},_toggle:function(t,n){function o(){r.running=false;r._trigger("activate",t,n)}function u(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(i.length&&r.options.show){r._show(i,r.options.show,o)}else{i.show();o()}}var r=this,i=n.newPanel,s=n.oldPanel;this.running=true;if(s.length&&this.options.hide){this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");u()})}else{n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");s.hide();u()}s.attr({"aria-expanded":"false","aria-hidden":"true"});n.oldTab.attr("aria-selected","false");if(i.length&&s.length){n.oldTab.attr("tabIndex",-1)}else if(i.length){this.tabs.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1)}i.attr({"aria-expanded":"true","aria-hidden":"false"});n.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var n,r=this._findActive(t);if(r[0]===this.active[0]){return}if(!r.length){r=this.active}n=r.find(".ui-tabs-anchor")[0];this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop})},_findActive:function(t){return t===false?e():this.tabs.eq(t)},_getIndex:function(e){if(typeof e==="string"){e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))}return e},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(e.data(this,"ui-tabs-destroy")){e(this).remove()}else{e(this).removeClass("ui-state-default ui-state-active ui-state-disabled "+"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");if(n){t.attr("aria-controls",n).removeData("ui-tabs-aria-controls")}else{t.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(n){var r=this.options.disabled;if(r===false){return}if(n===t){r=false}else{n=this._getIndex(n);if(e.isArray(r)){r=e.map(r,function(e){return e!==n?e:null})}else{r=e.map(this.tabs,function(e,t){return t!==n?t:null})}}this._setupDisabled(r)},disable:function(n){var r=this.options.disabled;if(r===true){return}if(n===t){r=true}else{n=this._getIndex(n);if(e.inArray(n,r)!==-1){return}if(e.isArray(r)){r=e.merge([n],r).sort()}else{r=[n]}}this._setupDisabled(r)},load:function(t,n){t=this._getIndex(t);var r=this,i=this.tabs.eq(t),o=i.find(".ui-tabs-anchor"),u=this._getPanelForTab(i),a={tab:i,panel:u};if(s(o[0])){return}this.xhr=e.ajax(this._ajaxSettings(o,n,a));if(this.xhr&&this.xhr.statusText!=="canceled"){i.addClass("ui-tabs-loading");u.attr("aria-busy","true");this.xhr.success(function(e){setTimeout(function(){u.html(e);r._trigger("load",n,a)},1)}).complete(function(e,t){setTimeout(function(){if(t==="abort"){r.panels.stop(false,true)}i.removeClass("ui-tabs-loading");u.removeAttr("aria-busy");if(e===r.xhr){delete r.xhr}},1)})}},_ajaxSettings:function(t,n,r){var i=this;return{url:t.attr("href"),beforeSend:function(t,s){return i._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:s},r))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}})})(jQuery);$(document).ready(function(){$(function(){$(".animation-toggle").click(function(){var e=$(this).attr("data-animation");var t=$(this).attr("data-animation-target");$(t).addClass("animated");$(t).addClass(e);$(t).removeClass("hide");var n=window.setTimeout(function(){$(t).removeClass("animated");$(t).removeClass(e);$(t).addClass("hide")},1300)})})});(function(e,t){function o(t){e.extend(true,n,t)}function u(n,r,i){function M(e){if(!d){_()}else if(H()){z();q(e)}}function _(){v=r.theme?"ui":"fc";n.addClass("fc");if(r.isRTL){n.addClass("fc-rtl")}else{n.addClass("fc-ltr")}if(r.theme){n.addClass("ui-widget")}d=e("<div class='fc-content' style='position:relative'/>").prependTo(n);h=new a(o,r);p=h.render();if(p){n.prepend(p)}j(r.defaultView);if(r.handleWindowResize){e(window).resize(X)}if(!B()){D()}}function D(){setTimeout(function(){if(!b.start&&B()){I()}},0)}function P(){if(b){gt("viewDestroy",b,b,b.element);b.triggerEventDestroy()}e(window).unbind("resize",X);h.destroy();d.remove();n.removeClass("fc fc-rtl ui-widget")}function H(){return n.is(":visible")}function B(){return e("body").is(":visible")}function j(e){if(!b||e!=b.name){F(e)}}function F(t){T++;if(b){gt("viewDestroy",b,b,b.element);it();b.triggerEventDestroy();pt();b.element.remove();h.deactivateButton(b.name)}h.activateButton(t);b=new s[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(d),o);I();dt();T--}function I(e){if(!b.start||e||C<b.start||C>=b.end){if(H()){q(e)}}}function q(e){T++;if(b.start){gt("viewDestroy",b,b,b.element);it();Q()}pt();b.render(C,e||0);W();dt();(b.afterRender||V)();tt();nt();gt("viewRender",b,b,b.element);b.trigger("viewDisplay",l);T--;G()}function R(){if(H()){it();Q();z();W();K()}}function z(){if(r.contentHeight){E=r.contentHeight}else if(r.height){E=r.height-(p?p.height():0)-U(d)}else{E=Math.round(d.width()/Math.max(r.aspectRatio,.5))}}function W(){if(E===t){z()}T++;b.setHeight(E);b.setWidth(d.width());T--;w=n.outerWidth()}function X(){if(!T){if(b.start){var e=++x;setTimeout(function(){if(e==x&&!T&&H()){if(w!=(w=n.outerWidth())){T++;R();b.trigger("windowResize",l);T--}}},200)}else{D()}}}function $(){Q();Y()}function J(e){Q();K(e)}function K(e){if(H()){b.setEventData(k);b.renderEvents(k,e);b.trigger("eventAfterAllRender")}}function Q(){b.triggerEventDestroy();b.clearEvents();b.clearEventData()}function G(){if(!r.lazyFetching||u(b.visStart,b.visEnd)){Y()}else{K()}}function Y(){f(b.visStart,b.visEnd)}function Z(e){k=e;K()}function et(e){J(e)}function tt(){h.updateTitle(b.title)}function nt(){var e=new Date;if(e>=b.start&&e<b.end){h.disableButton("today")}else{h.enableButton("today")}}function rt(e,n,r){b.select(e,n,r===t?true:r)}function it(){if(b){b.unselect()}}function st(){I(-1)}function ot(){I(1)}function ut(){m(C,-1);I()}function at(){m(C,1);I()}function ft(){C=new Date;I()}function lt(e,t,n){if(e instanceof Date){C=S(e)}else{N(C,e,t,n)}I()}function ct(e,n,r){if(e!==t){m(C,e)}if(n!==t){g(C,n)}if(r!==t){y(C,r)}I()}function ht(){return S(C)}function pt(){d.css({width:"100%",height:d.height(),overflow:"hidden"})}function dt(){d.css({width:"",height:"",overflow:""})}function vt(){return b}function mt(e,n){if(n===t){return r[e]}if(e=="height"||e=="contentHeight"||e=="aspectRatio"){r[e]=n;R()}}function gt(e,t){if(r[e]){return r[e].apply(t||l,Array.prototype.slice.call(arguments,2))}}var o=this;o.options=r;o.render=M;o.destroy=P;o.refetchEvents=$;o.reportEvents=Z;o.reportEventChange=et;o.rerenderEvents=J;o.changeView=j;o.select=rt;o.unselect=it;o.prev=st;o.next=ot;o.prevYear=ut;o.nextYear=at;o.today=ft;o.gotoDate=lt;o.incrementDate=ct;o.formatDate=function(e,t){return A(e,t,r)};o.formatDates=function(e,t,n){return O(e,t,n,r)};o.getDate=ht;o.getView=vt;o.option=mt;o.trigger=gt;c.call(o,r,i);var u=o.isFetchNeeded;var f=o.fetchEvents;var l=n[0];var h;var p;var d;var v;var b;var w;var E;var x=0;var T=0;var C=new Date;var k=[];var L;N(C,r.year,r.month,r.date);if(r.droppable){e(document).bind("dragstart",function(t,n){var i=t.target;var s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;if(e.isFunction(o)?o.call(i,s):s.is(o)){L=i;b.dragStart(L,t,n)}}}).bind("dragstop",function(e,t){if(L){b.dragStop(L,e,t);L=null}})}}function a(t,n){function u(){o=n.theme?"ui":"fc";var t=n.header;if(t){i=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(f("left")).append(f("center")).append(f("right")));return i}}function a(){i.remove()}function f(r){var i=e("<td class='fc-header-"+r+"'/>");var u=n.header[r];if(u){e.each(u.split(" "),function(r){if(r>0){i.append("<span class='fc-header-space'/>")}var u;e.each(this.split(","),function(r,a){if(a=="title"){i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");if(u){u.addClass(o+"-corner-right")}u=null}else{var f;if(t[a]){f=t[a]}else if(s[a]){f=function(){h.removeClass(o+"-state-hover");t.changeView(a)}}if(f){var l=n.theme?Q(n.buttonIcons,a):null;var c=Q(n.buttonText,a);var h=e("<span class='fc-button fc-button-"+a+" "+o+"-state-default'>"+(l?"<span class='fc-icon-wrap'>"+"<span class='ui-icon ui-icon-"+l+"'/>"+"</span>":c)+"</span>").click(function(){if(!h.hasClass(o+"-state-disabled")){f()}}).mousedown(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){h.removeClass(o+"-state-down")}).hover(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){h.removeClass(o+"-state-hover").removeClass(o+"-state-down")}).appendTo(i);Y(h);if(!u){h.addClass(o+"-corner-left")}u=h}}});if(u){u.addClass(o+"-corner-right")}})}return i}function l(e){i.find("h2").html(e)}function c(e){i.find("span.fc-button-"+e).addClass(o+"-state-active")}function h(e){i.find("span.fc-button-"+e).removeClass(o+"-state-active")}function p(e){i.find("span.fc-button-"+e).addClass(o+"-state-disabled")}function d(e){i.find("span.fc-button-"+e).removeClass(o+"-state-disabled")}var r=this;r.render=u;r.destroy=a;r.updateTitle=l;r.activateButton=c;r.deactivateButton=h;r.disableButton=p;r.enableButton=d;var i=e([]);var o}function c(n,r){function w(e,t){return!p||e<p||t>d}function E(e,t){p=e;d=t;y=[];var n=++v;var r=h.length;m=r;for(var i=0;i<r;i++){x(h[i],n)}}function x(t,r){T(t,function(i){if(r==v){if(i){if(n.eventDataTransform){i=e.map(i,n.eventDataTransform)}if(t.eventDataTransform){i=e.map(i,t.eventDataTransform)}for(var s=0;s<i.length;s++){i[s].source=t;H(i[s])}y=y.concat(i)}m--;if(!m){a(y)}}})}function T(t,r){var s;var o=i.sourceFetchers;var u;for(s=0;s<o.length;s++){u=o[s](t,p,d,r);if(u===true){return}else if(typeof u=="object"){T(u,r);return}}var a=t.events;if(a){if(e.isFunction(a)){D();a(S(p),S(d),function(e){r(e);P()})}else if(e.isArray(a)){r(a)}else{r()}}else{var l=t.url;if(l){var c=t.success;var h=t.error;var v=t.complete;var m;if(e.isFunction(t.data)){m=t.data()}else{m=t.data}var g=e.extend({},m||{});var y=rt(t.startParam,n.startParam);var b=rt(t.endParam,n.endParam);if(y){g[y]=Math.round(+p/1e3)}if(b){g[b]=Math.round(+d/1e3)}D();e.ajax(e.extend({},f,t,{data:g,success:function(t){t=t||[];var n=nt(c,this,arguments);if(e.isArray(n)){t=n}r(t)},error:function(){nt(h,this,arguments);r()},complete:function(){nt(v,this,arguments);P()}}))}else{r()}}}function N(e){e=k(e);if(e){m++;x(e,v)}}function k(t){if(e.isFunction(t)||e.isArray(t)){t={events:t}}else if(typeof t=="string"){t={url:t}}if(typeof t=="object"){B(t);h.push(t);return t}}function L(t){h=e.grep(h,function(e){return!j(e,t)});y=e.grep(y,function(e){return!j(e.source,t)});a(y)}function A(e){var t,n=y.length,r,i=u().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;t<n;t++){r=y[t];if(r._id==e._id&&r!=e){r.start=new Date(+r.start+s);if(e.end){if(r.end){r.end=new Date(+r.end+o)}else{r.end=new Date(+i(r)+o)}}else{r.end=null}r.title=e.title;r.url=e.url;r.allDay=e.allDay;r.className=e.className;r.editable=e.editable;r.color=e.color;r.backgroundColor=e.backgroundColor;r.borderColor=e.borderColor;r.textColor=e.textColor;H(r)}}H(e);a(y)}function O(e,t){H(e);if(!e.source){if(t){c.events.push(e);e.source=c}y.push(e)}a(y)}function M(t){if(!t){y=[];for(var n=0;n<h.length;n++){if(e.isArray(h[n].events)){h[n].events=[]}}}else{if(!e.isFunction(t)){var r=t+"";t=function(e){return e._id==r}}y=e.grep(y,t,true);for(var n=0;n<h.length;n++){if(e.isArray(h[n].events)){h[n].events=e.grep(h[n].events,t,true)}}}a(y)}function _(t){if(e.isFunction(t)){return e.grep(y,t)}else if(t){t+="";return e.grep(y,function(e){return e._id==t})}return y}function D(){if(!(g++)){o("loading",null,true,u())}}function P(){if(!--g){o("loading",null,false,u())}}function H(e){var r=e.source||{};var i=rt(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+l++:e.id+"");if(e.date){if(!e.start){e.start=e.date}delete e.date}e._start=S(e.start=C(e.start,i));e.end=C(e.end,i);if(e.end&&e.end<=e.start){e.end=null}e._end=e.end?S(e.end):null;if(e.allDay===t){e.allDay=rt(r.allDayDefault,n.allDayDefault)}if(e.className){if(typeof e.className=="string"){e.className=e.className.split(/\s+/)}}else{e.className=[]}}function B(e){if(e.className){if(typeof e.className=="string"){e.className=e.className.split(/\s+/)}}else{e.className=[]}var t=i.sourceNormalizers;for(var n=0;n<t.length;n++){t[n](e)}}function j(e,t){return e&&t&&F(e)==F(t)}function F(e){return(typeof e=="object"?e.events||e.url:"")||e}var s=this;s.isFetchNeeded=w;s.fetchEvents=E;s.addEventSource=N;s.removeEventSource=L;s.updateEvent=A;s.renderEvent=O;s.removeEvents=M;s.clientEvents=_;s.normalizeEvent=H;var o=s.trigger;var u=s.getView;var a=s.reportEvents;var c={events:[]};var h=[c];var p,d;var v=0;var m=0;var g=0;var y=[];for(var b=0;b<r.length;b++){k(r[b])}}function m(e,t,n){e.setFullYear(e.getFullYear()+t);if(!n){E(e)}return e}function g(e,t,n){if(+e){var r=e.getMonth()+t,i=S(e);i.setDate(1);i.setMonth(r);e.setMonth(r);if(!n){E(e)}while(e.getMonth()!=i.getMonth()){e.setDate(e.getDate()+(e<i?1:-1))}}return e}function y(e,t,n){if(+e){var r=e.getDate()+t,i=S(e);i.setHours(9);i.setDate(r);e.setDate(r);if(!n){E(e)}b(e,i)}return e}function b(e,t){if(+e){while(e.getDate()!=t.getDate()){e.setTime(+e+(e<t?1:-1)*d)}}}function w(e,t){e.setMinutes(e.getMinutes()+t);return e}function E(e){e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e}function S(e,t){if(t){return E(new Date(+e))}return new Date(+e)}function x(){var e=0,t;do{t=new Date(1970,e++,1)}while(t.getHours());return t}function T(e,t){return Math.round((S(e,true)-S(t,true))/p)}function N(e,n,r,i){if(n!==t&&n!=e.getFullYear()){e.setDate(1);e.setMonth(0);e.setFullYear(n)}if(r!==t&&r!=e.getMonth()){e.setDate(1);e.setMonth(r)}if(i!==t){e.setDate(i)}}function C(e,n){if(typeof e=="object"){return e}if(typeof e=="number"){return new Date(e*1e3)}if(typeof e=="string"){if(e.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(e)*1e3)}if(n===t){n=true}return k(e,n)||(e?new Date(e):null)}return null}function k(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n){return null}var r=new Date(n[1],0,1);if(t||!n[13]){var i=new Date(n[1],0,1,9,0);if(n[3]){r.setMonth(n[3]-1);i.setMonth(n[3]-1)}if(n[5]){r.setDate(n[5]);i.setDate(n[5])}b(r,i);if(n[7]){r.setHours(n[7])}if(n[8]){r.setMinutes(n[8])}if(n[10]){r.setSeconds(n[10])}if(n[12]){r.setMilliseconds(Number("0."+n[12])*1e3)}b(r,i)}else{r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1);r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?Number("0."+n[12])*1e3:0);if(n[14]){var s=Number(n[16])*60+(n[18]?Number(n[18]):0);s*=n[15]=="-"?1:-1;r=new Date(+r+s*60*1e3)}}return r}function L(e){if(typeof e=="number"){return e*60}if(typeof e=="object"){return e.getHours()*60+e.getMinutes()}var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);if(t[3]){n%=12;if(t[3].toLowerCase().charAt(0)=="p"){n+=12}}return n*60+(t[2]?parseInt(t[2],10):0)}}function A(e,t,n){return O(e,null,t,n)}function O(e,t,r,i){i=i||n;var s=e,o=t,u,a=r.length,f,l,c,h="";for(u=0;u<a;u++){f=r.charAt(u);if(f=="'"){for(l=u+1;l<a;l++){if(r.charAt(l)=="'"){if(s){if(l==u+1){h+="'"}else{h+=r.substring(u+1,l)}u=l}break}}}else if(f=="("){for(l=u+1;l<a;l++){if(r.charAt(l)==")"){var p=A(s,r.substring(u+1,l),i);if(parseInt(p.replace(/\D/,""),10)){h+=p}u=l;break}}}else if(f=="["){for(l=u+1;l<a;l++){if(r.charAt(l)=="]"){var d=r.substring(u+1,l);var p=A(s,d,i);if(p!=A(o,d,i)){h+=p}u=l;break}}}else if(f=="{"){s=t;o=e}else if(f=="}"){s=e;o=t}else{for(l=a;l>u;l--){if(c=M[r.substring(u,l)]){if(s){h+=c(s,i)}u=l-1;break}}if(l==u){if(s){h+=f}}}}return h}function _(e){var t;var n=new Date(e.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));t=n.getTime();n.setMonth(0);n.setDate(1);return Math.floor(Math.round((t-n)/864e5)/7)+1}function D(e){if(e.end){return P(e.end,e.allDay)}else{return y(S(e.start),1)}}function P(e,t){e=S(e);return t||e.getHours()||e.getMinutes()?y(e,1):E(e)}function H(n,r,i){n.unbind("mouseover").mouseover(function(n){var s=n.target,o,u,a;while(s!=this){o=s;s=s.parentNode}if((u=o._fci)!==t){o._fci=t;a=r[u];i(a.event,a.element,a);e(n.target).trigger(n)}n.stopPropagation()})}function B(t,n,r){for(var i=0,s;i<t.length;i++){s=e(t[i]);s.width(Math.max(0,n-F(s,r)))}}function j(t,n,r){for(var i=0,s;i<t.length;i++){s=e(t[i]);s.height(Math.max(0,n-U(s,r)))}}function F(e,t){return I(e)+R(e)+(t?q(e):0)}function I(t){return(parseFloat(e.css(t[0],"paddingLeft",true))||0)+(parseFloat(e.css(t[0],"paddingRight",true))||0)}function q(t){return(parseFloat(e.css(t[0],"marginLeft",true))||0)+(parseFloat(e.css(t[0],"marginRight",true))||0)}function R(t){return(parseFloat(e.css(t[0],"borderLeftWidth",true))||0)+(parseFloat(e.css(t[0],"borderRightWidth",true))||0)}function U(e,t){return z(e)+X(e)+(t?W(e):0)}function z(t){return(parseFloat(e.css(t[0],"paddingTop",true))||0)+(parseFloat(e.css(t[0],"paddingBottom",true))||0)}function W(t){return(parseFloat(e.css(t[0],"marginTop",true))||0)+(parseFloat(e.css(t[0],"marginBottom",true))||0)}function X(t){return(parseFloat(e.css(t[0],"borderTopWidth",true))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",true))||0)}function V(){}function $(e,t){return e-t}function J(e){return Math.max.apply(Math,e)}function K(e){return(e<10?"0":"")+e}function Q(e,n){if(e[n]!==t){return e[n]}var r=n.split(/(?=[A-Z])/),i=r.length-1,s;for(;i>=0;i--){s=e[r[i].toLowerCase()];if(s!==t){return s}}return e[""]}function G(e){return e.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Y(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function Z(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function et(e,t){e.each(function(e,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+h[t.getDay()])})}function tt(e,t){var n=e.source||{};var r=e.color;var i=n.color;var s=t("eventColor");var o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s;var u=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s;var a=e.textColor||n.textColor||t("eventTextColor");var f=[];if(o){f.push("background-color:"+o)}if(u){f.push("border-color:"+u)}if(a){f.push("color:"+a)}return f.join(";")}function nt(t,n,r){if(e.isFunction(t)){t=[t]}if(t){var i;var s;for(i=0;i<t.length;i++){s=t[i].apply(n,r)||s}return s}}function rt(){for(var e=0;e<arguments.length;e++){if(arguments[e]!==t){return arguments[e]}}}function it(e,t){function a(e,t){if(t){g(e,t);e.setDate(1)}var a=r("firstDay");var f=S(e,true);f.setDate(1);var l=g(S(f),1);var c=S(f);y(c,-((c.getDay()-a+7)%7));s(c);var h=S(l);y(h,(7-h.getDay()+a)%7);s(h,-1,true);var p=o();var d=Math.round(T(h,c)/7);if(r("weekMode")=="fixed"){y(h,(6-d)*7);d=6}n.title=u(f,r("titleFormat"));n.start=f;n.end=l;n.visStart=c;n.visEnd=h;i(d,p,true)}var n=this;n.render=a;ut.call(n,e,t,"month");var r=n.opt;var i=n.renderBasic;var s=n.skipHiddenDays;var o=n.getCellsPerWeek;var u=t.formatDate}function st(e,t){function a(e,t){if(t){y(e,t*7)}var a=y(S(e),-((e.getDay()-r("firstDay")+7)%7));var f=y(S(a),7);var l=S(a);s(l);var c=S(f);s(c,-1,true);var h=o();n.start=a;n.end=f;n.visStart=l;n.visEnd=c;n.title=u(l,y(S(c),-1),r("titleFormat"));i(1,h,false)}var n=this;n.render=a;ut.call(n,e,t,"basicWeek");var r=n.opt;var i=n.renderBasic;var s=n.skipHiddenDays;var o=n.getCellsPerWeek;var u=t.formatDates}function ot(e,t){function u(e,t){if(t){y(e,t)}s(e,t<0?-1:1);var u=S(e,true);var a=y(S(u),1);n.title=o(e,r("titleFormat"));n.start=n.visStart=u;n.end=n.visEnd=a;i(1,1,false)}var n=this;n.render=u;ut.call(n,e,t,"basicDay");var r=n.opt;var i=n.renderBasic;var s=n.skipHiddenDays;var o=t.formatDate}function ut(t,n,r){function $(e,t,n){D=e;P=t;H=n;J();if(!b){K()}Q()}function J(){R=s("theme")?"ui":"fc";z=s("columnFormat");W=s("weekNumbers");X=s("weekNumberTitle");if(s("weekNumberCalculation")!="iso"){V="w"}else{V="W"}}function K(){L=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function Q(){var n=et();if(v){v.remove()}v=e(n).appendTo(t);m=v.find("thead");g=m.find(".fc-day-header");b=v.find("tbody");w=b.find("tr");x=b.find(".fc-day");T=w.find("td:first-child");N=w.eq(0).find(".fc-day > div");C=w.eq(0).find(".fc-day-content > div");Z(m.add(m.find("tr")));Z(w);w.eq(0).addClass("fc-first");w.filter(":last").addClass("fc-last");x.each(function(t,n){var r=l(Math.floor(t/P),t%P);o("dayRender",i,r,e(n))});ot(x)}function et(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+tt()+nt()+"</table>";return e}function tt(){var e=R+"-widget-header";var t="";var n;var r;t+="<thead><tr>";if(W){t+="<th class='fc-week-number "+e+"'>"+G(X)+"</th>"}for(n=0;n<P;n++){r=l(0,n);t+="<th class='fc-day-header fc-"+h[r.getDay()]+" "+e+"'>"+G(d(r,z))+"</th>"}t+="</tr></thead>";return t}function nt(){var e=R+"-widget-content";var t="";var n;var r;var i;t+="<tbody>";for(n=0;n<D;n++){t+="<tr class='fc-week'>";if(W){i=l(n,0);t+="<td class='fc-week-number "+e+"'>"+"<div>"+G(d(i,V))+"</div>"+"</td>"}for(r=0;r<P;r++){i=l(n,r);t+=rt(i)}t+="</tr>"}t+="</tbody>";return t}function rt(e){var t=R+"-widget-content";var n=i.start.getMonth();var r=E(new Date);var s="";var o=["fc-day","fc-"+h[e.getDay()],t];if(e.getMonth()!=n){o.push("fc-other-month")}if(+e==+r){o.push("fc-today",R+"-state-highlight")}else if(e<r){o.push("fc-past")}else{o.push("fc-future")}s+="<td"+" class='"+o.join(" ")+"'"+" data-date='"+d(e,"yyyy-MM-dd")+"'"+">"+"<div>";if(H){s+="<div class='fc-day-number'>"+e.getDate()+"</div>"}s+="<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";return s}function it(t){O=t;var n=O-m.height();var r;var i;var o;if(s("weekMode")=="variable"){r=i=Math.floor(n/(D==1?2:6))}else{r=Math.floor(n/D);i=n-r*(D-1)}T.each(function(t,n){if(t<D){o=e(n);o.find("> div").css("min-height",(t==D-1?i:r)-U(o))}})}function st(e){A=e;I.clear();q.clear();_=0;if(W){_=m.find("th.fc-week-number").outerWidth()}M=Math.floor((A-_)/P);B(g.slice(0,-1),M)}function ot(e){e.click(ut).mousedown(f)}function ut(t){if(!s("selectable")){var n=k(e(this).data("date"));o("dayClick",this,n,true,t)}}function ft(e,t,n){if(n){j.build()}var r=p(e,t);for(var i=0;i<r.length;i++){var s=r[i];ot(lt(s.row,s.leftCol,s.row,s.rightCol))}}function lt(e,n,r,i){var s=j.rect(e,n,r,i,t);return u(s,t)}function ct(e,t){return S(e)}function ht(e,t,n){ft(e,y(S(t),1),true)}function pt(){a()}function dt(e,t,n){var r=c(e);var i=x[r.row*P+r.col];o("dayClick",i,e,t,n)}function vt(e,t,n){F.start(function(e){a();if(e){lt(e.row,e.col,e.row,e.col)}},t)}function mt(e,t,n){var r=F.stop();a();if(r){var i=l(r);o("drop",e,i,true,t,n)}}function gt(e){return S(e.start)}function yt(e){return I.left(e)}function bt(e){return I.right(e)}function wt(e){return q.left(e)}function Et(e){return q.right(e)}function St(e){return w.eq(e)}var i=this;i.renderBasic=$;i.setHeight=it;i.setWidth=st;i.renderDayOverlay=ft;i.defaultSelectionEnd=ct;i.renderSelection=ht;i.clearSelection=pt;i.reportDayClick=dt;i.dragStart=vt;i.dragStop=mt;i.defaultEventEnd=gt;i.getHoverListener=function(){return F};i.colLeft=yt;i.colRight=bt;i.colContentLeft=wt;i.colContentRight=Et;i.getIsCellAllDay=function(){return true};i.allDayRow=St;i.getRowCnt=function(){return D};i.getColCnt=function(){return P};i.getColWidth=function(){return M};i.getDaySegmentContainer=function(){return L};xt.call(i,t,n,r);At.call(i);Lt.call(i);at.call(i);var s=i.opt;var o=i.trigger;var u=i.renderOverlay;var a=i.clearOverlays;var f=i.daySelectionMousedown;var l=i.cellToDate;var c=i.dateToCell;var p=i.rangeToSegments;var d=n.formatDate;var v;var m;var g;var b;var w;var x;var T;var N;var C;var L;var A;var O;var M;var _;var D,P;var H;var j;var F;var I;var q;var R;var z;var W;var X;var V;Y(t.addClass("fc-grid"));j=new Ot(function(t,n){var r,i,s;g.each(function(t,o){r=e(o);i=r.offset().left;if(t){s[1]=i}s=[i];n[t]=s});s[1]=i+r.outerWidth();w.each(function(n,o){if(n<D){r=e(o);i=r.offset().top;if(n){s[1]=i}s=[i];t[n]=s}});s[1]=i+r.outerHeight()});F=new Mt(j);I=new Dt(function(e){return N.eq(e)});q=new Dt(function(e){return C.eq(e)})}function at(){function t(t,n){e.renderDayEvents(t,n)}function n(){e.getDaySegmentContainer().empty()}var e=this;e.renderEvents=t;e.clearEvents=n;Tt.call(e)}function ft(e,t){function a(e,t){if(t){y(e,t*7)}var a=y(S(e),-((e.getDay()-r("firstDay")+7)%7));var f=y(S(a),7);var l=S(a);s(l);var c=S(f);s(c,-1,true);var h=o();n.title=u(l,y(S(c),-1),r("titleFormat"));n.start=a;n.end=f;n.visStart=l;n.visEnd=c;i(h)}var n=this;n.render=a;ct.call(n,e,t,"agendaWeek");var r=n.opt;var i=n.renderAgenda;var s=n.skipHiddenDays;var o=n.getCellsPerWeek;var u=t.formatDates}function lt(e,t){function u(e,t){if(t){y(e,t)}s(e,t<0?-1:1);var u=S(e,true);var a=y(S(u),1);n.title=o(e,r("titleFormat"));n.start=n.visStart=u;n.end=n.visEnd=a;i(1)}var n=this;n.render=u;ct.call(n,e,t,"agendaDay");var r=n.opt;var i=n.renderAgenda;var s=n.skipHiddenDays;var o=t.formatDate}function ct(n,r,i){function Et(e){st=e;St();if(!T){Tt()}else{Nt()}}function St(){pt=o("theme")?"ui":"fc";dt=o("isRTL");vt=L(o("minTime"));mt=L(o("maxTime"));gt=o("columnFormat");yt=o("weekNumbers");bt=o("weekNumberTitle");if(o("weekNumberCalculation")!="iso"){wt="w"}else{wt="W"}nt=o("snapMinutes")||o("slotMinutes")}function Tt(){var t=pt+"-widget-header";var r=pt+"-widget-content";var i;var s;var u;var a;var f;var l=o("slotMinutes")%15==0;Nt();P=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n);if(o("allDaySlot")){H=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(P);i="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'>"+"<tr>"+"<th class='"+t+" fc-agenda-axis'>"+o("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+t+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>";F=e(i).appendTo(P);I=F.find("tr");Ft(I.find("td"));P.append("<div class='fc-agenda-divider "+t+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")}else{H=e([])}q=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(P);R=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(q);z=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(R);i="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'>"+"<tbody>";s=x();a=w(S(s),mt);w(s,vt);ot=0;for(u=0;s<a;u++){f=s.getMinutes();i+="<tr class='fc-slot"+u+" "+(!f?"":"fc-minor")+"'>"+"<th class='fc-agenda-axis "+t+"'>"+(!l||!f?b(s,o("axisFormat")):"&nbsp;")+"</th>"+"<td class='"+r+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>";w(s,o("slotMinutes"));ot++}i+="</tbody>"+"</table>";W=e(i).appendTo(R);It(W.find("td"))}function Nt(){var t=Ct();if(T){T.remove()}T=e(t).appendTo(n);N=T.find("thead");C=N.find("th").slice(1,-1);k=T.find("tbody");A=k.find("td").slice(0,-1);O=A.find("> div");M=A.find(".fc-day-content > div");_=A.eq(0);D=O.eq(0);Z(N.add(N.find("tr")));Z(k.add(k.find("tr")))}function Ct(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+kt()+_t()+"</table>";return e}function kt(){var e=pt+"-widget-header";var t;var n="";var r;var i;n+="<thead>"+"<tr>";if(yt){t=v(0,0);r=b(t,wt);if(dt){r+=bt}else{r=bt+r}n+="<th class='fc-agenda-axis fc-week-number "+e+"'>"+G(r)+"</th>"}else{n+="<th class='fc-agenda-axis "+e+"'>&nbsp;</th>"}for(i=0;i<st;i++){t=v(0,i);n+="<th class='fc-"+h[t.getDay()]+" fc-col"+i+" "+e+"'>"+G(b(t,gt))+"</th>"}n+="<th class='fc-agenda-gutter "+e+"'>&nbsp;</th>"+"</tr>"+"</thead>";return n}function _t(){var e=pt+"-widget-header";var t=pt+"-widget-content";var n;var r=E(new Date);var i;var s;var o;var u;var a="";a+="<tbody>"+"<tr>"+"<th class='fc-agenda-axis "+e+"'>&nbsp;</th>";s="";for(i=0;i<st;i++){n=v(0,i);u=["fc-col"+i,"fc-"+h[n.getDay()],t];if(+n==+r){u.push(pt+"-state-highlight","fc-today")}else if(n<r){u.push("fc-past")}else{u.push("fc-future")}o="<td class='"+u.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>";s+=o}a+=s;a+="<td class='fc-agenda-gutter "+t+"'>&nbsp;</td>"+"</tr>"+"</tbody>";return a}function Pt(e){if(e===t){e=J}J=e;ct={};var n=k.position().top;var r=q.position().top;var i=Math.min(e-n,W.height()+r+1);D.height(i-U(_));P.css("top",n);q.height(i-r-1);tt=W.find("tr:first").height()+1;rt=o("slotMinutes")/nt;it=tt/rt}function Ht(t){V=t;ft.clear();lt.clear();var n=N.find("th:first");if(F){n=n.add(F.find("th:first"))}n=n.add(W.find("th:first"));K=0;B(n.width("").each(function(t,n){K=Math.max(K,e(n).outerWidth())}),K);var r=T.find(".fc-agenda-gutter");if(F){r=r.add(F.find("th.fc-agenda-gutter"))}var i=q[0].clientWidth;et=q.width()-i;if(et){B(r,et);r.show().prev().removeClass("fc-last")}else{r.hide().prev().addClass("fc-last")}Q=Math.floor((i-K)/st);B(C.slice(0,-1),Q)}function Bt(){function r(){q.scrollTop(n)}var e=x();var t=S(e);t.setHours(o("firstHour"));var n=Qt(e,t)+1;r();setTimeout(r,0)}function jt(){Bt()}function Ft(e){e.click(qt).mousedown(p)}function It(e){e.click(qt).mousedown(rn)}function qt(e){if(!o("selectable")){var t=Math.min(st-1,Math.floor((e.pageX-T.offset().left-K)/Q));var n=v(0,t);var r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var i=parseInt(r[1])*o("slotMinutes");var s=Math.floor(i/60);n.setHours(s);n.setMinutes(i%60+vt);u("dayClick",A[t],n,false,e)}else{u("dayClick",A[t],n,true,e)}}}function Rt(e,t,n){if(n){ut.build()}var r=g(e,t);for(var i=0;i<r.length;i++){var s=r[i];Ft(Ut(s.row,s.leftCol,s.row,s.rightCol))}}function Ut(e,t,n,r){var i=ut.rect(e,t,n,r,P);return a(i,P)}function zt(e,t){for(var n=0;n<st;n++){var r=v(0,n);var i=y(S(r),1);var s=new Date(Math.max(r,e));var o=new Date(Math.min(i,t));if(s<o){var u=ut.rect(0,n,0,n,R);var f=Qt(r,s);var l=Qt(r,o);u.top=f;u.height=l-f;It(a(u,R))}}}function Wt(e){return ft.left(e)}function Xt(e){return lt.left(e)}function Vt(e){return ft.right(e)}function $t(e){return lt.right(e)}function Jt(e){return o("allDaySlot")&&!e.row}function Kt(e){var t=v(0,e.col);var n=e.row;if(o("allDaySlot")){n--}if(n>=0){w(t,vt+n*nt)}return t}function Qt(e,n){e=S(e,true);if(n<w(S(e),vt)){return 0}if(n>=w(S(e),mt)){return W.height()}var r=o("slotMinutes"),i=n.getHours()*60+n.getMinutes()-vt,s=Math.floor(i/r),u=ct[s];if(u===t){u=ct[s]=W.find("tr").eq(s).find("td div")[0].offsetTop}return Math.max(0,Math.round(u-1+tt*(i%r/r)))}function Gt(e){return I}function Yt(e){var t=S(e.start);if(e.allDay){return t}return w(t,o("defaultEventMinutes"))}function Zt(e,t){if(t){return S(e)}return w(S(e),o("slotMinutes"))}function en(e,t,n){if(n){if(o("allDaySlot")){Rt(e,y(S(t),1),true)}}else{tn(e,t)}}function tn(t,n){var r=o("selectHelper");ut.build();if(r){var i=m(t).col;if(i>=0&&i<st){var s=ut.rect(0,i,0,i,R);var u=Qt(t,t);var a=Qt(t,n);if(a>u){s.top=u;s.height=a-u;s.left+=2;s.width-=5;if(e.isFunction(r)){var f=r(t,n);if(f){s.position="absolute";X=e(f).css(s).appendTo(R)}}else{s.isStart=true;s.isEnd=true;X=e(d({title:"",start:t,end:n,className:["fc-select-helper"],editable:false},s));X.css("opacity",o("dragOpacity"))}if(X){It(X);R.append(X);B(X,s.width,true);j(X,s.height,true)}}}}else{zt(t,n)}}function nn(){f();if(X){X.remove();X=null}}function rn(t){if(t.which==1&&o("selectable")){c(t);var n;at.start(function(e,t){nn();if(e&&e.col==t.col&&!Jt(e)){var r=Kt(t);var i=Kt(e);n=[r,w(S(r),nt),i,w(S(i),nt)].sort($);tn(n[0],n[3])}else{n=null}},t);e(document).one("mouseup",function(e){at.stop();if(n){if(+n[0]==+n[1]){sn(n[0],false,e)}l(n[0],n[3],false,e)}})}}function sn(e,t,n){u("dayClick",A[m(e).col],e,t,n)}function on(e,t,n){at.start(function(e){f();if(e){if(Jt(e)){Ut(e.row,e.col,e.row,e.col)}else{var t=Kt(e);var n=w(S(t),o("defaultEventMinutes"));zt(t,n)}}},t)}function un(e,t,n){var r=at.stop();f();if(r){u("drop",e,Kt(r),Jt(r),t,n)}}var s=this;s.renderAgenda=Et;s.setWidth=Ht;s.setHeight=Pt;s.afterRender=jt;s.defaultEventEnd=Yt;s.timePosition=Qt;s.getIsCellAllDay=Jt;s.allDayRow=Gt;s.getCoordinateGrid=function(){return ut};s.getHoverListener=function(){return at};s.colLeft=Wt;s.colRight=Vt;s.colContentLeft=Xt;s.colContentRight=$t;s.getDaySegmentContainer=function(){return H};s.getSlotSegmentContainer=function(){return z};s.getMinMinute=function(){return vt};s.getMaxMinute=function(){return mt};s.getSlotContainer=function(){return R};s.getRowCnt=function(){return 1};s.getColCnt=function(){return st};s.getColWidth=function(){return Q};s.getSnapHeight=function(){return it};s.getSnapMinutes=function(){return nt};s.defaultSelectionEnd=Zt;s.renderDayOverlay=Rt;s.renderSelection=en;s.clearSelection=nn;s.reportDayClick=sn;s.dragStart=on;s.dragStop=un;xt.call(s,n,r,i);At.call(s);Lt.call(s);ht.call(s);var o=s.opt;var u=s.trigger;var a=s.renderOverlay;var f=s.clearOverlays;var l=s.reportSelection;var c=s.unselect;var p=s.daySelectionMousedown;var d=s.slotSegHtml;var v=s.cellToDate;var m=s.dateToCell;var g=s.rangeToSegments;var b=r.formatDate;var T;var N;var C;var k;var A;var O;var M;var _;var D;var P;var H;var F;var I;var q;var R;var z;var W;var X;var V;var J;var K;var Q;var et;var tt;var nt;var rt;var it;var st;var ot;var ut;var at;var ft;var lt;var ct={};var pt;var dt;var vt,mt;var gt;var yt;var bt;var wt;Y(n.addClass("fc-agenda"));ut=new Ot(function(t,n){function l(e){return Math.max(a,Math.min(f,e))}var r,i,s;C.each(function(t,o){r=e(o);i=r.offset().left;if(t){s[1]=i}s=[i];n[t]=s});s[1]=i+r.outerWidth();if(o("allDaySlot")){r=I;i=r.offset().top;t[0]=[i,i+r.outerHeight()]}var u=R.offset().top;var a=q.offset().top;var f=a+q.outerHeight();for(var c=0;c<ot*rt;c++){t.push([l(u+it*c),l(u+it*(c+1))])}});at=new Mt(ut);ft=new Dt(function(e){return O.eq(e)});lt=new Dt(function(e){return M.eq(e)})}function ht(){function V(e,t){var n,i=e.length,s=[],o=[];for(n=0;n<i;n++){if(e[n].allDay){s.push(e[n])}else{o.push(e[n])}}if(r("allDaySlot")){R(s,t);f()}Y(J(o),t)}function $(){l().empty();c().empty()}function J(t){var n=N(),r=d(),i=p(),s,o=e.map(t,Q),u,a,f,l,c=[];for(u=0;u<n;u++){s=x(0,u);w(s,r);l=K(t,o,s,w(S(s),i-r));l=pt(l);for(a=0;a<l.length;a++){f=l[a];f.col=u;c.push(f)}}return c}function K(e,t,n,r){var i=[],s,o=e.length,u,a,f,l,c,h,p;for(s=0;s<o;s++){u=e[s];a=u.start;f=t[s];if(f>n&&a<r){if(a<n){l=S(n);h=false}else{l=a;h=true}if(f>r){c=S(r);p=false}else{c=f;p=true}i.push({event:u,start:l,end:c,isStart:h,isEnd:p})}}return i.sort(St)}function Q(e){if(e.end){return S(e.end)}else{return w(S(e.start),r("defaultEventMinutes"))}}function Y(n,s){var o,u=n.length,a,f,l,h,p,d,v,g,y,w,S="",x,T,N,C,k,L=c(),A=r("isRTL");for(o=0;o<u;o++){a=n[o];f=a.event;l=m(a.start,a.start);h=m(a.start,a.end);p=b(a.col);d=E(a.col);v=d-p;d-=v*.025;v=d-p;g=v*(a.forwardCoord-a.backwardCoord);if(r("slotEventOverlap")){g=Math.max((g-20/2)*2,g)}if(A){w=d-a.backwardCoord*v;y=w-g}else{y=p+a.backwardCoord*v;w=y+g}y=Math.max(y,p);w=Math.min(w,d);g=w-y;a.top=l;a.left=y;a.outerWidth=g;a.outerHeight=h-l;S+=Z(f,a)}L[0].innerHTML=S;x=L.children();for(o=0;o<u;o++){a=n[o];f=a.event;T=e(x[o]);N=i("eventRender",f,f,T);if(N===false){T.remove()}else{if(N&&N!==true){T.remove();T=e(N).css({position:"absolute",top:a.top,left:a.left}).appendTo(L)}a.element=T;if(f._id===s){et(f,T,a)}else{T[0]._fci=o}O(f,T)}}H(L,n,et);for(o=0;o<u;o++){a=n[o];if(T=a.element){a.vsides=U(T,true);a.hsides=F(T,true);C=T.find(".fc-event-title");if(C.length){a.contentTop=C[0].offsetTop}}}for(o=0;o<u;o++){a=n[o];if(T=a.element){T[0].style.width=Math.max(0,a.outerWidth-a.hsides)+"px";k=Math.max(0,a.outerHeight-a.vsides);T[0].style.height=k+"px";f=a.event;if(a.contentTop!==t&&k-a.contentTop<10){T.find("div.fc-event-time").text(W(f.start,r("timeFormat"))+" - "+f.title);T.find("div.fc-event-title").remove()}i("eventAfterRender",f,f,T)}}}function Z(e,t){var n="<";var i=e.url;var u=tt(e,r);var a=["fc-event","fc-event-vert"];if(s(e)){a.push("fc-event-draggable")}if(t.isStart){a.push("fc-event-start")}if(t.isEnd){a.push("fc-event-end")}a=a.concat(e.className);if(e.source){a=a.concat(e.source.className||[])}if(i){n+="a href='"+G(e.url)+"'"}else{n+="div"}n+=" class='"+a.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+t.top+"px;"+"left:"+t.left+"px;"+u+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+G(X(e.start,e.end,r("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+G(e.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>";if(t.isEnd&&o(e)){n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}n+="</"+(i?"a":"div")+">";return n}function et(e,t,n){var r=t.find("div.fc-event-time");if(s(e)){rt(e,t,r)}if(n.isEnd&&o(e)){it(e,t,r)}a(e,t)}function nt(e,t,n){function b(){if(!a){t.width(o).height("").draggable("option","grid",null);a=true}}var s=n.isStart;var o;var u;var a=true;var f;var l=h();var c=C();var p=k();var m=L();var g=d();t.draggable({opacity:r("dragOpacity","month"),revertDuration:r("dragRevertDuration"),start:function(n,h){i("eventDragStart",t,e,n,h);_(e,t);o=t.width();l.start(function(n,i){q();if(n){u=false;var o=x(0,i.col);var l=x(0,n.col);f=T(l,o);if(!n.row){I(y(S(e.start),f),y(D(e),f));b()}else{if(s){if(a){t.width(c-10);j(t,p*Math.round((e.end?(e.end-e.start)/v:r("defaultEventMinutes"))/m));t.draggable("option","grid",[c,1]);a=false}}else{u=true}}u=u||a&&!f}else{b();u=true}t.draggable("option","revert",u)},n,"drag")},stop:function(n,r){l.stop();q();i("eventDragStop",t,e,n,r);if(u){b();t.css("filter","");M(e,t)}else{var s=0;if(!a){s=Math.round((t.offset().top-A().offset().top)/p)*m+g-(e.start.getHours()*60+e.start.getMinutes())}P(this,e,f,s,a,n,r)}}})}function rt(e,t,s){function B(){q();if(p){if(v){s.hide();t.draggable("option","grid",null);I(y(S(e.start),A),y(D(e),A))}else{j(O);s.css("display","");t.draggable("option","grid",[a,f])}}}function j(t){var n=w(S(e.start),t);var i;if(e.end){i=w(S(e.end),t)}s.text(X(n,i,r("timeFormat")))}var o=n.getCoordinateGrid();var u=N();var a=C();var f=k();var l=L();var c;var h;var p,d;var v,m;var b,E;var A;var O,H;t.draggable({scroll:false,grid:[a,f],axis:u==1?"y":false,opacity:r("dragOpacity"),revertDuration:r("dragRevertDuration"),start:function(n,r){i("eventDragStart",t,e,n,r);_(e,t);o.build();c=t.position();h=o.cell(n.pageX,n.pageY);p=d=true;v=m=g(h);b=E=0;A=0;O=H=0},drag:function(e,n){var r=o.cell(e.pageX,e.pageY);p=!!r;if(p){v=g(r);b=Math.round((n.position.left-c.left)/a);if(b!=E){var i=x(0,h.col);var s=h.col+b;s=Math.max(0,s);s=Math.min(u-1,s);var y=x(0,s);A=T(y,i)}if(!v){O=Math.round((n.position.top-c.top)/f)*l}}if(p!=d||v!=m||b!=E||O!=H){B();d=p;m=v;E=b;H=O}t.draggable("option","revert",!p)},stop:function(n,r){q();i("eventDragStop",t,e,n,r);if(p&&(v||A||O)){P(this,e,A,v?0:O,v,n,r)}else{p=true;v=false;b=0;A=0;O=0;B();t.css("filter","");t.css(c);M(e,t)}}})}function it(e,t,n){var s,o;var a=k();var f=L();t.resizable({handles:{s:".ui-resizable-handle"},grid:a,start:function(n,r){s=o=0;_(e,t);i("eventResizeStart",this,e,n,r)},resize:function(i,l){s=Math.round((Math.max(a,t.height())-l.originalSize.height)/a);if(s!=o){n.text(X(e.start,!s&&!e.end?null:w(u(e),f*s),r("timeFormat")));o=s}},stop:function(n,r){i("eventResizeStop",this,e,n,r);if(s){B(this,e,0,f*s,n,r)}else{M(e,t)}}})}var n=this;n.renderEvents=V;n.clearEvents=$;n.slotSegHtml=Z;Tt.call(n);var r=n.opt;var i=n.trigger;var s=n.isEventDraggable;var o=n.isEventResizable;var u=n.eventEnd;var a=n.eventElementHandlers;var f=n.setHeight;var l=n.getDaySegmentContainer;var c=n.getSlotSegmentContainer;var h=n.getHoverListener;var p=n.getMaxMinute;var d=n.getMinMinute;var m=n.timePosition;var g=n.getIsCellAllDay;var b=n.colContentLeft;var E=n.colContentRight;var x=n.cellToDate;var N=n.getColCnt;var C=n.getColWidth;var k=n.getSnapHeight;var L=n.getSnapMinutes;var A=n.getSlotContainer;var O=n.reportEventElement;var M=n.showEvents;var _=n.hideEvents;var P=n.eventDrop;var B=n.eventResize;var I=n.renderDayOverlay;var q=n.clearOverlays;var R=n.renderDayEvents;var z=n.calendar;var W=z.formatDate;var X=z.formatDates;n.draggableDayEvent=nt}function pt(e){var t=dt(e);var n=t[0];var r;vt(t);if(n){for(r=0;r<n.length;r++){mt(n[r])}for(r=0;r<n.length;r++){gt(n[r],0,0)}}return yt(t)}function dt(e){var t=[];var n,r;var i;for(n=0;n<e.length;n++){r=e[n];for(i=0;i<t.length;i++){if(!bt(r,t[i]).length){break}}(t[i]||(t[i]=[])).push(r)}return t}function vt(e){var t,n;var r,i;var s;for(t=0;t<e.length;t++){n=e[t];for(r=0;r<n.length;r++){i=n[r];i.forwardSegs=[];for(s=t+1;s<e.length;s++){bt(i,e[s],i.forwardSegs)}}}}function mt(e){var n=e.forwardSegs;var r=0;var i,s;if(e.forwardPressure===t){for(i=0;i<n.length;i++){s=n[i];mt(s);r=Math.max(r,1+s.forwardPressure)}e.forwardPressure=r}}function gt(e,n,r){var i=e.forwardSegs;var s;if(e.forwardCoord===t){if(!i.length){e.forwardCoord=1}else{i.sort(Et);gt(i[0],n+1,r);e.forwardCoord=i[0].backwardCoord}e.backwardCoord=e.forwardCoord-(e.forwardCoord-r)/(n+1);for(s=0;s<i.length;s++){gt(i[s],0,e.forwardCoord)}}}function yt(e){var t=[];var n,r;var i;for(n=0;n<e.length;n++){r=e[n];for(i=0;i<r.length;i++){t.push(r[i])}}return t}function bt(e,t,n){n=n||[];for(var r=0;r<t.length;r++){if(wt(e,t[r])){n.push(t[r])}}return n}function wt(e,t){return e.end>t.start&&e.start<t.end}function Et(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||St(e,t)}function St(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function xt(n,r,i){function p(t,n){var r=h[t];if(e.isPlainObject(r)){return Q(r,n||i)}return r}function d(e,t){return r.trigger.apply(r,[e,t||s].concat(Array.prototype.slice.call(arguments,2),[s]))}function v(e){var t=e.source||{};return rt(e.startEditable,t.startEditable,p("eventStartEditable"),e.editable,t.editable,p("editable"))&&!p("disableDragging")}function m(e){var t=e.source||{};return rt(e.durationEditable,t.durationEditable,p("eventDurationEditable"),e.editable,t.editable,p("editable"))&&!p("disableResizing")}function g(e){f={};var t,n=e.length,r;for(t=0;t<n;t++){r=e[t];if(f[r._id]){f[r._id].push(r)}else{f[r._id]=[r]}}}function b(){f={};l={};c=[]}function E(e){return e.end?S(e.end):o(e)}function x(e,t){c.push({event:e,element:t});if(l[e._id]){l[e._id].push(t)}else{l[e._id]=[t]}}function N(){e.each(c,function(e,t){s.trigger("eventDestroy",t.event,t.event,t.element)})}function C(e,t){t.click(function(n){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing")){return d("eventClick",this,e,n)}}).hover(function(t){d("eventMouseover",this,e,t)},function(t){d("eventMouseout",this,e,t)})}function k(e,t){A(e,t,"show")}function L(e,t){A(e,t,"hide")}function A(e,t,n){var r=l[e._id],i,s=r.length;for(i=0;i<s;i++){if(!t||r[i][0]!=t[0]){r[i][n]()}}}function O(e,t,n,r,i,s,o){var u=t.allDay;var l=t._id;_(f[l],n,r,i);d("eventDrop",e,t,n,r,i,function(){_(f[l],-n,-r,u);a(l)},s,o);a(l)}function M(e,t,n,r,i,s){var o=t._id;D(f[o],n,r);d("eventResize",e,t,n,r,function(){D(f[o],-n,-r);a(o)},i,s);a(o)}function _(e,n,r,i){r=r||0;for(var s,o=e.length,a=0;a<o;a++){s=e[a];if(i!==t){s.allDay=i}w(y(s.start,n,true),r);if(s.end){s.end=w(y(s.end,n,true),r)}u(s,h)}}function D(e,t,n){n=n||0;for(var r,i=e.length,s=0;s<i;s++){r=e[s];r.end=w(y(E(r),t,true),n);u(r,h)}}function q(e){if(typeof e=="object"){e=e.getDay()}return H[e]}function R(){return B}function U(e,t,n){t=t||1;while(H[(e.getDay()+(n?t:0)+7)%7]){y(e,t)}}function z(){var e=W.apply(null,arguments);var t=X(e);var n=V(t);return n}function W(e,t){var n=s.getColCnt();var r=I?-1:1;var i=I?n-1:0;if(typeof e=="object"){t=e.col;e=e.row}var o=e*n+(t*r+i);return o}function X(e){var t=s.visStart.getDay();e+=j[t];return Math.floor(e/B)*7+F[(e%B+B)%B]-t}function V(e){var t=S(s.visStart);y(t,e);return t}function $(e){var t=J(e);var n=K(t);var r=G(n);return r}function J(e){return T(e,s.visStart)}function K(e){var t=s.visStart.getDay();e+=t;return Math.floor(e/7)*B+j[(e%7+7)%7]-j[t]}function G(e){var t=s.getColCnt();var n=I?-1:1;var r=I?t-1:0;var i=Math.floor(e/t);var o=(e%t+t)%t*n+r;return{row:i,col:o}}function Y(e,t){var n=s.getRowCnt();var r=s.getColCnt();var i=[];var o=J(e);var u=J(t);var a=K(o);var f=K(u)-1;for(var l=0;l<n;l++){var c=l*r;var h=c+r-1;var p=Math.max(a,c);var d=Math.min(f,h);if(p<=d){var v=G(p);var m=G(d);var g=[v.col,m.col].sort();var y=X(p)==o;var b=X(d)+1==u;i.push({row:l,leftCol:g[0],rightCol:g[1],isStart:y,isEnd:b})}}return i}var s=this;s.element=n;s.calendar=r;s.name=i;s.opt=p;s.trigger=d;s.isEventDraggable=v;s.isEventResizable=m;s.setEventData=g;s.clearEventData=b;s.eventEnd=E;s.reportEventElement=x;s.triggerEventDestroy=N;s.eventElementHandlers=C;s.showEvents=k;s.hideEvents=L;s.eventDrop=O;s.eventResize=M;var o=s.defaultEventEnd;var u=r.normalizeEvent;var a=r.reportEventChange;var f={};var l={};var c=[];var h=r.options;s.isHiddenDay=q;s.skipHiddenDays=U;s.getCellsPerWeek=R;s.dateToCell=$;s.dateToDayOffset=J;s.dayOffsetToCellOffset=K;s.cellOffsetToCell=G;s.cellToDate=z;s.cellToCellOffset=W;s.cellOffsetToDayOffset=X;s.dayOffsetToDate=V;s.rangeToSegments=Y;var P=p("hiddenDays")||[];var H=[];var B;var j=[];var F=[];var I=p("isRTL");(function(){if(p("weekends")===false){P.push(0,6)}for(var t=0,n=0;t<7;t++){j[t]=n;H[t]=e.inArray(t,P)!=-1;if(!H[t]){F[n]=t;n++}}B=n;if(!B){throw"invalid hiddenDays"}})()}function Tt(){function q(e,t){var n=U(e,false,true);Ct(n,function(e,t){u(e.event,t)});st(n,t);Ct(n,function(e,t){r("eventAfterRender",e.event,e.event,t)})}function R(e,t,n){var r=U([e],true,false);var i=[];Ct(r,function(e,r){if(e.row===t){r.css("top",n)}i.push(r[0])});return i}function U(t,n,r){var i=N();var s=n?e("<div/>"):i;var o=z(t);var u;var a;X(o);u=V(o);s[0].innerHTML=u;a=s.children();if(n){i.append(a)}K(o,a);Ct(o,function(e,t){e.hsides=F(t,true)});Ct(o,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))});Ct(o,function(e,t){e.outerHeight=t.outerHeight(true)});Q(o,r);return o}function z(e){var t=[];for(var n=0;n<e.length;n++){var r=W(e[n]);t.push.apply(t,r)}return t}function W(e){var t=e.start;var n=D(e);var r=M(t,n);for(var i=0;i<r.length;i++){r[i].event=e}return r}function X(e){var t=n("isRTL");for(var r=0;r<e.length;r++){var i=e[r];var s=(t?i.isEnd:i.isStart)?w:g;var o=(t?i.isStart:i.isEnd)?E:b;var u=s(i.leftCol);var a=o(i.rightCol);i.left=u;i.outerWidth=a-u}}function V(e){var t="";for(var n=0;n<e.length;n++){t+=$(e[n])}return t}function $(e){var t="";var r=n("isRTL");var o=e.event;var u=o.url;var a=["fc-event","fc-event-hori"];if(i(o)){a.push("fc-event-draggable")}if(e.isStart){a.push("fc-event-start")}if(e.isEnd){a.push("fc-event-end")}a=a.concat(o.className);if(o.source){a=a.concat(o.source.className||[])}var f=tt(o,n);if(u){t+="<a href='"+G(u)+"'"}else{t+="<div"}t+=" class='"+a.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+e.left+"px;"+f+"'"+">"+"<div class='fc-event-inner'>";if(!o.allDay&&e.isStart){t+="<span class='fc-event-time'>"+G(C(o.start,o.end,n("timeFormat")))+"</span>"}t+="<span class='fc-event-title'>"+G(o.title||"")+"</span>"+"</div>";if(e.isEnd&&s(o)){t+="<div class='ui-resizable-handle ui-resizable-"+(r?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"}t+="</"+(u?"a":"div")+">";return t}function K(t,n){for(var i=0;i<t.length;i++){var s=t[i];var o=s.event;var u=n.eq(i);var a=r("eventRender",o,o,u);if(a===false){u.remove()}else{if(a&&a!==true){a=e(a).css({position:"absolute",left:s.left});u.replaceWith(a);u=a}s.element=u}}}function Q(e,t){var n=Z(e);var r=it();var i=[];if(t){for(var s=0;s<r.length;s++){r[s].height(n[s])}}for(var s=0;s<r.length;s++){i.push(r[s].position().top)}Ct(e,function(e,t){t.css("top",i[e.row]+e.top)})}function Z(e){var t=p();var n=d();var r=[];var i=et(e);for(var s=0;s<t;s++){var o=i[s];var u=[];for(var a=0;a<n;a++){u.push(0)}for(var f=0;f<o.length;f++){var l=o[f];l.top=J(u.slice(l.leftCol,l.rightCol+1));for(var a=l.leftCol;a<=l.rightCol;a++){u[a]=l.top+l.outerHeight}}r.push(J(u))}return r}function et(e){var t=p();var n=[];var r;var i;var s;for(r=0;r<e.length;r++){i=e[r];s=i.row;if(i.element){if(n[s]){n[s].push(i)}else{n[s]=[i]}}}for(s=0;s<t;s++){n[s]=nt(n[s]||[])}return n}function nt(e){var t=[];var n=rt(e);for(var r=0;r<n.length;r++){t.push.apply(t,n[r])}return t}function rt(e){e.sort(kt);var t=[];for(var n=0;n<e.length;n++){var r=e[n];for(var i=0;i<t.length;i++){if(!Nt(r,t[i])){break}}if(t[i]){t[i].push(r)}else{t[i]=[r]}}return t}function it(){var e;var t=p();var n=[];for(e=0;e<t;e++){n[e]=m(e).find("div.fc-day-content > div")}return n}function st(e,t){var n=N();Ct(e,function(e,n,r){var i=e.event;if(i._id===t){ot(i,n,e)}else{n[0]._fci=r}});H(n,e,ot)}function ot(e,n,r){if(i(e)){t.draggableDayEvent(e,n,r)}if(r.isEnd&&s(e)){t.resizableDayEvent(e,n,r)}a(e,n)}function ut(e,t){var i=O();var s;t.draggable({delay:50,opacity:n("dragOpacity"),revertDuration:n("dragRevertDuration"),start:function(n,o){r("eventDragStart",t,e,n,o);l(e,t);i.start(function(n,r,i,o){t.draggable("option","revert",!n||!i&&!o);L();if(n){var u=_(r);var a=_(n);s=T(a,u);k(y(S(e.start),s),y(D(e),s))}else{s=0}},n,"drag")},stop:function(n,o){i.stop();L();r("eventDragStop",t,e,n,o);if(s){c(this,e,s,0,e.allDay,n,o)}else{t.css("filter","");f(e,t)}}})}function at(t,i,s){var u=n("isRTL");var a=u?"w":"e";var c=i.find(".ui-resizable-"+a);var v=false;Y(i);i.mousedown(function(e){e.preventDefault()}).click(function(e){if(v){e.preventDefault();e.stopImmediatePropagation()}});c.mousedown(function(n){function x(n){r("eventResizeStop",this,t,n);e("body").css("cursor","");u.stop();L();if(b){h(this,t,b,0,n)}setTimeout(function(){v=false},0)}if(n.which!=1){return}v=true;var u=O();var c=p();var m=d();var g=i.css("top");var b;var w;var E=e.extend({},t);var S=I(j(t.start));A();e("body").css("cursor",a+"-resize").one("mouseup",x);r("eventResizeStart",this,t,n);u.start(function(n,r){if(n){var i=P(r);var u=P(n);u=Math.max(u,S);b=B(u)-B(i);if(b){E.end=y(o(t),b,true);var c=w;w=R(E,s.row,g);w=e(w);w.find("*").css("cursor",a+"-resize");if(c){c.remove()}l(t)}else{if(w){f(t);w.remove();w=null}}L();k(t.start,y(D(t),b))}},n)})}var t=this;t.renderDayEvents=q;t.draggableDayEvent=ut;t.resizableDayEvent=at;var n=t.opt;var r=t.trigger;var i=t.isEventDraggable;var s=t.isEventResizable;var o=t.eventEnd;var u=t.reportEventElement;var a=t.eventElementHandlers;var f=t.showEvents;var l=t.hideEvents;var c=t.eventDrop;var h=t.eventResize;var p=t.getRowCnt;var d=t.getColCnt;var v=t.getColWidth;var m=t.allDayRow;var g=t.colLeft;var b=t.colRight;var w=t.colContentLeft;var E=t.colContentRight;var x=t.dateToCell;var N=t.getDaySegmentContainer;var C=t.calendar.formatDates;var k=t.renderDayOverlay;var L=t.clearOverlays;var A=t.clearSelection;var O=t.getHoverListener;var M=t.rangeToSegments;var _=t.cellToDate;var P=t.cellToCellOffset;var B=t.cellOffsetToDayOffset;var j=t.dateToDayOffset;var I=t.dayOffsetToCellOffset}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol){return true}}return false}function Ct(e,t){for(var n=0;n<e.length;n++){var r=e[n];var i=r.element;if(i){t(r,i,n)}}}function kt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function Lt(){function a(e,t,n){f();if(!t){t=i(e,n)}s(e,t,n);l(e,t,n)}function f(e){if(u){u=false;o();r("unselect",null,e)}}function l(e,t,n,i){u=true;r("select",null,e,t,n,i)}function c(r){var i=t.cellToDate;var u=t.getIsCellAllDay;var a=t.getHoverListener();var c=t.reportDayClick;if(r.which==1&&n("selectable")){f(r);var h=this;var p;a.start(function(e,t){o();if(e&&u(e)){p=[i(t),i(e)].sort($);s(p[0],p[1],true)}else{p=null}},r);e(document).one("mouseup",function(e){a.stop();if(p){if(+p[0]==+p[1]){c(p[0],true,e)}l(p[0],p[1],true,e)}})}}var t=this;t.select=a;t.unselect=f;t.reportSelection=l;t.daySelectionMousedown=c;var n=t.opt;var r=t.trigger;var i=t.defaultSelectionEnd;var s=t.renderSelection;var o=t.clearSelection;var u=false;if(n("selectable")&&n("unselectAuto")){e(document).mousedown(function(t){var r=n("unselectCancel");if(r){if(e(t.target).parents(r).length){return}}f(t)})}}function At(){function i(t,i){var s=r.shift();if(!s){s=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")}if(s[0].parentNode!=i[0]){s.appendTo(i)}n.push(s.css(t).show());return s}function s(){var e;while(e=n.shift()){r.push(e.hide().unbind())}}var t=this;t.renderOverlay=i;t.clearOverlays=s;var n=[];var r=[]}function Ot(e){var t=this;var n;var r;t.build=function(){n=[];r=[];e(n,r)};t.cell=function(e,t){var i=n.length;var s=r.length;var o,u=-1,a=-1;for(o=0;o<i;o++){if(t>=n[o][0]&&t<n[o][1]){u=o;break}}for(o=0;o<s;o++){if(e>=r[o][0]&&e<r[o][1]){a=o;break}}return u>=0&&a>=0?{row:u,col:a}:null};t.rect=function(e,t,i,s,o){var u=o.offset();return{top:n[e][0]-u.top,left:r[t][0]-u.left,width:r[s][1]-r[t][0],height:n[i][1]-n[e][0]}}}function Mt(t){function u(e){_t(e);var n=t.cell(e.pageX,e.pageY);if(!n!=!o||n&&(n.row!=o.row||n.col!=o.col)){if(n){if(!s){s=n}i(n,s,n.row-s.row,n.col-s.col)}else{i(n,s)}o=n}}var n=this;var r;var i;var s;var o;n.start=function(n,a,f){i=n;s=o=null;t.build();u(a);r=f||"mousemove";e(document).bind(r,u)};n.stop=function(){e(document).unbind(r,u);return o}}function _t(e){if(e.pageX===t){e.pageX=e.originalEvent.pageX;e.pageY=e.originalEvent.pageY}}function Dt(e){function o(t){return r[t]=r[t]||e(t)}var n=this,r={},i={},s={};n.left=function(e){return i[e]=i[e]===t?o(e).position().left:i[e]};n.right=function(e){return s[e]=s[e]===t?n.left(e)+o(e).width():s[e]};n.clear=function(){r={};i={};s={}}}var n={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*",handleWindowResize:true};var r={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}};var i=e.fullCalendar={version:"1.6.4"};var s=i.views={};e.fn.fullCalendar=function(i){if(typeof i=="string"){var s=Array.prototype.slice.call(arguments,1);var o;this.each(function(){var n=e.data(this,"fullCalendar");if(n&&e.isFunction(n[i])){var r=n[i].apply(n,s);if(o===t){o=r}if(i=="destroy"){e.removeData(this,"fullCalendar")}}});if(o!==t){return o}return this}i=i||{};var a=i.eventSources||[];delete i.eventSources;if(i.events){a.push(i.events);delete i.events}i=e.extend(true,{},n,i.isRTL||i.isRTL===t&&n.isRTL?r:{},i);this.each(function(t,n){var r=e(n);var s=new u(r,i,a);r.data("fullCalendar",s);s.render()});return this};i.sourceNormalizers=[];i.sourceFetchers=[];var f={dataType:"json",cache:false};var l=1;i.addDays=y;i.cloneDate=S;i.parseDate=C;i.parseISO8601=k;i.parseTime=L;i.formatDate=A;i.formatDates=O;var h=["sun","mon","tue","wed","thu","fri","sat"],p=864e5,d=36e5,v=6e4;var M={s:function(e){return e.getSeconds()},ss:function(e){return K(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return K(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return K(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return K(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return K(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return K(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return A(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();if(t>10&&t<20){return"th"}return["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return _(e)}};i.dateFormatters=M;i.applyAll=nt;s.month=it;s.basicWeek=st;s.basicDay=ot;o({weekMode:"fixed"});s.agendaWeek=ft;s.agendaDay=lt;o({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:true});})(jQuery);(function(){var e,t,n,r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t){if(s.call(t,n))e[n]=t[n]}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};r=function(){function e(){this.options_index=0;this.parsed=[]}e.prototype.add_node=function(e){if(e.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(e)}else{return this.add_option(e)}};e.prototype.add_group=function(e){var t,n,r,i,s,o;t=this.parsed.length;this.parsed.push({array_index:t,group:true,label:this.escapeExpression(e.label),children:0,disabled:e.disabled});s=e.childNodes;o=[];for(r=0,i=s.length;r<i;r++){n=s[r];o.push(this.add_option(n,t,e.disabled))}return o};e.prototype.add_option=function(e,t,n){if(e.nodeName.toUpperCase()==="OPTION"){if(e.text!==""){if(t!=null){this.parsed[t].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===true?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};e.prototype.escapeExpression=function(e){var t,n;if(e==null||e===false){return""}if(!/[\&\<\>\"\'\`]/.test(e)){return e}t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};n=/&(?!\w+;)|[\<\>\"\'\`]/g;return e.replace(n,function(e){return t[e]||"&"})};return e}();r.select_to_array=function(e){var t,n,i,s,o;n=new r;o=e.childNodes;for(i=0,s=o.length;i<s;i++){t=o[i];n.add_node(t)}return n.parsed};t=function(){function e(t,n){this.form_field=t;this.options=n!=null?n:{};if(!e.browser_is_supported()){return}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers()}e.prototype.set_default_values=function(){var e=this;this.click_test_action=function(t){return e.test_active_click(t)};this.activate_action=function(t){return e.activate_field(t)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.group_search=this.options.group_search!=null?this.options.group_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:true;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||false;this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:true;return this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:true};e.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text};e.prototype.mouse_enter=function(){return this.mouse_on_container=true};e.prototype.mouse_leave=function(){return this.mouse_on_container=false};e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return t.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}};e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout(function(){return t.blur_test()},100)}};e.prototype.results_option_build=function(e){var t,n,r,i,s;t="";s=this.results_data;for(r=0,i=s.length;r<i;r++){n=s[r];if(n.group){t+=this.result_add_group(n)}else{t+=this.result_add_option(n)}if(e!=null?e.first:void 0){if(n.selected&&this.is_multiple){this.choice_build(n)}else if(n.selected&&!this.is_multiple){this.single_set_selected_text(n.text)}}}return t};e.prototype.result_add_option=function(e){var t,n;if(!e.search_match){return""}if(!this.include_option_in_results(e)){return""}t=[];if(!e.disabled&&!(e.selected&&this.is_multiple)){t.push("active-result")}if(e.disabled&&!(e.selected&&this.is_multiple)){t.push("disabled-result")}if(e.selected){t.push("result-selected")}if(e.group_array_index!=null){t.push("group-option")}if(e.classes!==""){t.push(e.classes)}n=e.style.cssText!==""?' style="'+e.style+'"':"";return'<li class="'+t.join(" ")+'"'+n+' data-option-array-index="'+e.array_index+'">'+e.search_text+"</li>"};e.prototype.result_add_group=function(e){if(!(e.search_match||e.group_match)){return""}if(!(e.active_options>0)){return""}return'<li class="group-result">'+e.search_text+"</li>"};e.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;this.results_build();if(this.results_showing){return this.winnow_results()}};e.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};e.prototype.results_search=function(e){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};e.prototype.winnow_results=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h;this.no_results_clear();i=0;o=this.get_search_text();e=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");r=this.search_contains?"":"^";n=new RegExp(r+e,"i");f=new RegExp(e,"i");h=this.results_data;for(l=0,c=h.length;l<c;l++){t=h[l];t.search_match=false;s=null;if(this.include_option_in_results(t)){if(t.group){t.group_match=false;t.active_options=0}if(t.group_array_index!=null&&this.results_data[t.group_array_index]){s=this.results_data[t.group_array_index];if(s.active_options===0&&s.search_match){i+=1}s.active_options+=1}if(!(t.group&&!this.group_search)){t.search_text=t.group?t.label:t.html;t.search_match=this.search_string_match(t.search_text,n);if(t.search_match&&!t.group){i+=1}if(t.search_match){if(o.length){u=t.search_text.search(f);a=t.search_text.substr(0,u+o.length)+"</em>"+t.search_text.substr(u+o.length);t.search_text=a.substr(0,u)+"<em>"+a.substr(u)}if(s!=null){s.group_match=true}}else if(t.group_array_index!=null&&this.results_data[t.group_array_index].search_match){t.search_match=true}}}}this.result_clear_highlight();if(i<1&&o.length){this.update_results_content("");return this.no_results(o)}else{this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight()}};e.prototype.search_string_match=function(e,t){var n,r,i,s;if(t.test(e)){return true}else if(this.enable_split_word_search&&(e.indexOf(" ")>=0||e.indexOf("[")===0)){r=e.replace(/\[|\]/g,"").split(" ");if(r.length){for(i=0,s=r.length;i<s;i++){n=r[i];if(t.test(n)){return true}}}}};e.prototype.choices_count=function(){var e,t,n,r;if(this.selected_option_count!=null){return this.selected_option_count}this.selected_option_count=0;r=this.form_field.options;for(t=0,n=r.length;t<n;t++){e=r[t];if(e.selected){this.selected_option_count+=1}}return this.selected_option_count};e.prototype.choices_click=function(e){e.preventDefault();if(!(this.results_showing||this.is_disabled)){return this.results_show()}};e.prototype.keyup_checker=function(e){var t,n;t=(n=e.which)!=null?n:e.keyCode;this.search_field_scale();switch(t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:e.preventDefault();if(this.results_showing){return this.result_select(e)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};e.prototype.container_width=function(){if(this.options.width!=null){return this.options.width}else{return""+this.form_field.offsetWidth+"px"}};e.prototype.include_option_in_results=function(e){if(this.is_multiple&&!this.display_selected_options&&e.selected){return false}if(!this.display_disabled_options&&e.disabled){return false}if(e.empty){return false}return true};e.browser_is_supported=function(){if(window.navigator.appName==="Microsoft Internet Explorer"){return document.documentMode>=8}if(/iP(od|hone)/i.test(window.navigator.userAgent)){return false}if(/Android/i.test(window.navigator.userAgent)){if(/Mobile/i.test(window.navigator.userAgent)){return false}}return true};e.default_multiple_text="Select Some Options";e.default_single_text="Select an Option";e.default_no_result_text="No results match";return e}();e=jQuery;e.fn.extend({chosen:function(r){if(!t.browser_is_supported()){return this}return this.each(function(t){var i,s;i=e(this);s=i.data("chosen");if(r==="destroy"&&s){s.destroy()}else if(!s){i.data("chosen",new n(this,r))}})}});n=function(t){function n(){i=n.__super__.constructor.apply(this,arguments);return i}o(n,t);n.prototype.setup=function(){this.form_field_jq=e(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")};n.prototype.set_up_html=function(){var t,n;t=["chosen-container"];t.push("chosen-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){t.push(this.form_field.className)}if(this.is_rtl){t.push("chosen-rtl")}n={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title};if(this.form_field.id.length){n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"}this.container=e("<div />",n);if(this.is_multiple){this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>')}else{this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>')}this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chosen-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chosen-search").first();this.selected_item=this.container.find(".chosen-single").first()}this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("chosen:ready",{chosen:this})};n.prototype.register_observers=function(){var e=this;this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)});this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)});this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)});this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)});this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)});this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)});this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)});this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)});this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)});this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)});this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)});this.search_field.bind("blur.chosen",function(t){e.input_blur(t)});this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)});this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)});this.search_field.bind("focus.chosen",function(t){e.input_focus(t)});if(this.is_multiple){return this.search_choices.bind("click.chosen",function(t){e.choices_click(t)})}else{return this.container.bind("click.chosen",function(e){e.preventDefault()})}};n.prototype.destroy=function(){e(document).unbind("click.chosen",this.click_test_action);if(this.search_field[0].tabIndex){this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex}this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};n.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chosen-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus.chosen",this.activate_action)}return this.close_field()}else{this.container.removeClass("chosen-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus.chosen",this.activate_action)}}};n.prototype.container_mousedown=function(t){if(!this.is_disabled){if(t&&t.type==="mousedown"&&!this.results_showing){t.preventDefault()}if(!(t!=null&&e(t.target).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}e(document).bind("click.chosen",this.click_test_action);this.results_show()}else if(!this.is_multiple&&t&&(e(t.target)[0]===this.selected_item[0]||e(t.target).parents("a.chosen-single").length)){t.preventDefault();this.results_toggle()}return this.activate_field()}}};n.prototype.container_mouseup=function(e){if(e.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(e)}};n.prototype.search_results_mousewheel=function(e){var t,n,r;t=-((n=e.originalEvent)!=null?n.wheelDelta:void 0)||((r=e.originialEvent)!=null?r.detail:void 0);if(t!=null){e.preventDefault();if(e.type==="DOMMouseScroll"){t=t*40}return this.search_results.scrollTop(t+this.search_results.scrollTop())}};n.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active")){return this.close_field()}};n.prototype.close_field=function(){e(document).unbind("click.chosen",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};n.prototype.activate_field=function(){this.container.addClass("chosen-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};n.prototype.test_active_click=function(t){if(this.container.is(e(t.target).closest(".chosen-container"))){return this.active_field=true}else{return this.close_field()}};n.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=r.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove()}else if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chosen-container-single-nosearch")}else{this.search_field[0].readOnly=false;this.container.removeClass("chosen-container-single-nosearch")}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false};n.prototype.result_do_highlight=function(e){var t,n,r,i,s;if(e.length){this.result_clear_highlight();this.result_highlight=e;this.result_highlight.addClass("highlighted");r=parseInt(this.search_results.css("maxHeight"),10);s=this.search_results.scrollTop();i=r+s;n=this.result_highlight.position().top+this.search_results.scrollTop();t=n+this.result_highlight.outerHeight();if(t>=i){return this.search_results.scrollTop(t-r>0?t-r:0)}else if(n<s){return this.search_results.scrollTop(n)}}};n.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};n.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}this.container.addClass("chosen-with-drop");this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};n.prototype.update_results_content=function(e){return this.search_results.html(e)};n.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chosen-with-drop");this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})}return this.results_showing=false};n.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex){t=this.form_field.tabIndex;this.form_field.tabIndex=-1;return this.search_field[0].tabIndex=t}};n.prototype.set_label_behavior=function(){var t=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=e("label[for='"+this.form_field.id+"']")}if(this.form_field_label.length>0){return this.form_field_label.bind("click.chosen",function(e){if(t.is_multiple){return t.container_mousedown(e)}else{return t.activate_field()}})}};n.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};n.prototype.search_results_mouseup=function(t){var n;n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first();if(n.length){this.result_highlight=n;this.result_select(t);return this.search_field.focus()}};n.prototype.search_results_mouseover=function(t){var n;n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first();if(n){return this.result_do_highlight(n)}};n.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"||e(t.target).parents(".active-result").first())){return this.result_clear_highlight()}};n.prototype.choice_build=function(t){var n,r,i=this;n=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>");if(t.disabled){n.addClass("search-choice-disabled")}else{r=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index});r.bind("click.chosen",function(e){return i.choice_destroy_link_click(e)});n.append(r)}return this.search_container.before(n)};n.prototype.choice_destroy_link_click=function(t){t.preventDefault();t.stopPropagation();if(!this.is_disabled){return this.choice_destroy(e(t.target))}};n.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide()}e.parents("li").first().remove();return this.search_field_scale()}};n.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_option_count=null;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};n.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};n.prototype.result_select=function(e){var t,n,r;if(this.result_highlight){t=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("chosen:maxselected",{chosen:this});return false}if(this.is_multiple){t.removeClass("active-result")}else{if(this.result_single_selected){this.result_single_selected.removeClass("result-selected");r=this.result_single_selected[0].getAttribute("data-option-array-index");this.results_data[r].selected=false}this.result_single_selected=t}t.addClass("result-selected");n=this.results_data[t[0].getAttribute("data-option-array-index")];n.selected=true;this.form_field.options[n.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(n)}else{this.single_set_selected_text(n.text)}if(!((e.metaKey||e.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value})}this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};n.prototype.single_set_selected_text=function(e){if(e==null){e=this.default_text}if(e===this.default_text){this.selected_item.addClass("chosen-default")}else{this.single_deselect_control_build();this.selected_item.removeClass("chosen-default")}return this.selected_item.find("span").text(e)};n.prototype.result_deselect=function(e){var t;t=this.results_data[e];if(!this.form_field.options[t.options_index].disabled){t.selected=false;this.form_field.options[t.options_index].selected=false;this.selected_option_count=null;this.result_clear_highlight();if(this.results_showing){this.winnow_results()}this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value});this.search_field_scale();return true}else{return false}};n.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return}if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}return this.selected_item.addClass("chosen-single-with-deselect")};n.prototype.get_search_text=function(){if(this.search_field.val()===this.default_text){return""}else{return e("<div/>").text(e.trim(this.search_field.val())).html()}};n.prototype.winnow_results_set_highlight=function(){var e,t;t=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];e=t.length?t.first():this.search_results.find(".active-result").first();if(e!=null){return this.result_do_highlight(e)}};n.prototype.no_results=function(t){var n;n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');n.find("span").first().html(t);return this.search_results.append(n)};n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};n.prototype.keydown_arrow=function(){var e;if(this.results_showing&&this.result_highlight){e=this.result_highlight.nextAll("li.active-result").first();if(e){return this.result_do_highlight(e)}}else{return this.results_show()}};n.prototype.keyup_arrow=function(){var e;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else if(this.result_highlight){e=this.result_highlight.prevAll("li.active-result");if(e.length){return this.result_do_highlight(e.first())}else{if(this.choices_count()>0){this.results_hide()}return this.result_clear_highlight()}}};n.prototype.keydown_backstroke=function(){var e;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{e=this.search_container.siblings("li.search-choice").last();if(e.length&&!e.hasClass("search-choice-disabled")){this.pending_backstroke=e;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};n.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};n.prototype.keydown_checker=function(e){var t,n;t=(n=e.which)!=null?n:e.keyCode;this.search_field_scale();if(t!==8&&this.pending_backstroke){this.clear_backstroke()}switch(t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(e)}this.mouse_on_container=false;break;case 13:e.preventDefault();break;case 38:e.preventDefault();this.keyup_arrow();break;case 40:e.preventDefault();this.keydown_arrow();break}};n.prototype.search_field_scale=function(){var t,n,r,i,s,o,u,a,f;if(this.is_multiple){r=0;u=0;s="position:absolute; left: -1000px; top: -1000px; display:none;";o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(a=0,f=o.length;a<f;a++){i=o[a];s+=i+":"+this.search_field.css(i)+";"}t=e("<div />",{style:s});t.text(this.search_field.val());e("body").append(t);u=t.width()+25;t.remove();n=this.container.outerWidth();if(u>n-10){u=n-10}return this.search_field.css({width:u+"px"})}};return n}(t)}).call(this);if(jQuery)(function(e){function t(t,n){var r=e('<span class="minicolors" />'),i=e.minicolors.defaultSettings;if(t.data("minicolors-initialized"))return;n=e.extend(true,{},i,n);r.addClass("minicolors-theme-"+n.theme).addClass("minicolors-swatch-position-"+n.swatchPosition).toggleClass("minicolors-swatch-left",n.swatchPosition==="left").toggleClass("minicolors-with-opacity",n.opacity);if(n.position!==undefined){e.each(n.position.split(" "),function(){r.addClass("minicolors-position-"+this)})}t.addClass("minicolors-input").data("minicolors-initialized",true).data("minicolors-settings",n).prop("size",7).prop("maxlength",7).wrap(r).after('<span class="minicolors-panel minicolors-slider-'+n.control+'">'+'<span class="minicolors-slider">'+'<span class="minicolors-picker"></span>'+"</span>"+'<span class="minicolors-opacity-slider">'+'<span class="minicolors-picker"></span>'+"</span>"+'<span class="minicolors-grid">'+'<span class="minicolors-grid-inner"></span>'+'<span class="minicolors-picker"><span></span></span>'+"</span>"+"</span>");t.parent().find(".minicolors-panel").on("selectstart",function(){return false}).end();if(n.swatchPosition==="left"){t.before('<span class="minicolors-swatch"><span></span></span>')}else{t.after('<span class="minicolors-swatch"><span></span></span>')}if(!n.textfield)t.addClass("minicolors-hidden");if(n.inline)t.parent().addClass("minicolors-inline");a(t,false,true)}function n(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").prop("maxlength",null).removeClass("minicolors-input");t.before(e).remove()}function r(e){a(e)}function i(e){var t=e.parent(),n=t.find(".minicolors-panel"),r=e.data("minicolors-settings");if(!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus"))return;s();t.addClass("minicolors-focus");n.stop(true,true).fadeIn(r.showSpeed,function(){if(r.show)r.show.call(e.get(0))})}function s(){e(".minicolors-input").each(function(){var t=e(this),n=t.data("minicolors-settings"),r=t.parent();if(n.inline)return;r.find(".minicolors-panel").fadeOut(n.hideSpeed,function(){if(r.hasClass("minicolors-focus")){if(n.hide)n.hide.call(t.get(0))}r.removeClass("minicolors-focus")})})}function o(e,t,n){var r=e.parents(".minicolors").find(".minicolors-input"),i=r.data("minicolors-settings"),s=e.find("[class$=-picker]"),o=e.offset().left,a=e.offset().top,f=Math.round(t.pageX-o),l=Math.round(t.pageY-a),c=n?i.animationSpeed:0,h,p,d,v;if(t.originalEvent.changedTouches){f=t.originalEvent.changedTouches[0].pageX-o;l=t.originalEvent.changedTouches[0].pageY-a}if(f<0)f=0;if(l<0)l=0;if(f>e.width())f=e.width();if(l>e.height())l=e.height();if(e.parent().is(".minicolors-slider-wheel")&&s.parent().is(".minicolors-grid")){h=75-f;p=75-l;d=Math.sqrt(h*h+p*p);v=Math.atan2(p,h);if(v<0)v+=Math.PI*2;if(d>75){d=75;f=75-75*Math.cos(v);l=75-75*Math.sin(v)}f=Math.round(f);l=Math.round(l)}if(e.is(".minicolors-grid")){s.stop(true).animate({top:l+"px",left:f+"px"},c,i.animationEasing,function(){u(r,e)})}else{s.stop(true).animate({top:l+"px"},c,i.animationEasing,function(){u(r,e)})}}function u(e,t){function n(e,t){var n,r;if(!e.length||!t)return null;n=e.offset().left;r=e.offset().top;return{x:n-t.offset().left+e.outerWidth()/2,y:r-t.offset().top+e.outerHeight()/2}}var r,i,s,o,u,a,l,c,p=e.val(),v=e.attr("data-opacity"),m=e.parent(),y=e.data("minicolors-settings"),b=m.find(".minicolors-panel"),w=m.find(".minicolors-swatch"),E=m.find(".minicolors-grid"),S=m.find(".minicolors-slider"),x=m.find(".minicolors-opacity-slider"),T=E.find("[class$=-picker]"),N=S.find("[class$=-picker]"),C=x.find("[class$=-picker]"),k=n(T,E),L=n(N,S),A=n(C,x);if(t.is(".minicolors-grid, .minicolors-slider")){switch(y.control){case"wheel":u=E.width()/2-k.x;a=E.height()/2-k.y;l=Math.sqrt(u*u+a*a);c=Math.atan2(a,u);if(c<0)c+=Math.PI*2;if(l>75){l=75;k.x=69-75*Math.cos(c);k.y=69-75*Math.sin(c)}i=d(l/.75,0,100);r=d(c*180/Math.PI,0,360);s=d(100-Math.floor(L.y*(100/S.height())),0,100);p=g({h:r,s:i,b:s});S.css("backgroundColor",g({h:r,s:i,b:100}));break;case"saturation":r=d(parseInt(k.x*(360/E.width())),0,360);i=d(100-Math.floor(L.y*(100/S.height())),0,100);s=d(100-Math.floor(k.y*(100/E.height())),0,100);p=g({h:r,s:i,b:s});S.css("backgroundColor",g({h:r,s:100,b:s}));m.find(".minicolors-grid-inner").css("opacity",i/100);break;case"brightness":r=d(parseInt(k.x*(360/E.width())),0,360);i=d(100-Math.floor(k.y*(100/E.height())),0,100);s=d(100-Math.floor(L.y*(100/S.height())),0,100);p=g({h:r,s:i,b:s});S.css("backgroundColor",g({h:r,s:i,b:100}));m.find(".minicolors-grid-inner").css("opacity",1-s/100);break;default:r=d(360-parseInt(L.y*(360/S.height())),0,360);i=d(Math.floor(k.x*(100/E.width())),0,100);s=d(100-Math.floor(k.y*(100/E.height())),0,100);p=g({h:r,s:i,b:s});E.css("backgroundColor",g({h:r,s:100,b:100}));break}e.val(h(p,y.letterCase))}if(t.is(".minicolors-opacity-slider")){if(y.opacity){v=parseFloat(1-A.y/x.height()).toFixed(2)}else{v=1}if(y.opacity)e.attr("data-opacity",v)}w.find("SPAN").css({backgroundColor:p,opacity:v});f(e,p,v)}function a(e,t,n){var r,i,s,o,u,a,l,c=e.parent(),v=e.data("minicolors-settings"),m=c.find(".minicolors-swatch"),b=c.find(".minicolors-grid"),w=c.find(".minicolors-slider"),E=c.find(".minicolors-opacity-slider"),S=b.find("[class$=-picker]"),x=w.find("[class$=-picker]"),T=E.find("[class$=-picker]");r=h(p(e.val(),true),v.letterCase);if(!r)r=h(p(v.defaultValue,true));i=y(r);if(!t)e.val(r);if(v.opacity){s=e.attr("data-opacity")===""?1:d(parseFloat(e.attr("data-opacity")).toFixed(2),0,1);if(isNaN(s))s=1;e.attr("data-opacity",s);m.find("SPAN").css("opacity",s);u=d(E.height()-E.height()*s,0,E.height());T.css("top",u+"px")}m.find("SPAN").css("backgroundColor",r);switch(v.control){case"wheel":a=d(Math.ceil(i.s*.75),0,b.height()/2);l=i.h*Math.PI/180;o=d(75-Math.cos(l)*a,0,b.width());u=d(75-Math.sin(l)*a,0,b.height());S.css({top:u+"px",left:o+"px"});u=150-i.b/(100/b.height());if(r==="")u=0;x.css("top",u+"px");w.css("backgroundColor",g({h:i.h,s:i.s,b:100}));break;case"saturation":o=d(5*i.h/12,0,150);u=d(b.height()-Math.ceil(i.b/(100/b.height())),0,b.height());S.css({top:u+"px",left:o+"px"});u=d(w.height()-i.s*(w.height()/100),0,w.height());x.css("top",u+"px");w.css("backgroundColor",g({h:i.h,s:100,b:i.b}));c.find(".minicolors-grid-inner").css("opacity",i.s/100);break;case"brightness":o=d(5*i.h/12,0,150);u=d(b.height()-Math.ceil(i.s/(100/b.height())),0,b.height());S.css({top:u+"px",left:o+"px"});u=d(w.height()-i.b*(w.height()/100),0,w.height());x.css("top",u+"px");w.css("backgroundColor",g({h:i.h,s:i.s,b:100}));c.find(".minicolors-grid-inner").css("opacity",1-i.b/100);break;default:o=d(Math.ceil(i.s/(100/b.width())),0,b.width());u=d(b.height()-Math.ceil(i.b/(100/b.height())),0,b.height());S.css({top:u+"px",left:o+"px"});u=d(w.height()-i.h/(360/w.height()),0,w.height());x.css("top",u+"px");b.css("backgroundColor",g({h:i.h,s:100,b:100}));break}if(!n)f(e,r,s)}function f(e,t,n){var r=e.data("minicolors-settings");if(t+n!==e.data("minicolors-lastChange")){e.data("minicolors-lastChange",t+n);if(r.change){if(r.changeDelay){clearTimeout(e.data("minicolors-changeTimeout"));e.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(e.get(0),t,n)},r.changeDelay))}else{r.change.call(e.get(0),t,n)}}}}function l(t){var n=p(e(t).val(),true),r=w(n),i=e(t).attr("data-opacity");if(!r)return null;if(i!==undefined)e.extend(r,{a:parseFloat(i)});return r}function c(t,n){var r=p(e(t).val(),true),i=w(r),s=e(t).attr("data-opacity");if(!i)return null;if(s===undefined)s=1;if(n){return"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(s)+")"}else{return"rgb("+i.r+", "+i.g+", "+i.b+")"}}function h(e,t){return t==="uppercase"?e.toUpperCase():e.toLowerCase()}function p(e,t){e=e.replace(/[^A-F0-9]/ig,"");if(e.length!==3&&e.length!==6)return"";if(e.length===3&&t){e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}return"#"+e}function d(e,t,n){if(e<t)e=t;if(e>n)e=n;return e}function v(e){var t={};var n=Math.round(e.h);var r=Math.round(e.s*255/100);var i=Math.round(e.b*255/100);if(r===0){t.r=t.g=t.b=i}else{var s=i;var o=(255-r)*i/255;var u=(s-o)*(n%60)/60;if(n===360)n=0;if(n<60){t.r=s;t.b=o;t.g=o+u}else if(n<120){t.g=s;t.b=o;t.r=s-u}else if(n<180){t.g=s;t.r=o;t.b=o+u}else if(n<240){t.b=s;t.r=o;t.g=s-u}else if(n<300){t.b=s;t.g=o;t.r=o+u}else if(n<360){t.r=s;t.g=o;t.b=s-u}else{t.r=0;t.g=0;t.b=0}}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function m(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];e.each(n,function(e,t){if(t.length===1)n[e]="0"+t});return"#"+n.join("")}function g(e){return m(v(e))}function y(e){var t=b(w(e));if(t.s===0)t.h=360;return t}function b(e){var t={h:0,s:0,b:0};var n=Math.min(e.r,e.g,e.b);var r=Math.max(e.r,e.g,e.b);var i=r-n;t.b=r;t.s=r!==0?255*i/r:0;if(t.s!==0){if(e.r===r){t.h=(e.g-e.b)/i}else if(e.g===r){t.h=2+(e.b-e.r)/i}else{t.h=4+(e.r-e.g)/i}}else{t.h=-1}t.h*=60;if(t.h<0){t.h+=360}t.s*=100/255;t.b*=100/255;return t}function w(e){e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:e>>16,g:(e&65280)>>8,b:e&255}}e.minicolors={defaultSettings:{animationSpeed:100,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:false,letterCase:"lowercase",opacity:false,position:"default",show:null,showSpeed:100,swatchPosition:"left",textfield:true,theme:"default"}};e.extend(e.fn,{minicolors:function(o,u){switch(o){case"destroy":e(this).each(function(){n(e(this))});return e(this);case"hide":s();return e(this);case"opacity":if(u===undefined){return e(this).attr("data-opacity")}else{e(this).each(function(){r(e(this).attr("data-opacity",u))});return e(this)};case"rgbObject":return l(e(this),o==="rgbaObject");case"rgbString":case"rgbaString":return c(e(this),o==="rgbaString");case"settings":if(u===undefined){return e(this).data("minicolors-settings")}else{e(this).each(function(){var t=e(this).data("minicolors-settings")||{};n(e(this));e(this).minicolors(e.extend(true,t,u))});return e(this)};case"show":i(e(this).eq(0));return e(this);case"value":if(u===undefined){return e(this).val()}else{e(this).each(function(){r(e(this).val(u))});return e(this)};case"create":default:if(o!=="create")u=o;e(this).each(function(){t(e(this),u)});return e(this)}}});e(document).on("mousedown.minicolors touchstart.minicolors",function(t){if(!e(t.target).parents().add(t.target).hasClass("minicolors")){s()}}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var n=e(this);t.preventDefault();e(document).data("minicolors-target",n);o(n,t,true)}).on("mousemove.minicolors touchmove.minicolors",function(t){var n=e(document).data("minicolors-target");if(n)o(n,t)}).on("mouseup.minicolors touchend.minicolors",function(){e(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(t){t.preventDefault();var n=e(this).parent().find(".minicolors-input"),r=n.parent();if(r.hasClass("minicolors-focus")){s(n)}else{i(n)}}).on("focus.minicolors",".minicolors-input",function(t){var n=e(this);if(!n.data("minicolors-initialized"))return;i(n)}).on("blur.minicolors",".minicolors-input",function(t){var n=e(this),r=n.data("minicolors-settings");if(!n.data("minicolors-initialized"))return;n.val(p(n.val(),true));if(n.val()==="")n.val(p(r.defaultValue,true));n.val(h(n.val(),r.letterCase))}).on("keydown.minicolors",".minicolors-input",function(t){var n=e(this);if(!n.data("minicolors-initialized"))return;switch(t.keyCode){case 9:s();break;case 13:case 27:s();n.blur();break}}).on("keyup.minicolors",".minicolors-input",function(t){var n=e(this);if(!n.data("minicolors-initialized"))return;a(n,true)}).on("paste.minicolors",".minicolors-input",function(t){var n=e(this);if(!n.data("minicolors-initialized"))return;setTimeout(function(){a(n,true)},1)})})(jQuery);(function(window,document,undefined){(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(jQuery&&!jQuery.fn.dataTable){e(jQuery)}})(function($){"use strict";var DataTable=function(oInit){function _fnAddColumn(e,t){var n=DataTable.defaults.columns;var r=e.aoColumns.length;var i=$.extend({},DataTable.models.oColumn,n,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t?t:document.createElement("th"),sTitle:n.sTitle?n.sTitle:t?t.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[r],mData:n.mData?n.oDefaults:r});e.aoColumns.push(i);if(e.aoPreSearchCols[r]===undefined||e.aoPreSearchCols[r]===null){e.aoPreSearchCols[r]=$.extend({},DataTable.models.oSearch)}else{var s=e.aoPreSearchCols[r];if(s.bRegex===undefined){s.bRegex=true}if(s.bSmart===undefined){s.bSmart=true}if(s.bCaseInsensitive===undefined){s.bCaseInsensitive=true}}_fnColumnOptions(e,r,null)}function _fnColumnOptions(e,t,n){var r=e.aoColumns[t];if(n!==undefined&&n!==null){if(n.mDataProp&&!n.mData){n.mData=n.mDataProp}if(n.sType!==undefined){r.sType=n.sType;r._bAutoType=false}$.extend(r,n);_fnMap(r,n,"sWidth","sWidthOrig");if(n.iDataSort!==undefined){r.aDataSort=[n.iDataSort]}_fnMap(r,n,"aDataSort")}var i=r.mRender?_fnGetObjectDataFn(r.mRender):null;var s=_fnGetObjectDataFn(r.mData);r.fnGetData=function(e,t){var n=s(e,t);if(r.mRender&&t&&t!==""){return i(n,t,e)}return n};r.fnSetData=_fnSetObjectDataFn(r.mData);if(!e.oFeatures.bSort){r.bSortable=false}if(!r.bSortable||$.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)==-1){r.sSortingClass=e.oClasses.sSortableNone;r.sSortingClassJUI=""}else if($.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)==-1){r.sSortingClass=e.oClasses.sSortable;r.sSortingClassJUI=e.oClasses.sSortJUI}else if($.inArray("asc",r.asSorting)!=-1&&$.inArray("desc",r.asSorting)==-1){r.sSortingClass=e.oClasses.sSortableAsc;r.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed}else if($.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)!=-1){r.sSortingClass=e.oClasses.sSortableDesc;r.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed}}function _fnAdjustColumnSizing(e){if(e.oFeatures.bAutoWidth===false){return false}_fnCalculateColumnWidths(e);for(var t=0,n=e.aoColumns.length;t<n;t++){e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}}function _fnVisibleToColumnIndex(e,t){var n=_fnGetColumns(e,"bVisible");return typeof n[t]==="number"?n[t]:null}function _fnColumnIndexToVisible(e,t){var n=_fnGetColumns(e,"bVisible");var r=$.inArray(t,n);return r!==-1?r:null}function _fnVisbleColumns(e){return _fnGetColumns(e,"bVisible").length}function _fnGetColumns(e,t){var n=[];$.map(e.aoColumns,function(e,r){if(e[t]){n.push(r)}});return n}function _fnDetectType(e){var t=DataTable.ext.aTypes;var n=t.length;for(var r=0;r<n;r++){var i=t[r](e);if(i!==null){return i}}return"string"}function _fnReOrderIndex(e,t){var n=t.split(",");var r=[];for(var i=0,s=e.aoColumns.length;i<s;i++){for(var o=0;o<s;o++){if(e.aoColumns[i].sName==n[o]){r.push(o);break}}}return r}function _fnColumnOrdering(e){var t="";for(var n=0,r=e.aoColumns.length;n<r;n++){t+=e.aoColumns[n].sName+","}if(t.length==r){return""}return t.slice(0,-1)}function _fnApplyColumnDefs(e,t,n,r){var i,s,o,u,a,f;if(t){for(i=t.length-1;i>=0;i--){var l=t[i].aTargets;if(!$.isArray(l)){_fnLog(e,1,"aTargets must be an array of targets, not a "+typeof l)}for(o=0,u=l.length;o<u;o++){if(typeof l[o]==="number"&&l[o]>=0){while(e.aoColumns.length<=l[o]){_fnAddColumn(e)}r(l[o],t[i])}else if(typeof l[o]==="number"&&l[o]<0){r(e.aoColumns.length+l[o],t[i])}else if(typeof l[o]==="string"){for(a=0,f=e.aoColumns.length;a<f;a++){if(l[o]=="_all"||$(e.aoColumns[a].nTh).hasClass(l[o])){r(a,t[i])}}}}}}if(n){for(i=0,s=n.length;i<s;i++){r(i,n[i])}}}function _fnAddData(e,t){var n;var r=$.isArray(t)?t.slice():$.extend(true,{},t);var i=e.aoData.length;var s=$.extend(true,{},DataTable.models.oRow);s._aData=r;e.aoData.push(s);var o,u;for(var a=0,f=e.aoColumns.length;a<f;a++){n=e.aoColumns[a];if(typeof n.fnRender==="function"&&n.bUseRendered&&n.mData!==null){_fnSetCellData(e,i,a,_fnRender(e,i,a))}else{_fnSetCellData(e,i,a,_fnGetCellData(e,i,a))}if(n._bAutoType&&n.sType!="string"){var l=_fnGetCellData(e,i,a,"type");if(l!==null&&l!==""){u=_fnDetectType(l);if(n.sType===null){n.sType=u}else if(n.sType!=u&&n.sType!="html"){n.sType="string"}}}}e.aiDisplayMaster.push(i);if(!e.oFeatures.bDeferRender){_fnCreateTr(e,i)}return i}function _fnGatherData(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;if(e.bDeferLoading||e.sAjaxSource===null){l=e.nTBody.firstChild;while(l){if(l.nodeName.toUpperCase()=="TR"){h=e.aoData.length;l._DT_RowIndex=h;e.aoData.push($.extend(true,{},DataTable.models.oRow,{nTr:l}));e.aiDisplayMaster.push(h);f=l.firstChild;o=0;while(f){g=f.nodeName.toUpperCase();if(g=="TD"||g=="TH"){_fnSetCellData(e,h,o,$.trim(f.innerHTML));o++}f=f.nextSibling}}l=l.nextSibling}}a=_fnGetTrNodes(e);u=[];for(n=0,r=a.length;n<r;n++){f=a[n].firstChild;while(f){g=f.nodeName.toUpperCase();if(g=="TD"||g=="TH"){u.push(f)}f=f.nextSibling}}for(v=0,m=e.aoColumns.length;v<m;v++){y=e.aoColumns[v];if(y.sTitle===null){y.sTitle=y.nTh.innerHTML}var w=y._bAutoType,E=typeof y.fnRender==="function",S=y.sClass!==null,x=y.bVisible,T,N,C,k;if(w||E||S||!x){for(p=0,d=e.aoData.length;p<d;p++){b=e.aoData[p];T=u[p*m+v];if(w&&y.sType!="string"){k=_fnGetCellData(e,p,v,"type");if(k!==""){N=_fnDetectType(k);if(y.sType===null){y.sType=N}else if(y.sType!=N&&y.sType!="html"){y.sType="string"}}}if(y.mRender){T.innerHTML=_fnGetCellData(e,p,v,"display")}else if(y.mData!==v){T.innerHTML=_fnGetCellData(e,p,v,"display")}if(E){C=_fnRender(e,p,v);T.innerHTML=C;if(y.bUseRendered){_fnSetCellData(e,p,v,C)}}if(S){T.className+=" "+y.sClass}if(!x){b._anHidden[v]=T;T.parentNode.removeChild(T)}else{b._anHidden[v]=null}if(y.fnCreatedCell){y.fnCreatedCell.call(e.oInstance,T,_fnGetCellData(e,p,v,"display"),b._aData,p,v)}}}}if(e.aoRowCreatedCallback.length!==0){for(n=0,r=e.aoData.length;n<r;n++){b=e.aoData[n];_fnCallbackFire(e,"aoRowCreatedCallback",null,[b.nTr,b._aData,n])}}}function _fnNodeToDataIndex(e,t){return t._DT_RowIndex!==undefined?t._DT_RowIndex:null}function _fnNodeToColumnIndex(e,t,n){var r=_fnGetTdNodes(e,t);for(var i=0,s=e.aoColumns.length;i<s;i++){if(r[i]===n){return i}}return-1}function _fnGetRowData(e,t,n,r){var i=[];for(var s=0,o=r.length;s<o;s++){i.push(_fnGetCellData(e,t,r[s],n))}return i}function _fnGetCellData(e,t,n,r){var i;var s=e.aoColumns[n];var o=e.aoData[t]._aData;if((i=s.fnGetData(o,r))===undefined){if(e.iDrawError!=e.iDraw&&s.sDefaultContent===null){_fnLog(e,0,"Requested unknown parameter "+(typeof s.mData=="function"?"{mData function}":"'"+s.mData+"'")+" from the data source for row "+t);e.iDrawError=e.iDraw}return s.sDefaultContent}if(i===null&&s.sDefaultContent!==null){i=s.sDefaultContent}else if(typeof i==="function"){return i()}if(r=="display"&&i===null){return""}return i}function _fnSetCellData(e,t,n,r){var i=e.aoColumns[n];var s=e.aoData[t]._aData;i.fnSetData(s,r)}function _fnGetObjectDataFn(e){if(e===null){return function(e,t){return null}}else if(typeof e==="function"){return function(t,n,r){return e(t,n,r)}}else if(typeof e==="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1)){var t=function(e,n,r){var i=r.split(".");var s,o,u;if(r!==""){for(var a=0,f=i.length;a<f;a++){s=i[a].match(__reArray);if(s){i[a]=i[a].replace(__reArray,"");if(i[a]!==""){e=e[i[a]]}o=[];i.splice(0,a+1);u=i.join(".");for(var l=0,c=e.length;l<c;l++){o.push(t(e[l],n,u))}var h=s[0].substring(1,s[0].length-1);e=h===""?o:o.join(h);break}if(e===null||e[i[a]]===undefined){return undefined}e=e[i[a]]}}return e};return function(n,r){return t(n,r,e)}}else{return function(t,n){return t[e]}}}function _fnSetObjectDataFn(e){if(e===null){return function(e,t){}}else if(typeof e==="function"){return function(t,n){e(t,"set",n)}}else if(typeof e==="string"&&(e.indexOf(".")!==-1||e.indexOf("[")!==-1)){var t=function(e,n,r){var i=r.split("."),s;var o,u,a;for(var f=0,l=i.length-1;f<l;f++){o=i[f].match(__reArray);if(o){i[f]=i[f].replace(__reArray,"");e[i[f]]=[];s=i.slice();s.splice(0,f+1);a=s.join(".");for(var c=0,h=n.length;c<h;c++){u={};t(u,n[c],a);e[i[f]].push(u)}return}if(e[i[f]]===null||e[i[f]]===undefined){e[i[f]]={}}e=e[i[f]]}e[i[i.length-1].replace(__reArray,"")]=n};return function(n,r){return t(n,r,e)}}else{return function(t,n){t[e]=n}}}function _fnGetDataMaster(e){var t=[];var n=e.aoData.length;for(var r=0;r<n;r++){t.push(e.aoData[r]._aData)}return t}function _fnClearTable(e){e.aoData.splice(0,e.aoData.length);e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length);e.aiDisplay.splice(0,e.aiDisplay.length);_fnCalculateEnd(e)}function _fnDeleteIndex(e,t){var n=-1;for(var r=0,i=e.length;r<i;r++){if(e[r]==t){n=r}else if(e[r]>t){e[r]--}}if(n!=-1){e.splice(n,1)}}function _fnRender(e,t,n){var r=e.aoColumns[n];return r.fnRender({iDataRow:t,iDataColumn:n,oSettings:e,aData:e.aoData[t]._aData,mDataProp:r.mData},_fnGetCellData(e,t,n,"display"))}function _fnCreateTr(e,t){var n=e.aoData[t];var r;if(n.nTr===null){n.nTr=document.createElement("tr");n.nTr._DT_RowIndex=t;if(n._aData.DT_RowId){n.nTr.id=n._aData.DT_RowId}if(n._aData.DT_RowClass){n.nTr.className=n._aData.DT_RowClass}for(var i=0,s=e.aoColumns.length;i<s;i++){var o=e.aoColumns[i];r=document.createElement(o.sCellType);r.innerHTML=typeof o.fnRender==="function"&&(!o.bUseRendered||o.mData===null)?_fnRender(e,t,i):_fnGetCellData(e,t,i,"display");if(o.sClass!==null){r.className=o.sClass}if(o.bVisible){n.nTr.appendChild(r);n._anHidden[i]=null}else{n._anHidden[i]=r}if(o.fnCreatedCell){o.fnCreatedCell.call(e.oInstance,r,_fnGetCellData(e,t,i,"display"),n._aData,t,i)}}_fnCallbackFire(e,"aoRowCreatedCallback",null,[n.nTr,n._aData,t])}}function _fnBuildHead(e){var t,n,r,i,s;var o=$("th, td",e.nTHead).length;var u=0;var a;if(o!==0){for(t=0,r=e.aoColumns.length;t<r;t++){n=e.aoColumns[t].nTh;n.setAttribute("role","columnheader");if(e.aoColumns[t].bSortable){n.setAttribute("tabindex",e.iTabIndex);n.setAttribute("aria-controls",e.sTableId)}if(e.aoColumns[t].sClass!==null){$(n).addClass(e.aoColumns[t].sClass)}if(e.aoColumns[t].sTitle!=n.innerHTML){n.innerHTML=e.aoColumns[t].sTitle}}}else{var f=document.createElement("tr");for(t=0,r=e.aoColumns.length;t<r;t++){n=e.aoColumns[t].nTh;n.innerHTML=e.aoColumns[t].sTitle;n.setAttribute("tabindex","0");if(e.aoColumns[t].sClass!==null){$(n).addClass(e.aoColumns[t].sClass)}f.appendChild(n)}$(e.nTHead).html("")[0].appendChild(f);_fnDetectHeader(e.aoHeader,e.nTHead)}$(e.nTHead).children("tr").attr("role","row");if(e.bJUI){for(t=0,r=e.aoColumns.length;t<r;t++){n=e.aoColumns[t].nTh;var l=document.createElement("div");l.className=e.oClasses.sSortJUIWrapper;$(n).contents().appendTo(l);var c=document.createElement("span");c.className=e.oClasses.sSortIcon;l.appendChild(c);n.appendChild(l)}}if(e.oFeatures.bSort){for(t=0;t<e.aoColumns.length;t++){if(e.aoColumns[t].bSortable!==false){_fnSortAttachListener(e,e.aoColumns[t].nTh,t)}else{$(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone)}}}if(e.oClasses.sFooterTH!==""){$(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH)}if(e.nTFoot!==null){var h=_fnGetUniqueThs(e,null,e.aoFooter);for(t=0,r=e.aoColumns.length;t<r;t++){if(h[t]){e.aoColumns[t].nTf=h[t];if(e.aoColumns[t].sClass){$(h[t]).addClass(e.aoColumns[t].sClass)}}}}}function _fnDrawHead(e,t,n){var r,i,s,o,u,a,f,l;var c=[];var h=[];var p=e.aoColumns.length;var d,v;if(n===undefined){n=false}for(r=0,i=t.length;r<i;r++){c[r]=t[r].slice();c[r].nTr=t[r].nTr;for(s=p-1;s>=0;s--){if(!e.aoColumns[s].bVisible&&!n){c[r].splice(s,1)}}h.push([])}for(r=0,i=c.length;r<i;r++){l=c[r].nTr;if(l){while(f=l.firstChild){l.removeChild(f)}}for(s=0,o=c[r].length;s<o;s++){d=1;v=1;if(h[r][s]===undefined){l.appendChild(c[r][s].cell);h[r][s]=1;while(c[r+d]!==undefined&&c[r][s].cell==c[r+d][s].cell){h[r+d][s]=1;d++}while(c[r][s+v]!==undefined&&c[r][s].cell==c[r][s+v].cell){for(u=0;u<d;u++){h[r+u][s+v]=1}v++}c[r][s].cell.rowSpan=d;c[r][s].cell.colSpan=v}}}}function _fnDraw(e){var t=_fnCallbackFire(e,"aoPreDrawCallback","preDraw",[e]);if($.inArray(false,t)!==-1){_fnProcessingDisplay(e,false);return}var n,r,i;var s=[];var o=0;var u=e.asStripeClasses.length;var a=e.aoOpenRows.length;e.bDrawing=true;if(e.iInitDisplayStart!==undefined&&e.iInitDisplayStart!=-1){if(e.oFeatures.bServerSide){e._iDisplayStart=e.iInitDisplayStart}else{e._iDisplayStart=e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart}e.iInitDisplayStart=-1;_fnCalculateEnd(e)}if(e.bDeferLoading){e.bDeferLoading=false;e.iDraw++}else if(!e.oFeatures.bServerSide){e.iDraw++}else if(!e.bDestroying&&!_fnAjaxUpdate(e)){return}if(e.aiDisplay.length!==0){var f=e._iDisplayStart;var l=e._iDisplayEnd;if(e.oFeatures.bServerSide){f=0;l=e.aoData.length}for(var c=f;c<l;c++){var h=e.aoData[e.aiDisplay[c]];if(h.nTr===null){_fnCreateTr(e,e.aiDisplay[c])}var p=h.nTr;if(u!==0){var d=e.asStripeClasses[o%u];if(h._sRowStripe!=d){$(p).removeClass(h._sRowStripe).addClass(d);h._sRowStripe=d}}_fnCallbackFire(e,"aoRowCallback",null,[p,e.aoData[e.aiDisplay[c]]._aData,o,c]);s.push(p);o++;if(a!==0){for(var v=0;v<a;v++){if(p==e.aoOpenRows[v].nParent){s.push(e.aoOpenRows[v].nTr);break}}}}}else{s[0]=document.createElement("tr");if(e.asStripeClasses[0]){s[0].className=e.asStripeClasses[0]}var m=e.oLanguage;var g=m.sZeroRecords;if(e.iDraw==1&&e.sAjaxSource!==null&&!e.oFeatures.bServerSide){g=m.sLoadingRecords}else if(m.sEmptyTable&&e.fnRecordsTotal()===0){g=m.sEmptyTable}var y=document.createElement("td");y.setAttribute("valign","top");y.colSpan=_fnVisbleColumns(e);y.className=e.oClasses.sRowEmpty;y.innerHTML=_fnInfoMacros(e,g);s[o].appendChild(y)}_fnCallbackFire(e,"aoHeaderCallback","header",[$(e.nTHead).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]);_fnCallbackFire(e,"aoFooterCallback","footer",[$(e.nTFoot).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]);var b=document.createDocumentFragment(),w=document.createDocumentFragment(),E,S;if(e.nTBody){E=e.nTBody.parentNode;w.appendChild(e.nTBody);if(!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered){while(i=e.nTBody.firstChild){e.nTBody.removeChild(i)}}for(n=0,r=s.length;n<r;n++){b.appendChild(s[n])}e.nTBody.appendChild(b);if(E!==null){E.appendChild(e.nTBody)}}_fnCallbackFire(e,"aoDrawCallback","draw",[e]);e.bSorted=false;e.bFiltered=false;e.bDrawing=false;if(e.oFeatures.bServerSide){_fnProcessingDisplay(e,false);if(!e._bInitComplete){_fnInitComplete(e)}}}function _fnReDraw(e){if(e.oFeatures.bSort){_fnSort(e,e.oPreviousSearch)}else if(e.oFeatures.bFilter){_fnFilterComplete(e,e.oPreviousSearch)}else{_fnCalculateEnd(e);_fnDraw(e)}}function _fnAddOptionsHtml(e){var t=$("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable);e.nTableWrapper=$('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0];e.nTableReinsertBefore=e.nTable.nextSibling;var n=e.nTableWrapper;var r=e.sDom.split("");var i,s,o,u,a,f,l;for(var c=0;c<r.length;c++){s=0;o=r[c];if(o=="<"){u=$("<div></div>")[0];a=r[c+1];if(a=="'"||a=='"'){f="";l=2;while(r[c+l]!=a){f+=r[c+l];l++}if(f=="H"){f=e.oClasses.sJUIHeader}else if(f=="F"){f=e.oClasses.sJUIFooter}if(f.indexOf(".")!=-1){var h=f.split(".");u.id=h[0].substr(1,h[0].length-1);u.className=h[1]}else if(f.charAt(0)=="#"){u.id=f.substr(1,f.length-1)}else{u.className=f}c+=l}n.appendChild(u);n=u}else if(o==">"){n=n.parentNode}else if(o=="l"&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange){i=_fnFeatureHtmlLength(e);s=1}else if(o=="f"&&e.oFeatures.bFilter){i=_fnFeatureHtmlFilter(e);s=1}else if(o=="r"&&e.oFeatures.bProcessing){i=_fnFeatureHtmlProcessing(e);s=1}else if(o=="t"){i=_fnFeatureHtmlTable(e);s=1}else if(o=="i"&&e.oFeatures.bInfo){i=_fnFeatureHtmlInfo(e);s=1}else if(o=="p"&&e.oFeatures.bPaginate){i=_fnFeatureHtmlPaginate(e);s=1}else if(DataTable.ext.aoFeatures.length!==0){var p=DataTable.ext.aoFeatures;for(var d=0,v=p.length;d<v;d++){if(o==p[d].cFeature){i=p[d].fnInit(e);if(i){s=1}break}}}if(s==1&&i!==null){if(typeof e.aanFeatures[o]!=="object"){e.aanFeatures[o]=[]}e.aanFeatures[o].push(i);n.appendChild(i)}}t.parentNode.replaceChild(e.nTableWrapper,t)}function _fnDetectHeader(e,t){var n=$(t).children("tr");var r,i;var s,o,u,a,f,l,c,h,p;var d;var v=function(e,t,n){var r=e[t];while(r[n]){n++}return n};e.splice(0,e.length);for(s=0,a=n.length;s<a;s++){e.push([])}for(s=0,a=n.length;s<a;s++){r=n[s];c=0;i=r.firstChild;while(i){if(i.nodeName.toUpperCase()=="TD"||i.nodeName.toUpperCase()=="TH"){h=i.getAttribute("colspan")*1;p=i.getAttribute("rowspan")*1;h=!h||h===0||h===1?1:h;p=!p||p===0||p===1?1:p;l=v(e,s,c);d=h===1?true:false;for(u=0;u<h;u++){for(o=0;o<p;o++){e[s+o][l+u]={cell:i,unique:d};e[s+o].nTr=r}}}i=i.nextSibling}}}function _fnGetUniqueThs(e,t,n){var r=[];if(!n){n=e.aoHeader;if(t){n=[];_fnDetectHeader(n,t)}}for(var i=0,s=n.length;i<s;i++){for(var o=0,u=n[i].length;o<u;o++){if(n[i][o].unique&&(!r[o]||!e.bSortCellsTop)){r[o]=n[i][o].cell}}}return r}function _fnAjaxUpdate(e){if(e.bAjaxDataGet){e.iDraw++;_fnProcessingDisplay(e,true);var t=e.aoColumns.length;var n=_fnAjaxParameters(e);_fnServerParams(e,n);e.fnServerData.call(e.oInstance,e.sAjaxSource,n,function(t){_fnAjaxUpdateDraw(e,t)},e);return false}else{return true}}function _fnAjaxParameters(e){var t=e.aoColumns.length;var n=[],r,i,s;var o,u;n.push({name:"sEcho",value:e.iDraw});n.push({name:"iColumns",value:t});n.push({name:"sColumns",value:_fnColumnOrdering(e)});n.push({name:"iDisplayStart",value:e._iDisplayStart});n.push({name:"iDisplayLength",value:e.oFeatures.bPaginate!==false?e._iDisplayLength:-1});for(o=0;o<t;o++){r=e.aoColumns[o].mData;n.push({name:"mDataProp_"+o,value:typeof r==="function"?"function":r})}if(e.oFeatures.bFilter!==false){n.push({name:"sSearch",value:e.oPreviousSearch.sSearch});n.push({name:"bRegex",value:e.oPreviousSearch.bRegex});for(o=0;o<t;o++){n.push({name:"sSearch_"+o,value:e.aoPreSearchCols[o].sSearch});n.push({name:"bRegex_"+o,value:e.aoPreSearchCols[o].bRegex});n.push({name:"bSearchable_"+o,value:e.aoColumns[o].bSearchable})}}if(e.oFeatures.bSort!==false){var a=0;i=e.aaSortingFixed!==null?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(o=0;o<i.length;o++){s=e.aoColumns[i[o][0]].aDataSort;for(u=0;u<s.length;u++){n.push({name:"iSortCol_"+a,value:s[u]});n.push({name:"sSortDir_"+a,value:i[o][1]});a++}}n.push({name:"iSortingCols",value:a});for(o=0;o<t;o++){n.push({name:"bSortable_"+o,value:e.aoColumns[o].bSortable})}}return n}function _fnServerParams(e,t){_fnCallbackFire(e,"aoServerParams","serverParams",[t])}function _fnAjaxUpdateDraw(e,t){if(t.sEcho!==undefined){if(t.sEcho*1<e.iDraw){return}else{e.iDraw=t.sEcho*1}}if(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered)){_fnClearTable(e)}e._iRecordsTotal=parseInt(t.iTotalRecords,10);e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var n=_fnColumnOrdering(e);var r=t.sColumns!==undefined&&n!==""&&t.sColumns!=n;var i;if(r){i=_fnReOrderIndex(e,t.sColumns)}var s=_fnGetObjectDataFn(e.sAjaxDataProp)(t);for(var o=0,u=s.length;o<u;o++){if(r){var a=[];for(var f=0,l=e.aoColumns.length;f<l;f++){a.push(s[o][i[f]])}_fnAddData(e,a)}else{_fnAddData(e,s[o])}}e.aiDisplay=e.aiDisplayMaster.slice();e.bAjaxDataGet=false;_fnDraw(e);e.bAjaxDataGet=true;_fnProcessingDisplay(e,false)}function _fnFeatureHtmlFilter(e){var t=e.oPreviousSearch;var n=e.oLanguage.sSearch;n=n.indexOf("_INPUT_")!==-1?n.replace("_INPUT_",'<input type="text" />'):n===""?'<input type="text" />':n+' <input type="text" />';var r=document.createElement("div");r.className=e.oClasses.sFilter;r.innerHTML="<label>"+n+"</label>";if(!e.aanFeatures.f){r.id=e.sTableId+"_filter"}var i=$('input[type="text"]',r);r._DT_Input=i[0];i.val(t.sSearch.replace('"',"&quot;"));i.bind("keyup.DT",function(n){var r=e.aanFeatures.f;var i=this.value===""?"":this.value;for(var s=0,o=r.length;s<o;s++){if(r[s]!=$(this).parents("div.dataTables_filter")[0]){$(r[s]._DT_Input).val(i)}}if(i!=t.sSearch){_fnFilterComplete(e,{sSearch:i,bRegex:t.bRegex,bSmart:t.bSmart,bCaseInsensitive:t.bCaseInsensitive})}});i.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){if(e.keyCode==13){return false}});return r}function _fnFilterComplete(e,t,n){var r=e.oPreviousSearch;var i=e.aoPreSearchCols;var s=function(e){r.sSearch=e.sSearch;r.bRegex=e.bRegex;r.bSmart=e.bSmart;r.bCaseInsensitive=e.bCaseInsensitive};if(!e.oFeatures.bServerSide){_fnFilter(e,t.sSearch,n,t.bRegex,t.bSmart,t.bCaseInsensitive);s(t);for(var o=0;o<e.aoPreSearchCols.length;o++){_fnFilterColumn(e,i[o].sSearch,o,i[o].bRegex,i[o].bSmart,i[o].bCaseInsensitive)}_fnFilterCustom(e)}else{s(t)}e.bFiltered=true;$(e.oInstance).trigger("filter",e);e._iDisplayStart=0;_fnCalculateEnd(e);_fnDraw(e);_fnBuildSearchArray(e,0)}function _fnFilterCustom(e){var t=DataTable.ext.afnFiltering;var n=_fnGetColumns(e,"bSearchable");for(var r=0,i=t.length;r<i;r++){var s=0;for(var o=0,u=e.aiDisplay.length;o<u;o++){var a=e.aiDisplay[o-s];var f=t[r](e,_fnGetRowData(e,a,"filter",n),a);if(!f){e.aiDisplay.splice(o-s,1);s++}}}}function _fnFilterColumn(e,t,n,r,i,s){if(t===""){return}var o=0;var u=_fnFilterCreateSearch(t,r,i,s);for(var a=e.aiDisplay.length-1;a>=0;a--){var f=_fnDataToSearch(_fnGetCellData(e,e.aiDisplay[a],n,"filter"),e.aoColumns[n].sType);if(!u.test(f)){e.aiDisplay.splice(a,1);o++}}}function _fnFilter(e,t,n,r,i,s){var o;var u=_fnFilterCreateSearch(t,r,i,s);var a=e.oPreviousSearch;if(!n){n=0}if(DataTable.ext.afnFiltering.length!==0){n=1}if(t.length<=0){e.aiDisplay.splice(0,e.aiDisplay.length);e.aiDisplay=e.aiDisplayMaster.slice()}else{if(e.aiDisplay.length==e.aiDisplayMaster.length||a.sSearch.length>t.length||n==1||t.indexOf(a.sSearch)!==0){e.aiDisplay.splice(0,e.aiDisplay.length);_fnBuildSearchArray(e,1);for(o=0;o<e.aiDisplayMaster.length;o++){if(u.test(e.asDataSearch[o])){e.aiDisplay.push(e.aiDisplayMaster[o])}}}else{var f=0;for(o=0;o<e.asDataSearch.length;o++){if(!u.test(e.asDataSearch[o])){e.aiDisplay.splice(o-f,1);f++}}}}}function _fnBuildSearchArray(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];var n=_fnGetColumns(e,"bSearchable");var r=t===1?e.aiDisplayMaster:e.aiDisplay;for(var i=0,s=r.length;i<s;i++){e.asDataSearch[i]=_fnBuildSearchRow(e,_fnGetRowData(e,r[i],"filter",n))}}}function _fnBuildSearchRow(e,t){var n=t.join("  ");if(n.indexOf("&")!==-1){n=$("<div>").html(n).text()}return n.replace(/[\n\r]/g," ")}function _fnFilterCreateSearch(e,t,n,r){var i,s;if(n){i=t?e.split(" "):_fnEscapeRegex(e).split(" ");s="^(?=.*?"+i.join(")(?=.*?")+").*$";return new RegExp(s,r?"i":"")}else{e=t?e:_fnEscapeRegex(e);return new RegExp(e,r?"i":"")}}function _fnDataToSearch(e,t){if(typeof DataTable.ext.ofnSearch[t]==="function"){return DataTable.ext.ofnSearch[t](e)}else if(e===null){return""}else if(t=="html"){return e.replace(/[\r\n]/g," ").replace(/<.*?>/g,"")}else if(typeof e==="string"){return e.replace(/[\r\n]/g," ")}return e}function _fnEscapeRegex(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"];var n=new RegExp("(\\"+t.join("|\\")+")","g");return e.replace(n,"\\$1")}function _fnFeatureHtmlInfo(e){var t=document.createElement("div");t.className=e.oClasses.sInfo;if(!e.aanFeatures.i){e.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"});t.id=e.sTableId+"_info"}e.nTable.setAttribute("aria-describedby",e.sTableId+"_info");return t}function _fnUpdateInfo(e){if(!e.oFeatures.bInfo||e.aanFeatures.i.length===0){return}var t=e.oLanguage,n=e._iDisplayStart+1,r=e.fnDisplayEnd(),i=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),o;if(s===0){o=t.sInfoEmpty}else{o=t.sInfo}if(s!=i){o+=" "+t.sInfoFiltered}o+=t.sInfoPostFix;o=_fnInfoMacros(e,o);if(t.fnInfoCallback!==null){o=t.fnInfoCallback.call(e.oInstance,e,n,r,i,s,o)}var u=e.aanFeatures.i;for(var a=0,f=u.length;a<f;a++){$(u[a]).html(o)}}function _fnInfoMacros(e,t){var n=e._iDisplayStart+1,r=e.fnFormatNumber(n),i=e.fnDisplayEnd(),s=e.fnFormatNumber(i),o=e.fnRecordsDisplay(),u=e.fnFormatNumber(o),a=e.fnRecordsTotal(),f=e.fnFormatNumber(a);if(e.oScroll.bInfinite){r=e.fnFormatNumber(1)}return t.replace(/_START_/g,r).replace(/_END_/g,s).replace(/_TOTAL_/g,u).replace(/_MAX_/g,f)}function _fnInitialise(e){var t,n,r=e.iInitDisplayStart;if(e.bInitialised===false){setTimeout(function(){_fnInitialise(e)},200);return}_fnAddOptionsHtml(e);_fnBuildHead(e);_fnDrawHead(e,e.aoHeader);if(e.nTFoot){_fnDrawHead(e,e.aoFooter)}_fnProcessingDisplay(e,true);if(e.oFeatures.bAutoWidth){_fnCalculateColumnWidths(e)}for(t=0,n=e.aoColumns.length;t<n;t++){if(e.aoColumns[t].sWidth!==null){e.aoColumns[t].nTh.style.width=_fnStringToCss(e.aoColumns[t].sWidth)}}if(e.oFeatures.bSort){_fnSort(e)}else if(e.oFeatures.bFilter){_fnFilterComplete(e,e.oPreviousSearch)}else{e.aiDisplay=e.aiDisplayMaster.slice();_fnCalculateEnd(e);_fnDraw(e)}if(e.sAjaxSource!==null&&!e.oFeatures.bServerSide){var i=[];_fnServerParams(e,i);e.fnServerData.call(e.oInstance,e.sAjaxSource,i,function(n){var i=e.sAjaxDataProp!==""?_fnGetObjectDataFn(e.sAjaxDataProp)(n):n;for(t=0;t<i.length;t++){_fnAddData(e,i[t])}e.iInitDisplayStart=r;if(e.oFeatures.bSort){_fnSort(e)}else{e.aiDisplay=e.aiDisplayMaster.slice();_fnCalculateEnd(e);_fnDraw(e)}_fnProcessingDisplay(e,false);_fnInitComplete(e,n)},e);return}if(!e.oFeatures.bServerSide){_fnProcessingDisplay(e,false);_fnInitComplete(e)}}function _fnInitComplete(e,t){e._bInitComplete=true;_fnCallbackFire(e,"aoInitComplete","init",[e,t])}function _fnLanguageCompat(e){var t=DataTable.defaults.oLanguage;if(!e.sEmptyTable&&e.sZeroRecords&&t.sEmptyTable==="No data available in table"){_fnMap(e,e,"sZeroRecords","sEmptyTable")}if(!e.sLoadingRecords&&e.sZeroRecords&&t.sLoadingRecords==="Loading..."){_fnMap(e,e,"sZeroRecords","sLoadingRecords")}}function _fnFeatureHtmlLength(e){if(e.oScroll.bInfinite){return null}var t='name="'+e.sTableId+'_length"';var n='<select size="1" '+t+">";var r,i;var s=e.aLengthMenu;if(s.length==2&&typeof s[0]==="object"&&typeof s[1]==="object"){for(r=0,i=s[0].length;r<i;r++){n+='<option value="'+s[0][r]+'">'+s[1][r]+"</option>"}}else{for(r=0,i=s.length;r<i;r++){n+='<option value="'+s[r]+'">'+s[r]+"</option>"}}n+="</select>";var o=document.createElement("div");if(!e.aanFeatures.l){o.id=e.sTableId+"_length"}o.className=e.oClasses.sLength;o.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",n)+"</label>";$('select option[value="'+e._iDisplayLength+'"]',o).attr("selected",true);$("select",o).bind("change.DT",function(t){var n=$(this).val();var s=e.aanFeatures.l;for(r=0,i=s.length;r<i;r++){if(s[r]!=this.parentNode){$("select",s[r]).val(n)}}e._iDisplayLength=parseInt(n,10);_fnCalculateEnd(e);if(e.fnDisplayEnd()==e.fnRecordsDisplay()){e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength;if(e._iDisplayStart<0){e._iDisplayStart=0}}if(e._iDisplayLength==-1){e._iDisplayStart=0}_fnDraw(e)});$("select",o).attr("aria-controls",e.sTableId);return o}function _fnCalculateEnd(e){if(e.oFeatures.bPaginate===false){e._iDisplayEnd=e.aiDisplay.length}else{if(e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||e._iDisplayLength==-1){e._iDisplayEnd=e.aiDisplay.length}else{e._iDisplayEnd=e._iDisplayStart+e._iDisplayLength}}}function _fnFeatureHtmlPaginate(e){if(e.oScroll.bInfinite){return null}var t=document.createElement("div");t.className=e.oClasses.sPaging+e.sPaginationType;DataTable.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){_fnCalculateEnd(e);_fnDraw(e)});if(!e.aanFeatures.p){e.aoDrawCallback.push({fn:function(e){DataTable.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){_fnCalculateEnd(e);_fnDraw(e)})},sName:"pagination"})}return t}function _fnPageChange(e,t){var n=e._iDisplayStart;if(typeof t==="number"){e._iDisplayStart=t*e._iDisplayLength;if(e._iDisplayStart>e.fnRecordsDisplay()){e._iDisplayStart=0}}else if(t=="first"){e._iDisplayStart=0}else if(t=="previous"){e._iDisplayStart=e._iDisplayLength>=0?e._iDisplayStart-e._iDisplayLength:0;if(e._iDisplayStart<0){e._iDisplayStart=0}}else if(t=="next"){if(e._iDisplayLength>=0){if(e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()){e._iDisplayStart+=e._iDisplayLength}}else{e._iDisplayStart=0}}else if(t=="last"){if(e._iDisplayLength>=0){var r=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(r-1)*e._iDisplayLength}else{e._iDisplayStart=0}}else{_fnLog(e,0,"Unknown paging action: "+t)}$(e.oInstance).trigger("page",e);return n!=e._iDisplayStart}function _fnFeatureHtmlProcessing(e){var t=document.createElement("div");if(!e.aanFeatures.r){t.id=e.sTableId+"_processing"}t.innerHTML=e.oLanguage.sProcessing;t.className=e.oClasses.sProcessing;e.nTable.parentNode.insertBefore(t,e.nTable);return t}function _fnProcessingDisplay(e,t){if(e.oFeatures.bProcessing){var n=e.aanFeatures.r;for(var r=0,i=n.length;r<i;r++){n[r].style.visibility=t?"visible":"hidden"}}$(e.oInstance).trigger("processing",[e,t])}function _fnFeatureHtmlTable(e){if(e.oScroll.sX===""&&e.oScroll.sY===""){return e.nTable}var t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),u=e.nTable.cloneNode(false),a=e.nTable.cloneNode(false),f=e.nTable.getElementsByTagName("thead")[0],l=e.nTable.getElementsByTagName("tfoot").length===0?null:e.nTable.getElementsByTagName("tfoot")[0],c=e.oClasses;n.appendChild(r);s.appendChild(o);i.appendChild(e.nTable);t.appendChild(n);t.appendChild(i);r.appendChild(u);u.appendChild(f);if(l!==null){t.appendChild(s);o.appendChild(a);a.appendChild(l)}t.className=c.sScrollWrapper;n.className=c.sScrollHead;r.className=c.sScrollHeadInner;i.className=c.sScrollBody;s.className=c.sScrollFoot;o.className=c.sScrollFootInner;if(e.oScroll.bAutoCss){n.style.overflow="hidden";n.style.position="relative";s.style.overflow="hidden";i.style.overflow="auto"}n.style.border="0";n.style.width="100%";s.style.border="0";r.style.width=e.oScroll.sXInner!==""?e.oScroll.sXInner:"100%";u.removeAttribute("id");u.style.marginLeft="0";e.nTable.style.marginLeft="0";if(l!==null){a.removeAttribute("id");a.style.marginLeft="0"}var h=$(e.nTable).children("caption");if(h.length>0){h=h[0];if(h._captionSide==="top"){u.appendChild(h)}else if(h._captionSide==="bottom"&&l){a.appendChild(h)}}if(e.oScroll.sX!==""){n.style.width=_fnStringToCss(e.oScroll.sX);i.style.width=_fnStringToCss(e.oScroll.sX);if(l!==null){s.style.width=_fnStringToCss(e.oScroll.sX)}$(i).scroll(function(e){n.scrollLeft=this.scrollLeft;if(l!==null){s.scrollLeft=this.scrollLeft}})}if(e.oScroll.sY!==""){i.style.height=_fnStringToCss(e.oScroll.sY)}e.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"});if(e.oScroll.bInfinite){$(i).scroll(function(){if(!e.bDrawing&&$(this).scrollTop()!==0){if($(this).scrollTop()+$(this).height()>$(e.nTable).height()-e.oScroll.iLoadGap){if(e.fnDisplayEnd()<e.fnRecordsDisplay()){_fnPageChange(e,"next");_fnCalculateEnd(e);_fnDraw(e)}}}})}e.nScrollHead=n;e.nScrollFoot=s;return t}function _fnScrollDraw(e){var t=e.nScrollHead.getElementsByTagName("div")[0],n=t.getElementsByTagName("table")[0],r=e.nTable.parentNode,i,s,o,u,a,f,l,c,h,p,d,v,m,g=[],y=[],b,w=e.nTFoot!==null?e.nScrollFoot.getElementsByTagName("div")[0]:null,E=e.nTFoot!==null?w.getElementsByTagName("table")[0]:null,S=e.oBrowser.bScrollOversize,x=function(e){h=e.style;h.paddingTop="0";h.paddingBottom="0";h.borderTopWidth="0";h.borderBottomWidth="0";h.height=0};$(e.nTable).children("thead, tfoot").remove();d=$(e.nTHead).clone()[0];e.nTable.insertBefore(d,e.nTable.childNodes[0]);a=e.nTHead.getElementsByTagName("tr");f=d.getElementsByTagName("tr");if(e.nTFoot!==null){v=$(e.nTFoot).clone()[0];e.nTable.insertBefore(v,e.nTable.childNodes[1]);c=e.nTFoot.getElementsByTagName("tr");l=v.getElementsByTagName("tr")}if(e.oScroll.sX===""){r.style.width="100%";t.parentNode.style.width="100%"}var T=_fnGetUniqueThs(e,d);for(i=0,s=T.length;i<s;i++){p=_fnVisibleToColumnIndex(e,i);T[i].style.width=e.aoColumns[p].sWidth}if(e.nTFoot!==null){_fnApplyToChildren(function(e){e.style.width=""},l)}if(e.oScroll.bCollapse&&e.oScroll.sY!==""){r.style.height=r.offsetHeight+e.nTHead.offsetHeight+"px"}b=$(e.nTable).outerWidth();if(e.oScroll.sX===""){e.nTable.style.width="100%";if(S&&($("tbody",r).height()>r.offsetHeight||$(r).css("overflow-y")=="scroll")){e.nTable.style.width=_fnStringToCss($(e.nTable).outerWidth()-e.oScroll.iBarWidth)}}else{if(e.oScroll.sXInner!==""){e.nTable.style.width=_fnStringToCss(e.oScroll.sXInner)}else if(b==$(r).width()&&$(r).height()<$(e.nTable).height()){e.nTable.style.width=_fnStringToCss(b-e.oScroll.iBarWidth);if($(e.nTable).outerWidth()>b-e.oScroll.iBarWidth){e.nTable.style.width=_fnStringToCss(b)}}else{e.nTable.style.width=_fnStringToCss(b)}}b=$(e.nTable).outerWidth();_fnApplyToChildren(x,f);_fnApplyToChildren(function(e){g.push(_fnStringToCss($(e).width()))},f);_fnApplyToChildren(function(e,t){e.style.width=g[t]},a);$(f).height(0);if(e.nTFoot!==null){_fnApplyToChildren(x,l);_fnApplyToChildren(function(e){y.push(_fnStringToCss($(e).width()))},l);_fnApplyToChildren(function(e,t){e.style.width=y[t]},c);$(l).height(0)}_fnApplyToChildren(function(e,t){e.innerHTML="";e.style.width=g[t]},f);if(e.nTFoot!==null){_fnApplyToChildren(function(e,t){e.innerHTML="";e.style.width=y[t]},l)}if($(e.nTable).outerWidth()<b){var N=r.scrollHeight>r.offsetHeight||$(r).css("overflow-y")=="scroll"?b+e.oScroll.iBarWidth:b;if(S&&(r.scrollHeight>r.offsetHeight||$(r).css("overflow-y")=="scroll")){e.nTable.style.width=_fnStringToCss(N-e.oScroll.iBarWidth)}r.style.width=_fnStringToCss(N);e.nScrollHead.style.width=_fnStringToCss(N);if(e.nTFoot!==null){e.nScrollFoot.style.width=_fnStringToCss(N)}if(e.oScroll.sX===""){_fnLog(e,1,"The table cannot fit into the current element which will cause column"+" misalignment. The table has been drawn at its minimum possible width.")}else if(e.oScroll.sXInner!==""){_fnLog(e,1,"The table cannot fit into the current element which will cause column"+" misalignment. Increase the sScrollXInner value or remove it to allow automatic"+" calculation")}}else{r.style.width=_fnStringToCss("100%");e.nScrollHead.style.width=_fnStringToCss("100%");if(e.nTFoot!==null){e.nScrollFoot.style.width=_fnStringToCss("100%")}}if(e.oScroll.sY===""){if(S){r.style.height=_fnStringToCss(e.nTable.offsetHeight+e.oScroll.iBarWidth)}}if(e.oScroll.sY!==""&&e.oScroll.bCollapse){r.style.height=_fnStringToCss(e.oScroll.sY);var C=e.oScroll.sX!==""&&e.nTable.offsetWidth>r.offsetWidth?e.oScroll.iBarWidth:0;if(e.nTable.offsetHeight<r.offsetHeight){r.style.height=_fnStringToCss(e.nTable.offsetHeight+C)}}var k=$(e.nTable).outerWidth();n.style.width=_fnStringToCss(k);t.style.width=_fnStringToCss(k);var L=$(e.nTable).height()>r.clientHeight||$(r).css("overflow-y")=="scroll";t.style.paddingRight=L?e.oScroll.iBarWidth+"px":"0px";if(e.nTFoot!==null){E.style.width=_fnStringToCss(k);w.style.width=_fnStringToCss(k);w.style.paddingRight=L?e.oScroll.iBarWidth+"px":"0px"}$(r).scroll();if(e.bSorted||e.bFiltered){r.scrollTop=0}}function _fnApplyToChildren(e,t,n){var r=0,i=0,s=t.length;var o,u;while(i<s){o=t[i].firstChild;u=n?n[i].firstChild:null;while(o){if(o.nodeType===1){if(n){e(o,u,r)}else{e(o,r)}r++}o=o.nextSibling;u=n?u.nextSibling:null}i++}}function _fnConvertToWidth(e,t){if(!e||e===null||e===""){return 0}if(!t){t=document.body}var n;var r=document.createElement("div");r.style.width=_fnStringToCss(e);t.appendChild(r);n=r.offsetWidth;t.removeChild(r);return n}function _fnCalculateColumnWidths(e){var t=e.nTable.offsetWidth;var n=0;var r;var i=0;var s=e.aoColumns.length;var o,u,a,f;var l=$("th",e.nTHead);var c=e.nTable.getAttribute("width");var h=e.nTable.parentNode;for(o=0;o<s;o++){if(e.aoColumns[o].bVisible){i++;if(e.aoColumns[o].sWidth!==null){r=_fnConvertToWidth(e.aoColumns[o].sWidthOrig,h);if(r!==null){e.aoColumns[o].sWidth=_fnStringToCss(r)}n++}}}if(s==l.length&&n===0&&i==s&&e.oScroll.sX===""&&e.oScroll.sY===""){for(o=0;o<e.aoColumns.length;o++){r=$(l[o]).width();if(r!==null){e.aoColumns[o].sWidth=_fnStringToCss(r)}}}else{var p=e.nTable.cloneNode(false),d=e.nTHead.cloneNode(true),v=document.createElement("tbody"),m=document.createElement("tr"),g;p.removeAttribute("id");p.appendChild(d);if(e.nTFoot!==null){p.appendChild(e.nTFoot.cloneNode(true));_fnApplyToChildren(function(e){e.style.width=""},p.getElementsByTagName("tr"))}p.appendChild(v);v.appendChild(m);var y=$("thead th",p);if(y.length===0){y=$("tbody tr:eq(0)>td",p)}var b=_fnGetUniqueThs(e,d);a=0;for(o=0;o<s;o++){var w=e.aoColumns[o];if(w.bVisible&&w.sWidthOrig!==null&&w.sWidthOrig!==""){b[o-a].style.width=_fnStringToCss(w.sWidthOrig)}else if(w.bVisible){b[o-a].style.width=""}else{a++}}for(o=0;o<s;o++){if(e.aoColumns[o].bVisible){var E=_fnGetWidestNode(e,o);if(E!==null){E=E.cloneNode(true);if(e.aoColumns[o].sContentPadding!==""){E.innerHTML+=e.aoColumns[o].sContentPadding}m.appendChild(E)}}}h.appendChild(p);if(e.oScroll.sX!==""&&e.oScroll.sXInner!==""){p.style.width=_fnStringToCss(e.oScroll.sXInner)}else if(e.oScroll.sX!==""){p.style.width="";if($(p).width()<h.offsetWidth){p.style.width=_fnStringToCss(h.offsetWidth)}}else if(e.oScroll.sY!==""){p.style.width=_fnStringToCss(h.offsetWidth)}else if(c){p.style.width=_fnStringToCss(c)}p.style.visibility="hidden";_fnScrollingWidthAdjust(e,p);var S=$("tbody tr:eq(0)",p).children();if(S.length===0){S=_fnGetUniqueThs(e,$("thead",p)[0])}if(e.oScroll.sX!==""){var x=0;a=0;for(o=0;o<e.aoColumns.length;o++){if(e.aoColumns[o].bVisible){if(e.aoColumns[o].sWidthOrig===null){x+=$(S[a]).outerWidth()}else{x+=parseInt(e.aoColumns[o].sWidth.replace("px",""),10)+($(S[a]).outerWidth()-$(S[a]).width())}a++}}p.style.width=_fnStringToCss(x);e.nTable.style.width=_fnStringToCss(x)}a=0;for(o=0;o<e.aoColumns.length;o++){if(e.aoColumns[o].bVisible){f=$(S[a]).width();if(f!==null&&f>0){e.aoColumns[o].sWidth=_fnStringToCss(f)}a++}}var T=$(p).css("width");e.nTable.style.width=T.indexOf("%")!==-1?T:_fnStringToCss($(p).outerWidth());p.parentNode.removeChild(p)}if(c){e.nTable.style.width=_fnStringToCss(c)}}function _fnScrollingWidthAdjust(e,t){if(e.oScroll.sX===""&&e.oScroll.sY!==""){var n=$(t).width();t.style.width=_fnStringToCss($(t).outerWidth()-e.oScroll.iBarWidth)}else if(e.oScroll.sX!==""){t.style.width=_fnStringToCss($(t).outerWidth())}}function _fnGetWidestNode(e,t){var n=_fnGetMaxLenString(e,t);if(n<0){return null}if(e.aoData[n].nTr===null){var r=document.createElement("td");r.innerHTML=_fnGetCellData(e,n,t,"");return r}return _fnGetTdNodes(e,n)[t]}function _fnGetMaxLenString(e,t){var n=-1;var r=-1;for(var i=0;i<e.aoData.length;i++){var s=_fnGetCellData(e,i,t,"display")+"";s=s.replace(/<.*?>/g,"");if(s.length>n){n=s.length;r=i}}return r}function _fnStringToCss(e){if(e===null){return"0px"}if(typeof e=="number"){if(e<0){return"0px"}return e+"px"}var t=e.charCodeAt(e.length-1);if(t<48||t>57){return e}return e+"px"}function _fnScrollBarWidth(){var e=document.createElement("p");var t=e.style;t.width="100%";t.height="200px";t.padding="0px";var n=document.createElement("div");t=n.style;t.position="absolute";t.top="0px";t.left="0px";t.visibility="hidden";t.width="200px";t.height="150px";t.padding="0px";t.overflow="hidden";n.appendChild(e);document.body.appendChild(n);var r=e.offsetWidth;n.style.overflow="scroll";var i=e.offsetWidth;if(r==i){i=n.clientWidth}document.body.removeChild(n);return r-i}function _fnSort(e,t){var n,r,i,s,o,u,a,f,l=[],c=[],h=DataTable.ext.oSort,p=e.aoData,d=e.aoColumns,v=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(e.aaSorting.length!==0||e.aaSortingFixed!==null)){l=e.aaSortingFixed!==null?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(n=0;n<l.length;n++){var m=l[n][0];var g=_fnColumnIndexToVisible(e,m);a=e.aoColumns[m].sSortDataType;if(DataTable.ext.afnSortData[a]){var y=DataTable.ext.afnSortData[a].call(e.oInstance,e,m,g);if(y.length===p.length){for(i=0,s=p.length;i<s;i++){_fnSetCellData(e,i,m,y[i])}}else{_fnLog(e,0,"Returned data sort array (col "+m+") is the wrong length")}}}for(n=0,r=e.aiDisplayMaster.length;n<r;n++){c[e.aiDisplayMaster[n]]=n}var b=l.length;var w,E;for(n=0,r=p.length;n<r;n++){for(i=0;i<b;i++){E=d[l[i][0]].aDataSort;for(o=0,u=E.length;o<u;o++){a=d[E[o]].sType;w=h[(a?a:"string")+"-pre"];p[n]._aSortData[E[o]]=w?w(_fnGetCellData(e,n,E[o],"sort")):_fnGetCellData(e,n,E[o],"sort")}}}e.aiDisplayMaster.sort(function(e,t){var n,r,i,s,o,u;for(n=0;n<b;n++){o=d[l[n][0]].aDataSort;for(r=0,i=o.length;r<i;r++){u=d[o[r]].sType;s=h[(u?u:"string")+"-"+l[n][1]](p[e]._aSortData[o[r]],p[t]._aSortData[o[r]]);if(s!==0){return s}}}return h["numeric-asc"](c[e],c[t])})}if((t===undefined||t)&&!e.oFeatures.bDeferRender){_fnSortingClasses(e)}for(n=0,r=e.aoColumns.length;n<r;n++){var S=d[n].sTitle.replace(/<.*?>/g,"");f=d[n].nTh;f.removeAttribute("aria-sort");f.removeAttribute("aria-label");if(d[n].bSortable){if(l.length>0&&l[0][0]==n){f.setAttribute("aria-sort",l[0][1]=="asc"?"ascending":"descending");var x=d[n].asSorting[l[0][2]+1]?d[n].asSorting[l[0][2]+1]:d[n].asSorting[0];f.setAttribute("aria-label",S+(x=="asc"?v.sSortAscending:v.sSortDescending))}else{f.setAttribute("aria-label",S+(d[n].asSorting[0]=="asc"?v.sSortAscending:v.sSortDescending))}}else{f.setAttribute("aria-label",S)}}e.bSorted=true;$(e.oInstance).trigger("sort",e);if(e.oFeatures.bFilter){_fnFilterComplete(e,e.oPreviousSearch,1)}else{e.aiDisplay=e.aiDisplayMaster.slice();e._iDisplayStart=0;_fnCalculateEnd(e);_fnDraw(e)}}function _fnSortAttachListener(e,t,n,r){_fnBindAction(t,{},function(t){if(e.aoColumns[n].bSortable===false){return}var i=function(){var r,i;if(t.shiftKey){var s=false;for(var o=0;o<e.aaSorting.length;o++){if(e.aaSorting[o][0]==n){s=true;r=e.aaSorting[o][0];i=e.aaSorting[o][2]+1;if(!e.aoColumns[r].asSorting[i]){e.aaSorting.splice(o,1)}else{e.aaSorting[o][1]=e.aoColumns[r].asSorting[i];e.aaSorting[o][2]=i}break}}if(s===false){e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}}else{if(e.aaSorting.length==1&&e.aaSorting[0][0]==n){r=e.aaSorting[0][0];i=e.aaSorting[0][2]+1;if(!e.aoColumns[r].asSorting[i]){i=0}e.aaSorting[0][1]=e.aoColumns[r].asSorting[i];e.aaSorting[0][2]=i}else{e.aaSorting.splice(0,e.aaSorting.length);e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}}_fnSort(e)};if(!e.oFeatures.bProcessing){i()}else{_fnProcessingDisplay(e,true);setTimeout(function(){i();if(!e.oFeatures.bServerSide){_fnProcessingDisplay(e,false)}},0)}if(typeof r=="function"){r(e)}})}function _fnSortingClasses(e){var t,n,r,i,s;var o,u;var a=e.aoColumns.length;var f=e.oClasses;for(t=0;t<a;t++){if(e.aoColumns[t].bSortable){$(e.aoColumns[t].nTh).removeClass(f.sSortAsc+" "+f.sSortDesc+" "+e.aoColumns[t].sSortingClass)}}if(e.aaSortingFixed!==null){o=e.aaSortingFixed.concat(e.aaSorting)}else{o=e.aaSorting.slice()}for(t=0;t<e.aoColumns.length;t++){if(e.aoColumns[t].bSortable){u=e.aoColumns[t].sSortingClass;s=-1;for(r=0;r<o.length;r++){if(o[r][0]==t){u=o[r][1]=="asc"?f.sSortAsc:f.sSortDesc;s=r;break}}$(e.aoColumns[t].nTh).addClass(u);if(e.bJUI){var l=$("span."+f.sSortIcon,e.aoColumns[t].nTh);l.removeClass(f.sSortJUIAsc+" "+f.sSortJUIDesc+" "+f.sSortJUI+" "+f.sSortJUIAscAllowed+" "+f.sSortJUIDescAllowed);var c;if(s==-1){c=e.aoColumns[t].sSortingClassJUI}else if(o[s][1]=="asc"){c=f.sSortJUIAsc}else{c=f.sSortJUIDesc}l.addClass(c)}}else{$(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass)}}u=f.sSortColumn;if(e.oFeatures.bSort&&e.oFeatures.bSortClasses){var h=_fnGetTdNodes(e);var p,d;var v=[];for(t=0;t<a;t++){v.push("")}for(t=0,p=1;t<o.length;t++){d=parseInt(o[t][0],10);v[d]=u+p;if(p<3){p++}}var m=new RegExp(u+"[123]");var g,y,b;for(t=0,n=h.length;t<n;t++){d=t%a;y=h[t].className;b=v[d];g=y.replace(m,b);if(g!=y){h[t].className=$.trim(g)}else if(b.length>0&&y.indexOf(b)==-1){h[t].className=y+" "+b}}}}function _fnSaveState(e){if(!e.oFeatures.bStateSave||e.bDestroying){return}var t,n,r=e.oScroll.bInfinite;var i={iCreate:(new Date).getTime(),iStart:r?0:e._iDisplayStart,iEnd:r?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:$.extend(true,[],e.aaSorting),oSearch:$.extend(true,{},e.oPreviousSearch),aoSearchCols:$.extend(true,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,n=e.aoColumns.length;t<n;t++){i.abVisCols.push(e.aoColumns[t].bVisible)}_fnCallbackFire(e,"aoStateSaveParams","stateSaveParams",[e,i]);e.fnStateSave.call(e.oInstance,e,i)}function _fnLoadState(e,t){if(!e.oFeatures.bStateSave){return}var n=e.fnStateLoad.call(e.oInstance,e);if(!n){return}var r=_fnCallbackFire(e,"aoStateLoadParams","stateLoadParams",[e,n]);if($.inArray(false,r)!==-1){return}e.oLoadedState=$.extend(true,{},n);e._iDisplayStart=n.iStart;e.iInitDisplayStart=n.iStart;e._iDisplayEnd=n.iEnd;e._iDisplayLength=n.iLength;e.aaSorting=n.aaSorting.slice();e.saved_aaSorting=n.aaSorting.slice();$.extend(e.oPreviousSearch,n.oSearch);$.extend(true,e.aoPreSearchCols,n.aoSearchCols);t.saved_aoColumns=[];for(var i=0;i<n.abVisCols.length;i++){t.saved_aoColumns[i]={};t.saved_aoColumns[i].bVisible=n.abVisCols[i]}_fnCallbackFire(e,"aoStateLoaded","stateLoaded",[e,n])}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+iSecs*1e3);var aParts=window.location.pathname.split("/");var sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase();var sFullCookie,oData;if(fnCallback!==null){oData=typeof $.parseJSON==="function"?$.parseJSON(sValue):eval("("+sValue+")");sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")}else{sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/"}var aCookies=document.cookie.split(";"),iNewCookieLen=sFullCookie.split(";")[0].length,aOldCookies=[];if(iNewCookieLen+document.cookie.length+10>4096){for(var i=0,iLen=aCookies.length;i<iLen;i++){if(aCookies[i].indexOf(sBaseName)!=-1){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")");if(oData&&oData.iCreate){aOldCookies.push({name:aSplitCookie[0],time:oData.iCreate})}}catch(e){}}}aOldCookies.sort(function(e,t){return t.time-e.time});while(iNewCookieLen+document.cookie.length+10>4096){if(aOldCookies.length===0){return}var old=aOldCookies.pop();document.cookie=old.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(e){var t=window.location.pathname.split("/"),n=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",r=document.cookie.split(";");for(var i=0;i<r.length;i++){var s=r[i];while(s.charAt(0)==" "){s=s.substring(1,s.length)}if(s.indexOf(n)===0){return decodeURIComponent(s.substring(n.length,s.length))}}return null}function _fnSettingsFromNode(e){for(var t=0;t<DataTable.settings.length;t++){if(DataTable.settings[t].nTable===e){return DataTable.settings[t]}}return null}function _fnGetTrNodes(e){var t=[];var n=e.aoData;for(var r=0,i=n.length;r<i;r++){if(n[r].nTr!==null){t.push(n[r].nTr)}}return t}function _fnGetTdNodes(e,t){var n=[];var r;var i,s;var o,u=e.aoData.length,a,f,l,c,h=0,p=u;if(t!==undefined){h=t;p=t+1}for(o=h;o<p;o++){l=e.aoData[o];if(l.nTr!==null){i=[];s=l.nTr.firstChild;while(s){c=s.nodeName.toLowerCase();if(c=="td"||c=="th"){i.push(s)}s=s.nextSibling}r=0;for(a=0,f=e.aoColumns.length;a<f;a++){if(e.aoColumns[a].bVisible){n.push(i[a-r])}else{n.push(l._anHidden[a]);r++}}}}return n}function _fnLog(e,t,n){var r=e===null?"DataTables warning: "+n:"DataTables warning (table id = '"+e.sTableId+"'): "+n;if(t===0){if(DataTable.ext.sErrMode=="alert"){alert(r)}else{throw new Error(r)}return}else if(window.console&&console.log){console.log(r)}}function _fnMap(e,t,n,r){if(r===undefined){r=n}if(t[n]!==undefined){e[r]=t[n]}}function _fnExtend(e,t){var n;for(var r in t){if(t.hasOwnProperty(r)){n=t[r];if(typeof oInit[r]==="object"&&n!==null&&$.isArray(n)===false){$.extend(true,e[r],n)}else{e[r]=n}}}return e}function _fnBindAction(e,t,n){$(e).bind("click.DT",t,function(t){e.blur();n(t)}).bind("keypress.DT",t,function(e){if(e.which===13){n(e)}}).bind("selectstart.DT",function(){return false})}function _fnCallbackReg(e,t,n,r){if(n){e[t].push({fn:n,sName:r})}}function _fnCallbackFire(e,t,n,r){var i=e[t];var s=[];for(var o=i.length-1;o>=0;o--){s.push(i[o].fn.apply(e.oInstance,r))}if(n!==null){$(e.oInstance).trigger(n,r)}return s}function _fnBrowserDetect(e){var t=$('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden">'+'<div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;">'+'<div id="DT_BrowserTest" style="width:100%; height:10px;"></div>'+"</div>"+"</div>")[0];document.body.appendChild(t);e.oBrowser.bScrollOversize=$("#DT_BrowserTest",t)[0].offsetWidth===100?true:false;document.body.removeChild(t)}function _fnExternApiFunc(e){return function(){var t=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[e].apply(this,t)}}var __reArray=/\[.*?\]$/;var _fnJsonString=window.JSON?JSON.stringify:function(e){var t=typeof e;if(t!=="object"||e===null){if(t==="string"){e='"'+e+'"'}return e+""}var n,r,i=[],s=$.isArray(e);for(n in e){r=e[n];t=typeof r;if(t==="string"){r='"'+r+'"'}else if(t==="object"&&r!==null){r=_fnJsonString(r)}i.push((s?"":'"'+n+'":')+r)}return(s?"[":"{")+i+(s?"]":"}")};this.$=function(e,t){var n,r,i=[],s;var o=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var u=o.aoData;var a=o.aiDisplay;var f=o.aiDisplayMaster;if(!t){t={}}t=$.extend({},{filter:"none",order:"current",page:"all"},t);if(t.page=="current"){for(n=o._iDisplayStart,r=o.fnDisplayEnd();n<r;n++){s=u[a[n]].nTr;if(s){i.push(s)}}}else if(t.order=="current"&&t.filter=="none"){for(n=0,r=f.length;n<r;n++){s=u[f[n]].nTr;if(s){i.push(s)}}}else if(t.order=="current"&&t.filter=="applied"){for(n=0,r=a.length;n<r;n++){s=u[a[n]].nTr;if(s){i.push(s)}}}else if(t.order=="original"&&t.filter=="none"){for(n=0,r=u.length;n<r;n++){s=u[n].nTr;if(s){i.push(s)}}}else if(t.order=="original"&&t.filter=="applied"){for(n=0,r=u.length;n<r;n++){s=u[n].nTr;if($.inArray(n,a)!==-1&&s){i.push(s)}}}else{_fnLog(o,1,"Unknown selection options")}var l=$(i);var c=l.filter(e);var h=l.find(e);return $([].concat($.makeArray(c),$.makeArray(h)))};this._=function(e,t){var n=[];var r,i,s;var o=this.$(e,t);for(r=0,i=o.length;r<i;r++){n.push(this.fnGetData(o[r]))}return n};this.fnAddData=function(e,t){if(e.length===0){return[]}var n=[];var r;var i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(typeof e[0]==="object"&&e[0]!==null){for(var s=0;s<e.length;s++){r=_fnAddData(i,e[s]);if(r==-1){return n}n.push(r)}}else{r=_fnAddData(i,e);if(r==-1){return n}n.push(r)}i.aiDisplay=i.aiDisplayMaster.slice();if(t===undefined||t){_fnReDraw(i)}return n};this.fnAdjustColumnSizing=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(t);if(e===undefined||e){this.fnDraw(false)}else if(t.oScroll.sX!==""||t.oScroll.sY!==""){this.oApi._fnScrollDraw(t)}};this.fnClearTable=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(t);if(e===undefined||e){_fnDraw(t)}};this.fnClose=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);for(var n=0;n<t.aoOpenRows.length;n++){if(t.aoOpenRows[n].nParent==e){var r=t.aoOpenRows[n].nTr.parentNode;if(r){r.removeChild(t.aoOpenRows[n].nTr)}t.aoOpenRows.splice(n,1);return 0}}return 1};this.fnDeleteRow=function(e,t,n){var r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var i,s,o;o=typeof e==="object"?_fnNodeToDataIndex(r,e):e;var u=r.aoData.splice(o,1);for(i=0,s=r.aoData.length;i<s;i++){if(r.aoData[i].nTr!==null){r.aoData[i].nTr._DT_RowIndex=i}}var a=$.inArray(o,r.aiDisplay);r.asDataSearch.splice(a,1);_fnDeleteIndex(r.aiDisplayMaster,o);_fnDeleteIndex(r.aiDisplay,o);if(typeof t==="function"){t.call(this,r,u)}if(r._iDisplayStart>=r.fnRecordsDisplay()){r._iDisplayStart-=r._iDisplayLength;if(r._iDisplayStart<0){r._iDisplayStart=0}}if(n===undefined||n){_fnCalculateEnd(r);_fnDraw(r)}return u};this.fnDestroy=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var n=t.nTableWrapper.parentNode;var r=t.nTBody;var i,s;e=e===undefined?false:e;t.bDestroying=true;_fnCallbackFire(t,"aoDestroyCallback","destroy",[t]);if(!e){for(i=0,s=t.aoColumns.length;i<s;i++){if(t.aoColumns[i].bVisible===false){this.fnSetColumnVis(i,true)}}}$(t.nTableWrapper).find("*").andSelf().unbind(".DT");$("tbody>tr>td."+t.oClasses.sRowEmpty,t.nTable).parent().remove();if(t.nTable!=t.nTHead.parentNode){$(t.nTable).children("thead").remove();t.nTable.appendChild(t.nTHead)}if(t.nTFoot&&t.nTable!=t.nTFoot.parentNode){$(t.nTable).children("tfoot").remove();t.nTable.appendChild(t.nTFoot)}t.nTable.parentNode.removeChild(t.nTable);$(t.nTableWrapper).remove();t.aaSorting=[];t.aaSortingFixed=[];_fnSortingClasses(t);$(_fnGetTrNodes(t)).removeClass(t.asStripeClasses.join(" "));$("th, td",t.nTHead).removeClass([t.oClasses.sSortable,t.oClasses.sSortableAsc,t.oClasses.sSortableDesc,t.oClasses.sSortableNone].join(" "));if(t.bJUI){$("th span."+t.oClasses.sSortIcon+", td span."+t.oClasses.sSortIcon,t.nTHead).remove();$("th, td",t.nTHead).each(function(){var e=$("div."+t.oClasses.sSortJUIWrapper,this);var n=e.contents();$(this).append(n);e.remove()})}if(!e&&t.nTableReinsertBefore){n.insertBefore(t.nTable,t.nTableReinsertBefore)}else if(!e){n.appendChild(t.nTable)}for(i=0,s=t.aoData.length;i<s;i++){if(t.aoData[i].nTr!==null){r.appendChild(t.aoData[i].nTr)}}if(t.oFeatures.bAutoWidth===true){t.nTable.style.width=_fnStringToCss(t.sDestroyWidth)}s=t.asDestroyStripes.length;if(s){var o=$(r).children("tr");for(i=0;i<s;i++){o.filter(":nth-child("+s+"n + "+i+")").addClass(t.asDestroyStripes[i])}}for(i=0,s=DataTable.settings.length;i<s;i++){if(DataTable.settings[i]==t){DataTable.settings.splice(i,1)}}t=null;oInit=null};this.fnDraw=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(e===false){_fnCalculateEnd(t);_fnDraw(t)}else{_fnReDraw(t)}};this.fnFilter=function(e,t,n,r,i,s){var o=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(!o.oFeatures.bFilter){return}if(n===undefined||n===null){n=false}if(r===undefined||r===null){r=true}if(i===undefined||i===null){i=true}if(s===undefined||s===null){s=true}if(t===undefined||t===null){_fnFilterComplete(o,{sSearch:e+"",bRegex:n,bSmart:r,bCaseInsensitive:s},1);if(i&&o.aanFeatures.f){var u=o.aanFeatures.f;for(var a=0,f=u.length;a<f;a++){try{if(u[a]._DT_Input!=document.activeElement){$(u[a]._DT_Input).val(e)}}catch(l){$(u[a]._DT_Input).val(e)}}}}else{$.extend(o.aoPreSearchCols[t],{sSearch:e+"",bRegex:n,bSmart:r,bCaseInsensitive:s});_fnFilterComplete(o,o.oPreviousSearch,1)}};this.fnGetData=function(e,t){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(e!==undefined){var r=e;if(typeof e==="object"){var i=e.nodeName.toLowerCase();if(i==="tr"){r=_fnNodeToDataIndex(n,e)}else if(i==="td"){r=_fnNodeToDataIndex(n,e.parentNode);t=_fnNodeToColumnIndex(n,r,e)}}if(t!==undefined){return _fnGetCellData(n,r,t,"")}return n.aoData[r]!==undefined?n.aoData[r]._aData:null}return _fnGetDataMaster(n)};this.fnGetNodes=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(e!==undefined){return t.aoData[e]!==undefined?t.aoData[e].nTr:null}return _fnGetTrNodes(t)};this.fnGetPosition=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var n=e.nodeName.toUpperCase();if(n=="TR"){return _fnNodeToDataIndex(t,e)}else if(n=="TD"||n=="TH"){var r=_fnNodeToDataIndex(t,e.parentNode);var i=_fnNodeToColumnIndex(t,r,e);return[r,_fnColumnIndexToVisible(t,i),i]}return null};this.fnIsOpen=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var n=t.aoOpenRows;for(var r=0;r<t.aoOpenRows.length;r++){if(t.aoOpenRows[r].nParent==e){return true}}return false};this.fnOpen=function(e,t,n){var r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var i=_fnGetTrNodes(r);if($.inArray(e,i)===-1){return}this.fnClose(e);var s=document.createElement("tr");var o=document.createElement("td");s.appendChild(o);o.className=n;o.colSpan=_fnVisbleColumns(r);if(typeof t==="string"){o.innerHTML=t}else{$(o).html(t)}var u=$("tr",r.nTBody);if($.inArray(e,u)!=-1){$(s).insertAfter(e)}r.aoOpenRows.push({nTr:s,nParent:e});return s};this.fnPageChange=function(e,t){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(n,e);_fnCalculateEnd(n);if(t===undefined||t){_fnDraw(n)}};this.fnSetColumnVis=function(e,t,n){var r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var i,s;var o=r.aoColumns;var u=r.aoData;var a,f,l;if(o[e].bVisible==t){return}if(t){var c=0;for(i=0;i<e;i++){if(o[i].bVisible){c++}}f=c>=_fnVisbleColumns(r);if(!f){for(i=e;i<o.length;i++){if(o[i].bVisible){l=i;break}}}for(i=0,s=u.length;i<s;i++){if(u[i].nTr!==null){if(f){u[i].nTr.appendChild(u[i]._anHidden[e])}else{u[i].nTr.insertBefore(u[i]._anHidden[e],_fnGetTdNodes(r,i)[l])}}}}else{for(i=0,s=u.length;i<s;i++){if(u[i].nTr!==null){a=_fnGetTdNodes(r,i)[e];u[i]._anHidden[e]=a;a.parentNode.removeChild(a)}}}o[e].bVisible=t;_fnDrawHead(r,r.aoHeader);if(r.nTFoot){_fnDrawHead(r,r.aoFooter)}for(i=0,s=r.aoOpenRows.length;i<s;i++){r.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(r)}if(n===undefined||n){_fnAdjustColumnSizing(r);_fnDraw(r)}_fnSaveState(r)};this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])};this.fnSort=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);t.aaSorting=e;_fnSort(t)};this.fnSortListener=function(e,t,n){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),e,t,n)};this.fnUpdate=function(e,t,n,r,i){var s=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);var o,u,a;var f=typeof t==="object"?_fnNodeToDataIndex(s,t):t;if($.isArray(e)&&n===undefined){s.aoData[f]._aData=e.slice();for(o=0;o<s.aoColumns.length;o++){this.fnUpdate(_fnGetCellData(s,f,o),f,o,false,false)}}else if($.isPlainObject(e)&&n===undefined){s.aoData[f]._aData=$.extend(true,{},e);for(o=0;o<s.aoColumns.length;o++){this.fnUpdate(_fnGetCellData(s,f,o),f,o,false,false)}}else{_fnSetCellData(s,f,n,e);a=_fnGetCellData(s,f,n,"display");var l=s.aoColumns[n];if(l.fnRender!==null){a=_fnRender(s,f,n);if(l.bUseRendered){_fnSetCellData(s,f,n,a)}}if(s.aoData[f].nTr!==null){_fnGetTdNodes(s,f)[n].innerHTML=a}}var c=$.inArray(f,s.aiDisplay);s.asDataSearch[c]=_fnBuildSearchRow(s,_fnGetRowData(s,f,"filter",_fnGetColumns(s,"bSearchable")));if(i===undefined||i){_fnAdjustColumnSizing(s)}if(r===undefined||r){_fnReDraw(s)}return 0};this.fnVersionCheck=DataTable.ext.fnVersionCheck;this.oApi={_fnExternApiFunc:_fnExternApiFunc,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLanguageCompat:_fnLanguageCompat,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAddData:_fnAddData,_fnCreateTr:_fnCreateTr,_fnGatherData:_fnGatherData,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnServerParams:_fnServerParams,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnBuildSearchArray:_fnBuildSearchArray,_fnBuildSearchRow:_fnBuildSearchRow,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnDataToSearch:_fnDataToSearch,_fnSort:_fnSort,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnVisbleColumns:_fnVisbleColumns,_fnCalculateEnd:_fnCalculateEnd,_fnConvertToWidth:_fnConvertToWidth,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnScrollingWidthAdjust:_fnScrollingWidthAdjust,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnDetectType:_fnDetectType,_fnSettingsFromNode:_fnSettingsFromNode,_fnGetDataMaster:_fnGetDataMaster,_fnGetTrNodes:_fnGetTrNodes,_fnGetTdNodes:_fnGetTdNodes,_fnEscapeRegex:_fnEscapeRegex,_fnDeleteIndex:_fnDeleteIndex,_fnReOrderIndex:_fnReOrderIndex,_fnColumnOrdering:_fnColumnOrdering,_fnLog:_fnLog,_fnClearTable:_fnClearTable,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnCreateCookie:_fnCreateCookie,_fnReadCookie:_fnReadCookie,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnScrollBarWidth:_fnScrollBarWidth,_fnApplyToChildren:_fnApplyToChildren,_fnMap:_fnMap,_fnGetRowData:_fnGetRowData,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnBindAction:_fnBindAction,_fnExtend:_fnExtend,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnJsonString:_fnJsonString,_fnRender:_fnRender,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnInfoMacros:_fnInfoMacros,_fnBrowserDetect:_fnBrowserDetect,_fnGetColumns:_fnGetColumns};$.extend(DataTable.ext.oApi,this.oApi);for(var sFunc in DataTable.ext.oApi){if(sFunc){this[sFunc]=_fnExternApiFunc(sFunc)}}var _that=this;this.each(function(){var e=0,t,n,r,i,s;var o=this.getAttribute("id");var u=false;var a=false;if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Attempted to initialise DataTables on a node which is not a "+"table: "+this.nodeName);return}for(e=0,t=DataTable.settings.length;e<t;e++){if(DataTable.settings[e].nTable==this){if(oInit===undefined||oInit.bRetrieve){return DataTable.settings[e].oInstance}else if(oInit.bDestroy){DataTable.settings[e].oInstance.fnDestroy();break}else{_fnLog(DataTable.settings[e],0,"Cannot reinitialise DataTable.\n\n"+"To retrieve the DataTables object for this table, pass no arguments or see "+"the docs for bRetrieve and bDestroy");return}}if(DataTable.settings[e].sTableId==this.id){DataTable.settings.splice(e,1);break}}if(o===null||o===""){o="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++;this.id=o}var f=$.extend(true,{},DataTable.models.oSettings,{nTable:this,oApi:_that.oApi,oInit:oInit,sDestroyWidth:$(this).width(),sInstance:o,sTableId:o});DataTable.settings.push(f);f.oInstance=_that.length===1?_that:$(this).dataTable();if(!oInit){oInit={}}if(oInit.oLanguage){_fnLanguageCompat(oInit.oLanguage)}oInit=_fnExtend($.extend(true,{},DataTable.defaults),oInit);_fnMap(f.oFeatures,oInit,"bPaginate");_fnMap(f.oFeatures,oInit,"bLengthChange");_fnMap(f.oFeatures,oInit,"bFilter");_fnMap(f.oFeatures,oInit,"bSort");_fnMap(f.oFeatures,oInit,"bInfo");_fnMap(f.oFeatures,oInit,"bProcessing");_fnMap(f.oFeatures,oInit,"bAutoWidth");_fnMap(f.oFeatures,oInit,"bSortClasses");_fnMap(f.oFeatures,oInit,"bServerSide");_fnMap(f.oFeatures,oInit,"bDeferRender");_fnMap(f.oScroll,oInit,"sScrollX","sX");_fnMap(f.oScroll,oInit,"sScrollXInner","sXInner");_fnMap(f.oScroll,oInit,"sScrollY","sY");_fnMap(f.oScroll,oInit,"bScrollCollapse","bCollapse");_fnMap(f.oScroll,oInit,"bScrollInfinite","bInfinite");_fnMap(f.oScroll,oInit,"iScrollLoadGap","iLoadGap");_fnMap(f.oScroll,oInit,"bScrollAutoCss","bAutoCss");_fnMap(f,oInit,"asStripeClasses");_fnMap(f,oInit,"asStripClasses","asStripeClasses");_fnMap(f,oInit,"fnServerData");_fnMap(f,oInit,"fnFormatNumber");_fnMap(f,oInit,"sServerMethod");_fnMap(f,oInit,"aaSorting");_fnMap(f,oInit,"aaSortingFixed");_fnMap(f,oInit,"aLengthMenu");_fnMap(f,oInit,"sPaginationType");_fnMap(f,oInit,"sAjaxSource");_fnMap(f,oInit,"sAjaxDataProp");_fnMap(f,oInit,"iCookieDuration");_fnMap(f,oInit,"sCookiePrefix");_fnMap(f,oInit,"sDom");_fnMap(f,oInit,"bSortCellsTop");_fnMap(f,oInit,"iTabIndex");_fnMap(f,oInit,"oSearch","oPreviousSearch");_fnMap(f,oInit,"aoSearchCols","aoPreSearchCols");_fnMap(f,oInit,"iDisplayLength","_iDisplayLength");_fnMap(f,oInit,"bJQueryUI","bJUI");_fnMap(f,oInit,"fnCookieCallback");_fnMap(f,oInit,"fnStateLoad");_fnMap(f,oInit,"fnStateSave");_fnMap(f.oLanguage,oInit,"fnInfoCallback");_fnCallbackReg(f,"aoDrawCallback",oInit.fnDrawCallback,"user");_fnCallbackReg(f,"aoServerParams",oInit.fnServerParams,"user");_fnCallbackReg(f,"aoStateSaveParams",oInit.fnStateSaveParams,"user");_fnCallbackReg(f,"aoStateLoadParams",oInit.fnStateLoadParams,"user");_fnCallbackReg(f,"aoStateLoaded",oInit.fnStateLoaded,"user");_fnCallbackReg(f,"aoRowCallback",oInit.fnRowCallback,"user");_fnCallbackReg(f,"aoRowCreatedCallback",oInit.fnCreatedRow,"user");_fnCallbackReg(f,"aoHeaderCallback",oInit.fnHeaderCallback,"user");_fnCallbackReg(f,"aoFooterCallback",oInit.fnFooterCallback,"user");_fnCallbackReg(f,"aoInitComplete",oInit.fnInitComplete,"user");_fnCallbackReg(f,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user");if(f.oFeatures.bServerSide&&f.oFeatures.bSort&&f.oFeatures.bSortClasses){_fnCallbackReg(f,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes")}else if(f.oFeatures.bDeferRender){_fnCallbackReg(f,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes")}if(oInit.bJQueryUI){$.extend(f.oClasses,DataTable.ext.oJUIClasses);if(oInit.sDom===DataTable.defaults.sDom&&DataTable.defaults.sDom==="lfrtip"){f.sDom='<"H"lfr>t<"F"ip>'}}else{$.extend(f.oClasses,DataTable.ext.oStdClasses)}$(this).addClass(f.oClasses.sTable);if(f.oScroll.sX!==""||f.oScroll.sY!==""){f.oScroll.iBarWidth=_fnScrollBarWidth()}if(f.iInitDisplayStart===undefined){f.iInitDisplayStart=oInit.iDisplayStart;f._iDisplayStart=oInit.iDisplayStart}if(oInit.bStateSave){f.oFeatures.bStateSave=true;_fnLoadState(f,oInit);_fnCallbackReg(f,"aoDrawCallback",_fnSaveState,"state_save")}if(oInit.iDeferLoading!==null){f.bDeferLoading=true;var l=$.isArray(oInit.iDeferLoading);f._iRecordsDisplay=l?oInit.iDeferLoading[0]:oInit.iDeferLoading;f._iRecordsTotal=l?oInit.iDeferLoading[1]:oInit.iDeferLoading}if(oInit.aaData!==null){a=true}if(oInit.oLanguage.sUrl!==""){f.oLanguage.sUrl=oInit.oLanguage.sUrl;$.getJSON(f.oLanguage.sUrl,null,function(e){_fnLanguageCompat(e);$.extend(true,f.oLanguage,oInit.oLanguage,e);_fnInitialise(f)});u=true}else{$.extend(true,f.oLanguage,oInit.oLanguage)}if(oInit.asStripeClasses===null){f.asStripeClasses=[f.oClasses.sStripeOdd,f.oClasses.sStripeEven]}t=f.asStripeClasses.length;f.asDestroyStripes=[];if(t){var c=false;var h=$(this).children("tbody").children("tr:lt("+t+")");for(e=0;e<t;e++){if(h.hasClass(f.asStripeClasses[e])){c=true;f.asDestroyStripes.push(f.asStripeClasses[e])}}if(c){h.removeClass(f.asStripeClasses.join(" "))}}var p=[];var d;var v=this.getElementsByTagName("thead");if(v.length!==0){_fnDetectHeader(f.aoHeader,v[0]);p=_fnGetUniqueThs(f)}if(oInit.aoColumns===null){d=[];for(e=0,t=p.length;e<t;e++){d.push(null)}}else{d=oInit.aoColumns}for(e=0,t=d.length;e<t;e++){if(oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==t){if(d[e]===null){d[e]={}}d[e].bVisible=oInit.saved_aoColumns[e].bVisible}_fnAddColumn(f,p?p[e]:null)}_fnApplyColumnDefs(f,oInit.aoColumnDefs,d,function(e,t){_fnColumnOptions(f,e,t)});for(e=0,t=f.aaSorting.length;e<t;e++){if(f.aaSorting[e][0]>=f.aoColumns.length){f.aaSorting[e][0]=0}var m=f.aoColumns[f.aaSorting[e][0]];if(f.aaSorting[e][2]===undefined){f.aaSorting[e][2]=0}if(oInit.aaSorting===undefined&&f.saved_aaSorting===undefined){f.aaSorting[e][1]=m.asSorting[0]}for(n=0,r=m.asSorting.length;n<r;n++){if(f.aaSorting[e][1]==m.asSorting[n]){f.aaSorting[e][2]=n;break}}}_fnSortingClasses(f);_fnBrowserDetect(f);var g=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")});var y=$(this).children("thead");if(y.length===0){y=[document.createElement("thead")];this.appendChild(y[0])}f.nTHead=y[0];var b=$(this).children("tbody");if(b.length===0){b=[document.createElement("tbody")];this.appendChild(b[0])}f.nTBody=b[0];f.nTBody.setAttribute("role","alert");f.nTBody.setAttribute("aria-live","polite");f.nTBody.setAttribute("aria-relevant","all");var w=$(this).children("tfoot");if(w.length===0&&g.length>0&&(f.oScroll.sX!==""||f.oScroll.sY!=="")){w=[document.createElement("tfoot")];this.appendChild(w[0])}if(w.length>0){f.nTFoot=w[0];_fnDetectHeader(f.aoFooter,f.nTFoot)}if(a){for(e=0;e<oInit.aaData.length;e++){_fnAddData(f,oInit.aaData[e])}}else{_fnGatherData(f)}f.aiDisplay=f.aiDisplayMaster.slice();f.bInitialised=true;if(u===false){_fnInitialise(f)}});_that=null;return this};DataTable.fnVersionCheck=function(e){var t=function(e,t){while(e.length<t){e+="0"}return e};var n=DataTable.ext.sVersion.split(".");var r=e.split(".");var i="",s="";for(var o=0,u=r.length;o<u;o++){i+=t(n[o],3);s+=t(r[o],3)}return parseInt(i,10)>=parseInt(s,10)};DataTable.fnIsDataTable=function(e){var t=DataTable.settings;for(var n=0;n<t.length;n++){if(t[n].nTable===e||t[n].nScrollHead===e||t[n].nScrollFoot===e){return true}}return false};DataTable.fnTables=function(e){var t=[];jQuery.each(DataTable.settings,function(n,r){if(!e||e===true&&$(r.nTable).is(":visible")){t.push(r.nTable)}});return t};DataTable.version="1.9.4";DataTable.settings=[];DataTable.models={};DataTable.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:DataTable.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}};DataTable.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true};DataTable.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""};DataTable.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:true,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bJQueryUI:false,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollAutoCss:true,bScrollCollapse:false,bScrollInfinite:false,bServerSide:false,bSort:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(e<1e3){return e}var t=e+"",n=t.split(""),r="",i=t.length;for(var s=0;s<i;s++){if(s%3===0&&s!==0){r=this.oLanguage.sInfoThousands+r}r=n[i-s-1]+r}return r},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,n,r){r.jqXHR=$.ajax({url:e,data:t,success:function(e){if(e.sError){r.oApi._fnLog(r,0,e.sError)}$(r.oInstance).trigger("xhr",[r,e]);n(e)},dataType:"json",cache:false,type:r.sServerMethod,error:function(e,t,n){if(t=="parsererror"){r.oApi._fnLog(r,0,"DataTables warning: JSON data from "+"server could not be parsed. This is caused by a JSON formatting error.")}}})},fnServerParams:null,fnStateLoad:function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance);var oData;try{oData=typeof $.parseJSON==="function"?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"};DataTable.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bUseRendered:true,bVisible:true,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:true,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsTotal,10)}else{return this.aiDisplayMaster.length}},fnRecordsDisplay:function(){if(this.oFeatures.bServerSide){return parseInt(this._iRecordsDisplay,10)}else{return this.aiDisplay.length}},fnDisplayEnd:function(){if(this.oFeatures.bServerSide){if(this.oFeatures.bPaginate===false||this._iDisplayLength==-1){return this._iDisplayStart+this.aiDisplay.length}else{return Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay)}}else{return this._iDisplayEnd}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null};DataTable.ext=$.extend(true,{},DataTable.models.ext);$.extend(DataTable.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""});$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi "+"ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"});$.extend(DataTable.ext.oPagination,{two_button:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate;var i=e.oClasses;var s=function(t){if(e.oApi._fnPageChange(e,t.data.action)){n(e)}};var o=!e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+r.sPrevious+"</a>"+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+r.sNext+"</a>":'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a>'+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>';$(t).append(o);var u=$("a",t);var a=u[0],f=u[1];e.oApi._fnBindAction(a,{action:"previous"},s);e.oApi._fnBindAction(f,{action:"next"},s);if(!e.aanFeatures.p){t.id=e.sTableId+"_paginate";a.id=e.sTableId+"_previous";f.id=e.sTableId+"_next";a.setAttribute("aria-controls",e.sTableId);f.setAttribute("aria-controls",e.sTableId)}},fnUpdate:function(e,t){if(!e.aanFeatures.p){return}var n=e.oClasses;var r=e.aanFeatures.p;var i;for(var s=0,o=r.length;s<o;s++){i=r[s].firstChild;if(i){i.className=e._iDisplayStart===0?n.sPagePrevDisabled:n.sPagePrevEnabled;i=i.nextSibling;i.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?n.sPageNextDisabled:n.sPageNextEnabled}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate;var i=e.oClasses;var s=function(t){if(e.oApi._fnPageChange(e,t.data.action)){n(e)}};$(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPageFirst+'">'+r.sFirst+"</a>"+'<a  tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPagePrevious+'">'+r.sPrevious+"</a>"+"<span></span>"+'<a tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPageNext+'">'+r.sNext+"</a>"+'<a tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPageLast+'">'+r.sLast+"</a>");var o=$("a",t);var u=o[0],a=o[1],f=o[2],l=o[3];e.oApi._fnBindAction(u,{action:"first"},s);e.oApi._fnBindAction(a,{action:"previous"},s);e.oApi._fnBindAction(f,{action:"next"},s);e.oApi._fnBindAction(l,{action:"last"},s);if(!e.aanFeatures.p){t.id=e.sTableId+"_paginate";u.id=e.sTableId+"_first";a.id=e.sTableId+"_previous";f.id=e.sTableId+"_next";l.id=e.sTableId+"_last"}},fnUpdate:function(e,t){if(!e.aanFeatures.p){return}var n=DataTable.ext.oPagination.iFullNumbersShowPages;var r=Math.floor(n/2);var i=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength);var s=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1;var o="";var u,a,f,l;var c=e.oClasses;var h,p,d,v;var m=e.aanFeatures.p;var g=function(n){e.oApi._fnBindAction(this,{page:n+u-1},function(n){e.oApi._fnPageChange(e,n.data.page);t(e);n.preventDefault()})};if(e._iDisplayLength===-1){u=1;a=1;s=1}else if(i<n){u=1;a=i}else if(s<=r){u=1;a=n}else if(s>=i-r){u=i-n+1;a=i}else{u=s-Math.ceil(n/2)+1;a=u+n-1}for(f=u;f<=a;f++){o+=s!==f?'<a tabindex="'+e.iTabIndex+'" class="'+c.sPageButton+'">'+e.fnFormatNumber(f)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+c.sPageButtonActive+'">'+e.fnFormatNumber(f)+"</a>"}for(f=0,l=m.length;f<l;f++){v=m[f];if(!v.hasChildNodes()){continue}$("span:eq(0)",v).html(o).children("a").each(g);h=v.getElementsByTagName("a");p=[h[0],h[1],h[h.length-2],h[h.length-1]];$(p).removeClass(c.sPageButton+" "+c.sPageButtonActive+" "+c.sPageButtonStaticDisabled);$([p[0],p[1]]).addClass(s==1?c.sPageButtonStaticDisabled:c.sPageButton);$([p[2],p[3]]).addClass(i===0||s===i||e._iDisplayLength===-1?c.sPageButtonStaticDisabled:c.sPageButton)}}}});$.extend(DataTable.ext.oSort,{"string-pre":function(e){if(typeof e!="string"){e=e!==null&&e.toString?e.toString():""}return e.toLowerCase()},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return e<t?-1:e>t?1:0},"html-desc":function(e,t){return e<t?1:e>t?-1:0},"date-pre":function(e){var t=Date.parse(e);if(isNaN(t)||t===""){t=Date.parse("01/01/1970 00:00:00")}return t},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return e=="-"||e===""?0:e*1},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}});$.extend(DataTable.ext.aTypes,[function(e){if(typeof e==="number"){return"numeric"}else if(typeof e!=="string"){return null}var t="0123456789-";var n="0123456789.";var r;var i=false;r=e.charAt(0);if(t.indexOf(r)==-1){return null}for(var s=1;s<e.length;s++){r=e.charAt(s);if(n.indexOf(r)==-1){return null}if(r=="."){if(i){return null}i=true}}return"numeric"},function(e){var t=Date.parse(e);if(t!==null&&!isNaN(t)||typeof e==="string"&&e.length===0){return"date"}return null},function(e){if(typeof e==="string"&&e.indexOf("<")!=-1&&e.indexOf(">")!=-1){return"html"}return null}]);$.fn.DataTable=DataTable;$.fn.dataTable=DataTable;$.fn.dataTableSettings=DataTable.settings;$.fn.dataTableExt=DataTable.ext})})(window,document);(function(){function e(t,n,r){var i=e.resolve(t);if(null==i){r=r||t;n=n||"root";var s=new Error('Failed to require "'+r+'" from "'+n+'"');s.path=r;s.parent=n;s.require=true;throw s}var o=e.modules[i];if(!o.exports){o.exports={};o.client=o.component=true;o.call(this,o.exports,e.relative(i),o)}return o.exports}e.modules={};e.aliases={};e.resolve=function(t){if(t.charAt(0)==="/")t=t.slice(1);var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"];for(var r=0;r<n.length;r++){var t=n[r];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}};e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/");t=t.split("/");for(var r=0;r<t.length;++r){if(".."==t[r]){e.pop()}else if("."!=t[r]&&""!=t[r]){n.push(t[r])}}return e.concat(n).join("/")};e.register=function(t,n){e.modules[t]=n};e.alias=function(t,n){if(!e.modules.hasOwnProperty(t)){throw new Error('Failed to alias "'+t+'", it does not exist')}e.aliases[n]=t};e.relative=function(t){function r(e,t){var n=e.length;while(n--){if(e[n]===t)return n}return-1}function i(n){var r=i.resolve(n);return e(r,t,n)}var n=e.normalize(t,"..");i.resolve=function(i){var s=i.charAt(0);if("/"==s)return i.slice(1);if("."==s)return e.normalize(n,i);var o=t.split("/");var u=r(o,"deps")+1;if(!u)u=0;i=o.slice(0,u+1).join("/")+"/deps/"+i;return i};i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))};return i};e.register("component-emitter/index.js",function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype){e[t]=r.prototype[t]}return e}n.exports=r;r.prototype.on=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks[e]=this._callbacks[e]||[]).push(t);return this};r.prototype.once=function(e,t){function r(){n.off(e,r);t.apply(this,arguments)}var n=this;this._callbacks=this._callbacks||{};t._off=r;this.on(e,r);return this};r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=function(e,t){this._callbacks=this._callbacks||{};var n=this._callbacks[e];if(!n)return this;if(1==arguments.length){delete this._callbacks[e];return this}var r=n.indexOf(t._off||t);if(~r)n.splice(r,1);return this};r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r){n[r].apply(this,t)}}return this};r.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks[e]||[]};r.prototype.hasListeners=function(e){return!!this.listeners(e).length}});e.register("dropzone/index.js",function(e,t,n){n.exports=t("./lib/dropzone.js")});e.register("dropzone/lib/dropzone.js",function(e,t,n){(function(){var e,r,i,s,o,u,a={}.hasOwnProperty,f=function(e,t){function r(){this.constructor=e}for(var n in t){if(a.call(t,n))e[n]=t[n]}r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e},l=[].slice;r=typeof Emitter!=="undefined"&&Emitter!==null?Emitter:t("emitter");o=function(){};e=function(e){function n(e,r){var i,s,o;this.element=e;this.version=n.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&this.element.nodeType!=null)){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}n.instances.push(this);e.dropzone=this;i=(o=n.optionsForElement(this.element))!=null?o:{};this.options=t({},this.defaultOptions,i,r!=null?r:{});if(this.options.forceFallback||!n.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((s=this.getExistingFallback())&&s.parentNode){s.parentNode.removeChild(s)}if(this.options.previewsContainer){this.previewsContainer=n.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=n.getElements(this.options.clickable,"clickable")}}this.init()}var t;f(n,e);n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","selectedfiles","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded"];n.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,addRemoveLinks:false,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can only upload {{maxFiles}} files.",accept:function(e,t){return t()},init:function(){return o},forceFallback:false,fallback:function(){var e,t,r,i,s,o;this.element.className=""+this.element.className+" dz-browser-not-supported";o=this.element.getElementsByTagName("div");for(i=0,s=o.length;i<s;i++){e=o[i];if(/(^| )dz-message($| )/.test(e.className)){t=e;e.className="dz-message";continue}}if(!t){t=n.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(t)}r=t.getElementsByTagName("span")[0];if(r){r.textContent=this.options.dictFallbackMessage}return this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,r;t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height};n=e.width/e.height;r=this.options.thumbnailWidth/this.options.thumbnailHeight;if(e.height<this.options.thumbnailHeight||e.width<this.options.thumbnailWidth){t.trgHeight=t.srcHeight;t.trgWidth=t.srcWidth}else{if(n>r){t.srcHeight=e.height;t.srcWidth=t.srcHeight*r}else{t.srcWidth=e.width;t.srcHeight=t.srcWidth/r}}t.srcX=(e.width-t.srcWidth)/2;t.srcY=(e.height-t.srcHeight)/2;return t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},selectedfiles:function(e){if(this.element===this.previewsContainer){return this.element.classList.add("dz-started")}},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t=this;e.previewElement=n.createElement(this.options.previewTemplate);e.previewTemplate=e.previewElement;this.previewsContainer.appendChild(e.previewElement);e.previewElement.querySelector("[data-dz-name]").textContent=e.name;e.previewElement.querySelector("[data-dz-size]").innerHTML=this.filesize(e.size);if(this.options.addRemoveLinks){e._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;">'+this.options.dictRemoveFile+"</a>");e._removeLink.addEventListener("click",function(r){r.preventDefault();r.stopPropagation();if(e.status===n.UPLOADING){return n.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)})}else{if(t.options.dictRemoveFileConfirmation){return n.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)})}else{return t.removeFile(e)}}});e.previewElement.appendChild(e._removeLink)}return this._updateMaxFilesReachedClass()},removedfile:function(e){var t;if((t=e.previewElement)!=null){t.parentNode.removeChild(e.previewElement)}return this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n;e.previewElement.classList.remove("dz-file-preview");e.previewElement.classList.add("dz-image-preview");n=e.previewElement.querySelector("[data-dz-thumbnail]");n.alt=e.name;return n.src=t},error:function(e,t){e.previewElement.classList.add("dz-error");return e.previewElement.querySelector("[data-dz-errormessage]").textContent=t},errormultiple:o,processing:function(e){e.previewElement.classList.add("dz-processing");if(e._removeLink){return e._removeLink.textContent=this.options.dictCancelUpload}},processingmultiple:o,uploadprogress:function(e,t,n){return e.previewElement.querySelector("[data-dz-uploadprogress]").style.width=""+t+"%"},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(e){return e.previewElement.classList.add("dz-success")},successmultiple:o,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:o,complete:function(e){if(e._removeLink){return e._removeLink.textContent=this.options.dictRemoveFile}},completemultiple:o,maxfilesexceeded:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>✔</span></div>\n  <div class="dz-error-mark"><span>✘</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'};t=function(){var e,t,n,r,i,s,o;r=arguments[0],n=2<=arguments.length?l.call(arguments,1):[];for(s=0,o=n.length;s<o;s++){t=n[s];for(e in t){i=t[e];r[e]=i}}return r};n.prototype.getAcceptedFiles=function(){var e,t,n,r,i;r=this.files;i=[];for(t=0,n=r.length;t<n;t++){e=r[t];if(e.accepted){i.push(e)}}return i};n.prototype.getRejectedFiles=function(){var e,t,n,r,i;r=this.files;i=[];for(t=0,n=r.length;t<n;t++){e=r[t];if(!e.accepted){i.push(e)}}return i};n.prototype.getQueuedFiles=function(){var e,t,r,i,s;i=this.files;s=[];for(t=0,r=i.length;t<r;t++){e=i[t];if(e.status===n.QUEUED){s.push(e)}}return s};n.prototype.getUploadingFiles=function(){var e,t,r,i,s;i=this.files;s=[];for(t=0,r=i.length;t<r;t++){e=i[t];if(e.status===n.UPLOADING){s.push(e)}}return s};n.prototype.init=function(){var e,t,r,i,s,o,u,a=this;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){r=function(){if(a.hiddenFileInput){document.body.removeChild(a.hiddenFileInput)}a.hiddenFileInput=document.createElement("input");a.hiddenFileInput.setAttribute("type","file");a.hiddenFileInput.setAttribute("multiple","multiple");if(a.options.acceptedFiles!=null){a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles)}a.hiddenFileInput.style.visibility="hidden";a.hiddenFileInput.style.position="absolute";a.hiddenFileInput.style.top="0";a.hiddenFileInput.style.left="0";a.hiddenFileInput.style.height="0";a.hiddenFileInput.style.width="0";document.body.appendChild(a.hiddenFileInput);return a.hiddenFileInput.addEventListener("change",function(){var e;e=a.hiddenFileInput.files;if(e.length){a.emit("selectedfiles",e);a.handleFiles(e)}return r()})};r()}this.URL=(o=window.URL)!=null?o:window.webkitURL;u=this.events;for(i=0,s=u.length;i<s;i++){e=u[i];this.on(e,this.options[e])}this.on("uploadprogress",function(){return a.updateTotalUploadProgress()});this.on("removedfile",function(){return a.updateTotalUploadProgress()});this.on("canceled",function(e){return a.emit("complete",e)});t=function(e){e.stopPropagation();if(e.preventDefault){return e.preventDefault()}else{return e.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function(e){return a.emit("dragstart",e)},dragenter:function(e){t(e);return a.emit("dragenter",e)},dragover:function(e){t(e);return a.emit("dragover",e)},dragleave:function(e){return a.emit("dragleave",e)},drop:function(e){t(e);return a.drop(e)},dragend:function(e){return a.emit("dragend",e)}}}];this.clickableElements.forEach(function(e){return a.listeners.push({element:e,events:{click:function(t){if(e!==a.element||t.target===a.element||n.elementInside(t.target,a.element.querySelector(".dz-message"))){return a.hiddenFileInput.click()}}}})});this.enable();return this.options.init.call(this)};n.prototype.destroy=function(){var e;this.disable();this.removeAllFiles(true);if((e=this.hiddenFileInput)!=null?e.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}return delete this.element.dropzone};n.prototype.updateTotalUploadProgress=function(){var e,t,n,r,i,s,o,u;r=0;n=0;e=this.getAcceptedFiles();if(e.length){u=this.getAcceptedFiles();for(s=0,o=u.length;s<o;s++){t=u[s];r+=t.upload.bytesSent;n+=t.upload.total}i=100*r/n}else{i=100}return this.emit("totaluploadprogress",i,n,r)};n.prototype.getFallbackForm=function(){var e,t,r,i;if(e=this.getExistingFallback()){return e}r='<div class="dz-fallback">';if(this.options.dictFallbackText){r+="<p>"+this.options.dictFallbackText+"</p>"}r+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><button type="submit">Upload!</button></div>';t=n.createElement(r);if(this.element.tagName!=="FORM"){i=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');i.appendChild(t)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return i!=null?i:t};n.prototype.getExistingFallback=function(){var e,t,n,r,i,s;t=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++){t=e[n];if(/(^| )fallback($| )/.test(t.className)){return t}}};s=["div","form"];for(r=0,i=s.length;r<i;r++){n=s[r];if(e=t(this.element.getElementsByTagName(n))){return e}}};n.prototype.setupEventListeners=function(){var e,t,n,r,i,s,o;s=this.listeners;o=[];for(r=0,i=s.length;r<i;r++){e=s[r];o.push(function(){var r,i;r=e.events;i=[];for(t in r){n=r[t];i.push(e.element.addEventListener(t,n,false))}return i}())}return o};n.prototype.removeEventListeners=function(){var e,t,n,r,i,s,o;s=this.listeners;o=[];for(r=0,i=s.length;r<i;r++){e=s[r];o.push(function(){var r,i;r=e.events;i=[];for(t in r){n=r[t];i.push(e.element.removeEventListener(t,n,false))}return i}())}return o};n.prototype.disable=function(){var e,t,n,r,i;this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")});this.removeEventListeners();r=this.files;i=[];for(t=0,n=r.length;t<n;t++){e=r[t];i.push(this.cancelUpload(e))}return i};n.prototype.enable=function(){this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")});return this.setupEventListeners()};n.prototype.filesize=function(e){var t;if(e>=1e11){e=e/1e11;t="TB"}else if(e>=1e8){e=e/1e8;t="GB"}else if(e>=1e5){e=e/1e5;t="MB"}else if(e>=100){e=e/100;t="KB"}else{e=e*10;t="b"}return"<strong>"+Math.round(e)/10+"</strong> "+t};n.prototype._updateMaxFilesReachedClass=function(){if(this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};n.prototype.drop=function(e){var t,n;if(!e.dataTransfer){return}this.emit("drop",e);t=e.dataTransfer.files;this.emit("selectedfiles",t);if(t.length){n=e.dataTransfer.items;if(n&&n.length&&(n[0].webkitGetAsEntry!=null||n[0].getAsEntry!=null)){this.handleItems(n)}else{this.handleFiles(t)}}};n.prototype.handleFiles=function(e){var t,n,r,i;i=[];for(n=0,r=e.length;n<r;n++){t=e[n];i.push(this.addFile(t))}return i};n.prototype.handleItems=function(e){var t,n,r,i;for(r=0,i=e.length;r<i;r++){n=e[r];if(n.webkitGetAsEntry!=null){t=n.webkitGetAsEntry();if(t.isFile){this.addFile(n.getAsFile())}else if(t.isDirectory){this.addDirectory(t,t.name)}}else{this.addFile(n.getAsFile())}}};n.prototype.accept=function(e,t){if(e.size>this.options.maxFilesize*1024*1024){return t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else if(!n.isValidFile(e,this.options.acceptedFiles)){return t(this.options.dictInvalidFileType)}else if(this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles){t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",e)}else{return this.options.accept.call(this,e,t)}};n.prototype.addFile=function(e){var t=this;e.upload={progress:0,total:e.size,bytesSent:0};this.files.push(e);e.status=n.ADDED;this.emit("addedfile",e);if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024){this.createThumbnail(e)}return this.accept(e,function(n){if(n){e.accepted=false;return t._errorProcessing([e],n)}else{return t.enqueueFile(e)}})};n.prototype.enqueueFiles=function(e){var t,n,r;for(n=0,r=e.length;n<r;n++){t=e[n];this.enqueueFile(t)}return null};n.prototype.enqueueFile=function(e){var t=this;e.accepted=true;if(e.status===n.ADDED){e.status=n.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(){return t.processQueue()},1)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};n.prototype.addDirectory=function(e,t){var n,r,i=this;n=e.createReader();r=function(n){var r,s;for(r=0,s=n.length;r<s;r++){e=n[r];if(e.isFile){e.file(function(e){if(i.options.ignoreHiddenFiles&&e.name.substring(0,1)==="."){return}e.fullPath=""+t+"/"+e.name;return i.addFile(e)})}else if(e.isDirectory){i.addDirectory(e,""+t+"/"+e.name)}}};return n.readEntries(r,function(e){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(e):void 0:void 0})};n.prototype.removeFile=function(e){if(e.status===n.UPLOADING){this.cancelUpload(e)}this.files=u(this.files,e);this.emit("removedfile",e);if(this.files.length===0){return this.emit("reset")}};n.prototype.removeAllFiles=function(e){var t,r,i,s;if(e==null){e=false}s=this.files.slice();for(r=0,i=s.length;r<i;r++){t=s[r];if(t.status!==n.UPLOADING||e){this.removeFile(t)}}return null};n.prototype.createThumbnail=function(e){var t,n=this;t=new FileReader;t.onload=function(){var r;r=new Image;r.onload=function(){var t,i,s,o,u,a,f,l;e.width=r.width;e.height=r.height;s=n.options.resize.call(n,e);if(s.trgWidth==null){s.trgWidth=n.options.thumbnailWidth}if(s.trgHeight==null){s.trgHeight=n.options.thumbnailHeight}t=document.createElement("canvas");i=t.getContext("2d");t.width=s.trgWidth;t.height=s.trgHeight;i.drawImage(r,(u=s.srcX)!=null?u:0,(a=s.srcY)!=null?a:0,s.srcWidth,s.srcHeight,(f=s.trgX)!=null?f:0,(l=s.trgY)!=null?l:0,s.trgWidth,s.trgHeight);o=t.toDataURL("image/png");return n.emit("thumbnail",e,o)};return r.src=t.result};return t.readAsDataURL(e)};n.prototype.processQueue=function(){var e,t,n,r;t=this.options.parallelUploads;n=this.getUploadingFiles().length;e=n;if(n>=t){return}r=this.getQueuedFiles();if(!(r.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(r.slice(0,t-n))}else{while(e<t){if(!r.length){return}this.processFile(r.shift());e++}}};n.prototype.processFile=function(e){return this.processFiles([e])};n.prototype.processFiles=function(e){var t,r,i;for(r=0,i=e.length;r<i;r++){t=e[r];t.processing=true;t.status=n.UPLOADING;this.emit("processing",t)}if(this.options.uploadMultiple){this.emit("processingmultiple",e)}return this.uploadFiles(e)};n.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,r,i,s;i=this.files;s=[];for(n=0,r=i.length;n<r;n++){t=i[n];if(t.xhr===e){s.push(t)}}return s}.call(this)};n.prototype.cancelUpload=function(e){var t,r,i,s,o,u,a;if(e.status===n.UPLOADING){r=this._getFilesWithXhr(e.xhr);for(i=0,o=r.length;i<o;i++){t=r[i];t.status=n.CANCELED}e.xhr.abort();for(s=0,u=r.length;s<u;s++){t=r[s];this.emit("canceled",t)}if(this.options.uploadMultiple){this.emit("canceledmultiple",r)}}else if((a=e.status)===n.ADDED||a===n.QUEUED){e.status=n.CANCELED;this.emit("canceled",e);if(this.options.uploadMultiple){this.emit("canceledmultiple",[e])}}if(this.options.autoProcessQueue){return this.processQueue()}};n.prototype.uploadFile=function(e){return this.uploadFiles([e])};n.prototype.uploadFiles=function(e){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O=this;g=new XMLHttpRequest;for(y=0,S=e.length;y<S;y++){r=e[y];r.xhr=g}g.open(this.options.method,this.options.url,true);g.withCredentials=!!this.options.withCredentials;d=null;s=function(){var t,n,i;i=[];for(t=0,n=e.length;t<n;t++){r=e[t];i.push(O._errorProcessing(e,d||O.options.dictResponseError.replace("{{statusCode}}",g.status),g))}return i};v=function(t){var n,i,s,o,u,a,f,l,c;if(t!=null){i=100*t.loaded/t.total;for(s=0,a=e.length;s<a;s++){r=e[s];r.upload={progress:i,total:t.total,bytesSent:t.loaded}}}else{n=true;i=100;for(o=0,f=e.length;o<f;o++){r=e[o];if(!(r.upload.progress===100&&r.upload.bytesSent===r.upload.total)){n=false}r.upload.progress=i;r.upload.bytesSent=r.upload.total}if(n){return}}c=[];for(u=0,l=e.length;u<l;u++){r=e[u];c.push(O.emit("uploadprogress",r,i,r.upload.bytesSent))}return c};g.onload=function(t){var r;if(e[0].status===n.CANCELED){return}if(g.readyState!==4){return}d=g.responseText;if(g.getResponseHeader("content-type")&&~g.getResponseHeader("content-type").indexOf("application/json")){try{d=JSON.parse(d)}catch(i){t=i;d="Invalid JSON response from server."}}v();if(!(200<=(r=g.status)&&r<300)){return s()}else{return O._finished(e,d,t)}};g.onerror=function(){if(e[0].status===n.CANCELED){return}return s()};p=(C=g.upload)!=null?C:g;p.onprogress=v;a={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){t(a,this.options.headers)}for(o in a){u=a[o];g.setRequestHeader(o,u)}i=new FormData;if(this.options.params){k=this.options.params;for(h in k){m=k[h];i.append(h,m)}}for(b=0,x=e.length;b<x;b++){r=e[b];this.emit("sending",r,g,i)}if(this.options.uploadMultiple){this.emit("sendingmultiple",e,g,i)}if(this.element.tagName==="FORM"){L=this.element.querySelectorAll("input, textarea, select, button");for(w=0,T=L.length;w<T;w++){f=L[w];l=f.getAttribute("name");c=f.getAttribute("type");if(!c||(A=c.toLowerCase())!=="checkbox"&&A!=="radio"||f.checked){i.append(l,f.value)}}}for(E=0,N=e.length;E<N;E++){r=e[E];i.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),r,r.name)}return g.send(i)};n.prototype._finished=function(e,t,r){var i,s,o;for(s=0,o=e.length;s<o;s++){i=e[s];i.status=n.SUCCESS;this.emit("success",i,t,r);this.emit("complete",i)}if(this.options.uploadMultiple){this.emit("successmultiple",e,t,r);this.emit("completemultiple",e)}if(this.options.autoProcessQueue){return this.processQueue()}};n.prototype._errorProcessing=function(e,t,r){var i,s,o;for(s=0,o=e.length;s<o;s++){i=e[s];i.status=n.ERROR;this.emit("error",i,t,r);this.emit("complete",i)}if(this.options.uploadMultiple){this.emit("errormultiple",e,t,r);this.emit("completemultiple",e)}if(this.options.autoProcessQueue){return this.processQueue()}};return n}(r);e.version="3.7.1";e.options={};e.optionsForElement=function(t){if(t.id){return e.options[i(t.id)]}else{return void 0}};e.instances=[];e.forElement=function(e){if(typeof e==="string"){e=document.querySelector(e)}if((e!=null?e.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return e.dropzone};e.autoDiscover=true;e.discover=function(){var t,n,r,i,s,o;if(document.querySelectorAll){r=document.querySelectorAll(".dropzone")}else{r=[];t=function(e){var t,n,i,s;s=[];for(n=0,i=e.length;n<i;n++){t=e[n];if(/(^| )dropzone($| )/.test(t.className)){s.push(r.push(t))}else{s.push(void 0)}}return s};t(document.getElementsByTagName("div"));t(document.getElementsByTagName("form"))}o=[];for(i=0,s=r.length;i<s;i++){n=r[i];if(e.optionsForElement(n)!==false){o.push(new e(n))}else{o.push(void 0)}}return o};e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];e.isBrowserSupported=function(){var t,n,r,i,s;t=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList"in document.createElement("a"))){t=false}else{s=e.blacklistedBrowsers;for(r=0,i=s.length;r<i;r++){n=s[r];if(n.test(navigator.userAgent)){t=false;continue}}}}else{t=false}return t};u=function(e,t){var n,r,i,s;s=[];for(r=0,i=e.length;r<i;r++){n=e[r];if(n!==t){s.push(n)}}return s};i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e[1].toUpperCase()})};e.createElement=function(e){var t;t=document.createElement("div");t.innerHTML=e;return t.childNodes[0]};e.elementInside=function(e,t){if(e===t){return true}while(e=e.parentNode){if(e===t){return true}}return false};e.getElement=function(e,t){var n;if(typeof e==="string"){n=document.querySelector(e)}else if(e.nodeType!=null){n=e}if(n==null){throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.")}return n};e.getElements=function(e,t){var n,r,i,s,o,u,a,f;if(e instanceof Array){i=[];try{for(s=0,u=e.length;s<u;s++){r=e[s];i.push(this.getElement(r,t))}}catch(l){n=l;i=null}}else if(typeof e==="string"){i=[];f=document.querySelectorAll(e);for(o=0,a=f.length;o<a;o++){r=f[o];i.push(r)}}else if(e.nodeType!=null){i=[e]}if(!(i!=null&&i.length)){throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return i};e.confirm=function(e,t,n){if(window.confirm(e)){return t()}else if(n!=null){return n()}};e.isValidFile=function(e,t){var n,r,i,s,o;if(!t){return true}t=t.split(",");r=e.type;n=r.replace(/\/.*$/,"");for(s=0,o=t.length;s<o;s++){i=t[s];i=i.trim();if(i.charAt(0)==="."){if(e.name.indexOf(i,e.name.length-i.length)!==-1){return true}}else if(/\/\*$/.test(i)){if(n===i.replace(/\/.*$/,"")){return true}}else{if(r===i){return true}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}}if(typeof n!=="undefined"&&n!==null){n.exports=e}else{window.Dropzone=e}e.ADDED="added";e.QUEUED="queued";e.ACCEPTED=e.QUEUED;e.UPLOADING="uploading";e.PROCESSING=e.UPLOADING;e.CANCELED="canceled";e.ERROR="error";e.SUCCESS="success";s=function(e,t){var n,r,i,s,o,u,a,f,l;i=false;l=true;r=e.document;f=r.documentElement;n=r.addEventListener?"addEventListener":"attachEvent";a=r.addEventListener?"removeEventListener":"detachEvent";u=r.addEventListener?"":"on";s=function(n){if(n.type==="readystatechange"&&r.readyState!=="complete"){return}(n.type==="load"?e:r)[a](u+n.type,s,false);if(!i&&(i=true)){return t.call(e,n.type||n)}};o=function(){var e;try{f.doScroll("left")}catch(t){e=t;setTimeout(o,50);return}return s("poll")};if(r.readyState!=="complete"){if(r.createEventObject&&f.doScroll){try{l=!e.frameElement}catch(c){}if(l){o()}}r[n](u+"DOMContentLoaded",s,false);r[n](u+"readystatechange",s,false);return e[n](u+"load",s,false)}};e._autoDiscoverFunction=function(){if(e.autoDiscover){return e.discover()}};s(window,e._autoDiscoverFunction)}).call(this)});e.alias("component-emitter/index.js","dropzone/deps/emitter/index.js");e.alias("component-emitter/index.js","emitter/index.js");if(typeof exports=="object"){module.exports=e("dropzone")}else if(typeof define=="function"&&define.amd){define(function(){return e("dropzone")})}else{this["Dropzone"]=e("dropzone")}})();$.fn["toggles"]=function(e){e=e||{};var t=$.extend({drag:true,click:true,text:{on:"ON",off:"OFF"},on:false,animate:250,transition:"ease-in-out",checkbox:null,clicker:null,width:50,height:20,type:"compact"},e);var n=t["type"]=="select";t["checkbox"]=$(t["checkbox"]);if(t["clicker"])t["clicker"]=$(t["clicker"]);var r="margin-left "+t["animate"]+"ms "+t["transition"];var i={"-webkit-transition":r,"-moz-transition":r,transition:r};var s={"-webkit-transition":"","-moz-transition":"",transition:""};var o=function(e,r,o,u){var a=e.toggleClass("active").hasClass("active");if(u===a)return;var f=e.find(".toggle-inner").css(i);e.find(".toggle-off").toggleClass("active");e.find(".toggle-on").toggleClass("active");t["checkbox"].prop("checked",a);if(n)return;var l=a?0:-r+o;f.css("margin-left",l);setTimeout(function(){f.css(s);f.css("margin-left",l)},t["animate"])};return this.each(function(){var e=$(this);var r=e.height();var i=e.width();if(!r||!i){e.height(r=t.height);e.width(i=t.width)}var s='<div class="toggle-';var u=$(s+'slide">');var a=$(s+'inner">');var f=$(s+'on">');var l=$(s+'off">');var c=$(s+'blob">');var h=r/2;var p=i-h;f.css({height:r,width:p,textAlign:"center",textIndent:n?"":-h,lineHeight:r+"px"}).html(t["text"]["on"]);l.css({height:r,width:p,marginLeft:n?"":-h,textAlign:"center",textIndent:n?"":h,lineHeight:r+"px"}).html(t["text"]["off"]).addClass("active");c.css({height:r,width:r,marginLeft:-h});a.css({width:i*2-r,marginLeft:n?0:-i+r});if(n){u.addClass("toggle-select");e.css("width",p*2);c.hide()}e.html(u.html(a.append(f,c,l)));u.on("toggle",function(t,n){if(t)t.stopPropagation();o(u,i,r);e.trigger("toggle",!n)});e.on("toggleOn",function(){o(u,i,r,false)});e.on("toggleOff",function(){o(u,i,r,true)});if(t["on"]){o(u,i,r)}if(t["click"]&&(!t["clicker"]||!t["clicker"].has(e).length)){e.on("click",function(e){if(e.target!=c[0]||!t["drag"]){u.trigger("toggle",u.hasClass("active"))}})}if(t["clicker"]){t["clicker"].on("click",function(e){if(e.target!=c[0]||!t["drag"]){u.trigger("toggle",u.hasClass("active"))}})}if(!t["drag"]||n)return;var d;var v=(i-r)/4;var m=function(n){e.off("mousemove");u.off("mouseleave");c.off("mouseup");var s=u.hasClass("active");if(!d&&t.click&&n.type!=="mouseleave"){u.trigger("toggle",s);return}if(s){if(d<-v){u.trigger("toggle",s)}else{a.animate({marginLeft:0},t.animate/2)}}else{if(d>v){u.trigger("toggle",s)}else{a.animate({marginLeft:-i+r},t.animate/2)}}};var g=-i+r;c.on("mousedown",function(t){d=0;c.off("mouseup");u.off("mouseleave");var n=t.pageX;e.on("mousemove",c,function(e){d=e.pageX-n;var t;if(u.hasClass("active")){t=d;if(d>0)t=0;if(d<g)t=g}else{t=d+g;if(d<0)t=g;if(d>-g)t=0}a.css("margin-left",t)});c.on("mouseup",m);u.on("mouseleave",m)})})};(function(e){e.Jcrop=function(t,n){function a(e){return Math.round(e)+"px"}function f(e){return r.baseClass+"-"+e}function l(){return e.fx.step.hasOwnProperty("backgroundColor")}function c(t){var n=e(t).offset();return[n.left,n.top]}function h(e){return[e.pageX-i[0],e.pageY-i[1]]}function p(t){if(typeof t!=="object")t={};r=e.extend(r,t);e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){if(typeof r[t]!=="function")r[t]=function(){}})}function d(e,t,n){i=c(A);nt.setCursor(e==="move"?e:e+"-resize");if(e==="move"){return nt.activateHandlers(m(t),E,n)}var r=Z.getFixed();var s=g(e);var o=Z.getCorner(g(s));Z.setPressed(Z.getCorner(s));Z.setCurrent(o);nt.activateHandlers(v(e,r),E,n)}function v(e,t){return function(n){if(!r.aspectRatio){switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2;break}}else{switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1;break}}Z.setCurrent(n);tt.update()}}function m(e){var t=e;rt.watchKeys();return function(e){Z.moveOffset([e[0]-t[0],e[1]-t[1]]);t=e;tt.update()}}function g(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function y(e){return function(t){if(r.disabled){return false}if(e==="move"&&!r.allowMove){return false}i=c(A);K=true;d(e,h(t));t.stopPropagation();t.preventDefault();return false}}function b(e,t,n){var r=e.width(),i=e.height();if(r>t&&t>0){r=t;i=t/e.width()*e.height()}if(i>n&&n>0){i=n;r=n/e.height()*e.width()}X=e.width()/r;V=e.height()/i;e.width(r).height(i)}function w(e){return{x:e.x*X,y:e.y*V,x2:e.x2*X,y2:e.y2*V,w:e.w*X,h:e.h*V}}function E(e){var t=Z.getFixed();if(t.w>r.minSelect[0]&&t.h>r.minSelect[1]){tt.enableHandles();tt.done()}else{tt.release()}nt.setCursor(r.allowSelect?"crosshair":"default")}function S(e){if(r.disabled){return false}if(!r.allowSelect){return false}K=true;i=c(A);tt.disableHandles();nt.setCursor("crosshair");var t=h(e);Z.setPressed(t);tt.update();nt.activateHandlers(x,E,e.type.substring(0,5)==="touch");rt.watchKeys();e.stopPropagation();e.preventDefault();return false}function x(e){Z.setCurrent(e);tt.update()}function T(){var t=e("<div></div>").addClass(f("tracker"));if(o){t.css({opacity:0,backgroundColor:"white"})}return t}function it(e){_.removeClass().addClass(f("holder")).addClass(e)}function st(e,t){function b(){window.setTimeout(w,c)}var n=e[0]/X,i=e[1]/V,s=e[2]/X,o=e[3]/V;if(Q){return}var u=Z.flipCoords(n,i,s,o),a=Z.getFixed(),f=[a.x,a.y,a.x2,a.y2],l=f,c=r.animationDelay,h=u[0]-f[0],p=u[1]-f[1],d=u[2]-f[2],v=u[3]-f[3],m=0,g=r.swingSpeed;n=l[0];i=l[1];s=l[2];o=l[3];tt.animMode(true);var y;var w=function(){return function(){m+=(100-m)/g;l[0]=Math.round(n+m/100*h);l[1]=Math.round(i+m/100*p);l[2]=Math.round(s+m/100*d);l[3]=Math.round(o+m/100*v);if(m>=99.8){m=100}if(m<100){ut(l);b()}else{tt.done();tt.animMode(false);if(typeof t==="function"){t.call(yt)}}}}();b()}function ot(e){ut([e[0]/X,e[1]/V,e[2]/X,e[3]/V]);r.onSelect.call(yt,w(Z.getFixed()));tt.enableHandles()}function ut(e){Z.setPressed([e[0],e[1]]);Z.setCurrent([e[2],e[3]]);tt.update()}function at(){return w(Z.getFixed())}function ft(){return Z.getFixed()}function lt(e){p(e);gt()}function ct(){r.disabled=true;tt.disableHandles();tt.setCursor("default");nt.setCursor("default")}function ht(){r.disabled=false;gt()}function pt(){tt.done();nt.activateHandlers(null,null)}function dt(){_.remove();C.show();C.css("visibility","visible");e(t).removeData("Jcrop")}function vt(e,t){tt.release();ct();var n=new Image;n.onload=function(){var i=n.width;var s=n.height;var o=r.boxWidth;var u=r.boxHeight;A.width(i).height(s);A.attr("src",e);D.attr("src",e);b(A,o,u);O=A.width();M=A.height();D.width(O).height(M);F.width(O+j*2).height(M+j*2);_.width(O).height(M);et.resize(O,M);ht();if(typeof t==="function"){t.call(yt)}};n.src=e}function mt(e,t,n){var i=t||r.bgColor;if(r.bgFade&&l()&&r.fadeTime&&!n){e.animate({backgroundColor:i},{queue:false,duration:r.fadeTime})}else{e.css("backgroundColor",i)}}function gt(e){if(r.allowResize){if(e){tt.enableOnly()}else{tt.enableHandles()}}else{tt.disableHandles()}nt.setCursor(r.allowSelect?"crosshair":"default");tt.setCursor(r.allowMove?"move":"default");if(r.hasOwnProperty("trueSize")){X=r.trueSize[0]/O;V=r.trueSize[1]/M}if(r.hasOwnProperty("setSelect")){ot(r.setSelect);tt.done();delete r.setSelect}et.refresh();if(r.bgColor!=I){mt(r.shade?et.getShades():_,r.shade?r.shadeColor||r.bgColor:r.bgColor);I=r.bgColor}if(q!=r.bgOpacity){q=r.bgOpacity;if(r.shade)et.refresh();else tt.setBgOpacity(q)}R=r.maxSize[0]||0;U=r.maxSize[1]||0;z=r.minSize[0]||0;W=r.minSize[1]||0;if(r.hasOwnProperty("outerImage")){A.attr("src",r.outerImage);delete r.outerImage}tt.refresh()}var r=e.extend({},e.Jcrop.defaults),i,s=navigator.userAgent.toLowerCase(),o=/msie/.test(s),u=/msie [1-6]\./.test(s);if(typeof t!=="object"){t=e(t)[0]}if(typeof n!=="object"){n={}}p(n);var N={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0};var C=e(t),k=true;if(t.tagName=="IMG"){if(C[0].width!=0&&C[0].height!=0){C.width(C[0].width);C.height(C[0].height)}else{var L=new Image;L.src=C[0].src;C.width(L.width);C.height(L.height)}var A=C.clone().removeAttr("id").css(N).show();A.width(C.width());A.height(C.height());C.after(A).hide()}else{A=C.css(N).show();k=false;if(r.shade===null){r.shade=true}}b(A,r.boxWidth,r.boxHeight);var O=A.width(),M=A.height(),_=e("<div />").width(O).height(M).addClass(f("holder")).css({position:"relative",backgroundColor:r.bgColor}).insertAfter(C).append(A);if(r.addClass){_.addClass(r.addClass)}var D=e("<div />"),P=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),H=e("<div />").width("100%").height("100%").css("zIndex",320),B=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=Z.getFixed();r.onDblClick.call(yt,e)}).insertBefore(A).append(P,H);if(k){D=e("<img />").attr("src",A.attr("src")).css(N).width(O).height(M),P.append(D)}if(u){B.css({overflowY:"hidden"})}var j=r.boundary;var F=T().width(O+j*2).height(M+j*2).css({position:"absolute",top:a(-j),left:a(-j),zIndex:290}).mousedown(S);var I=r.bgColor,q=r.bgOpacity,R,U,z,W,X,V,J=true,K,Q,G;i=c(A);var Y=function(){function e(){var e={},t=["touchstart","touchmove","touchend"],n=document.createElement("div"),r;try{for(r=0;r<t.length;r++){var i=t[r];i="on"+i;var s=i in n;if(!s){n.setAttribute(i,"return;");s=typeof n[i]=="function"}e[t[r]]=s}return e.touchstart&&e.touchend&&e.touchmove}catch(o){return false}}function t(){if(r.touchSupport===true||r.touchSupport===false)return r.touchSupport;else return e()}return{createDragger:function(e){return function(t){if(r.disabled){return false}if(e==="move"&&!r.allowMove){return false}i=c(A);K=true;d(e,h(Y.cfilter(t)),true);t.stopPropagation();t.preventDefault();return false}},newSelection:function(e){return S(Y.cfilter(e))},cfilter:function(e){e.pageX=e.originalEvent.changedTouches[0].pageX;e.pageY=e.originalEvent.changedTouches[0].pageY;return e},isSupported:e,support:t()}}();var Z=function(){function u(r){r=p(r);n=e=r[0];i=t=r[1]}function a(e){e=p(e);s=e[0]-n;o=e[1]-i;n=e[0];i=e[1]}function f(){return[s,o]}function l(r){var s=r[0],o=r[1];if(0>e+s){s-=s+e}if(0>t+o){o-=o+t}if(M<i+o){o+=M-(i+o)}if(O<n+s){s+=O-(n+s)}e+=s;n+=s;t+=o;i+=o}function c(e){var t=h();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function h(){if(!r.aspectRatio){return v()}var s=r.aspectRatio,o=r.minSize[0]/X,u=r.maxSize[0]/X,a=r.maxSize[1]/V,f=n-e,l=i-t,c=Math.abs(f),h=Math.abs(l),p=c/h,g,y,b,w;if(u===0){u=O*10}if(a===0){a=M*10}if(p<s){y=i;b=h*s;g=f<0?e-b:b+e;if(g<0){g=0;w=Math.abs((g-e)/s);y=l<0?t-w:w+t}else if(g>O){g=O;w=Math.abs((g-e)/s);y=l<0?t-w:w+t}}else{g=n;w=c/s;y=l<0?t-w:t+w;if(y<0){y=0;b=Math.abs((y-t)*s);g=f<0?e-b:b+e}else if(y>M){y=M;b=Math.abs(y-t)*s;g=f<0?e-b:b+e}}if(g>e){if(g-e<o){g=e+o}else if(g-e>u){g=e+u}if(y>t){y=t+(g-e)/s}else{y=t-(g-e)/s}}else if(g<e){if(e-g<o){g=e-o}else if(e-g>u){g=e-u}if(y>t){y=t+(e-g)/s}else{y=t-(e-g)/s}}if(g<0){e-=g;g=0}else if(g>O){e-=g-O;g=O}if(y<0){t-=y;y=0}else if(y>M){t-=y-M;y=M}return m(d(e,t,g,y))}function p(e){if(e[0]<0)e[0]=0;if(e[1]<0)e[1]=0;if(e[0]>O)e[0]=O;if(e[1]>M)e[1]=M;return[Math.round(e[0]),Math.round(e[1])]}function d(e,t,n,r){var i=e,s=n,o=t,u=r;if(n<e){i=n;s=e}if(r<t){o=r;u=t}return[i,o,s,u]}function v(){var r=n-e,s=i-t,o;if(R&&Math.abs(r)>R){n=r>0?e+R:e-R}if(U&&Math.abs(s)>U){i=s>0?t+U:t-U}if(W/V&&Math.abs(s)<W/V){i=s>0?t+W/V:t-W/V}if(z/X&&Math.abs(r)<z/X){n=r>0?e+z/X:e-z/X}if(e<0){n-=e;e-=e}if(t<0){i-=t;t-=t}if(n<0){e-=n;n-=n}if(i<0){t-=i;i-=i}if(n>O){o=n-O;e-=o;n-=o}if(i>M){o=i-M;t-=o;i-=o}if(e>O){o=e-M;i-=o;t-=o}if(t>M){o=t-M;i-=o;t-=o}return m(d(e,t,n,i))}function m(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var e=0,t=0,n=0,i=0,s,o;return{flipCoords:d,setPressed:u,setCurrent:a,getOffset:f,moveOffset:l,getCorner:c,getFixed:h}}();var et=function(){function s(e,t){i.left.css({height:a(t)});i.right.css({height:a(t)})}function o(){return u(Z.getFixed())}function u(e){i.top.css({left:a(e.x),width:a(e.w),height:a(e.y)});i.bottom.css({top:a(e.y2),left:a(e.x),width:a(e.w),height:a(M-e.y2)});i.right.css({left:a(e.x2),width:a(O-e.x2)});i.left.css({width:a(e.x)})}function f(){return e("<div />").css({position:"absolute",backgroundColor:r.shadeColor||r.bgColor}).appendTo(n)}function l(){if(!t){t=true;n.insertBefore(A);o();tt.setBgOpacity(1,0,1);D.hide();c(r.shadeColor||r.bgColor,1);if(tt.isAwake()){p(r.bgOpacity,1)}else p(1,1)}}function c(e,t){mt(v(),e,t)}function h(){if(t){n.remove();D.show();t=false;if(tt.isAwake()){tt.setBgOpacity(r.bgOpacity,1,1)}else{tt.setBgOpacity(1,1,1);tt.disableHandles()}mt(_,0,1)}}function p(e,i){if(t){if(r.bgFade&&!i){n.animate({opacity:1-e},{queue:false,duration:r.fadeTime})}else n.css({opacity:1-e})}}function d(){r.shade?l():h();if(tt.isAwake())p(r.bgOpacity)}function v(){return n.children()}var t=false,n=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),i={top:f(),left:f().height(M),right:f().height(M),bottom:f()};return{update:o,updateRaw:u,getShades:v,setBgColor:c,enable:l,disable:h,resize:s,refresh:d,opacity:p}}();var tt=function(){function l(t){var n=e("<div />").css({position:"absolute",opacity:r.borderOpacity}).addClass(f(t));P.append(n);return n}function c(t,n){var r=e("<div />").mousedown(y(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);if(Y.support){r.bind("touchstart.jcrop",Y.createDragger(t))}H.append(r);return r}function h(e){var t=r.handleSize,i=c(e,n++).css({opacity:r.handleOpacity}).addClass(f("handle"));if(t){i.width(t).height(t)}return i}function p(e){return c(e,n++).addClass("jcrop-dragbar")}function d(e){var t;for(t=0;t<e.length;t++){o[e[t]]=p(e[t])}}function v(e){var t,n;for(n=0;n<e.length;n++){switch(e[n]){case"n":t="hline";break;case"s":t="hline bottom";break;case"e":t="vline right";break;case"w":t="vline";break}i[e[n]]=l(t)}}function m(e){var t;for(t=0;t<e.length;t++){s[e[t]]=h(e[t])}}function g(e,t){if(!r.shade){D.css({top:a(-t),left:a(-e)})}B.css({top:a(t),left:a(e)})}function b(e,t){B.width(Math.round(e)).height(Math.round(t))}function E(){var e=Z.getFixed();Z.setPressed([e.x,e.y]);Z.setCurrent([e.x2,e.y2]);S()}function S(e){if(t){return x(e)}}function x(e){var n=Z.getFixed();b(n.w,n.h);g(n.x,n.y);if(r.shade)et.updateRaw(n);t||C();if(e){r.onSelect.call(yt,w(n))}else{r.onChange.call(yt,w(n))}}function N(e,n,i){if(!t&&!n)return;if(r.bgFade&&!i){A.animate({opacity:e},{queue:false,duration:r.fadeTime})}else{A.css("opacity",e)}}function C(){B.show();if(r.shade)et.opacity(q);else N(q,true);t=true}function k(){M();B.hide();if(r.shade)et.opacity(1);else N(1);t=false;r.onRelease.call(yt)}function L(){if(u){H.show()}}function O(){u=true;if(r.allowResize){H.show();return true}}function M(){u=false;H.hide()}function _(e){if(e){Q=true;M()}else{Q=false;O()}}function j(){_(false);E()}var t,n=370,i={},s={},o={},u=false;if(r.dragEdges&&e.isArray(r.createDragbars))d(r.createDragbars);if(e.isArray(r.createHandles))m(r.createHandles);if(r.drawBorders&&e.isArray(r.createBorders))v(r.createBorders);e(document).bind("touchstart.jcrop-ios",function(t){if(e(t.currentTarget).hasClass("jcrop-tracker"))t.stopPropagation()});var F=T().mousedown(y("move")).css({cursor:"move",position:"absolute",zIndex:360});if(Y.support){F.bind("touchstart.jcrop",Y.createDragger("move"))}P.append(F);M();return{updateVisible:S,update:x,release:k,refresh:E,isAwake:function(){return t},setCursor:function(e){F.css("cursor",e)},enableHandles:O,enableOnly:function(){u=true},showHandles:L,disableHandles:M,animMode:_,setBgOpacity:N,done:j}}();var nt=function(){function s(t){F.css({zIndex:450});if(t)e(document).bind("touchmove.jcrop",l).bind("touchend.jcrop",c);else if(i)e(document).bind("mousemove.jcrop",u).bind("mouseup.jcrop",a)}function o(){F.css({zIndex:290});e(document).unbind(".jcrop")}function u(e){t(h(e));return false}function a(e){e.preventDefault();e.stopPropagation();if(K){K=false;n(h(e));if(tt.isAwake()){r.onSelect.call(yt,w(Z.getFixed()))}o();t=function(){};n=function(){}}return false}function f(e,r,i){K=true;t=e;n=r;s(i);return false}function l(e){t(h(Y.cfilter(e)));return false}function c(e){return a(Y.cfilter(e))}function p(e){F.css("cursor",e)}var t=function(){},n=function(){},i=r.trackDocument;if(!i){F.mousemove(u).mouseup(a).mouseout(a)}A.before(F);return{activateHandlers:f,setCursor:p}}();var rt=function(){function i(){if(r.keySupport){t.show();t.focus()}}function s(e){t.hide()}function o(e,t,n){if(r.allowMove){Z.moveOffset([t,n]);tt.updateVisible(true)}e.preventDefault();e.stopPropagation()}function a(e){if(e.ctrlKey||e.metaKey){return true}G=e.shiftKey?true:false;var t=G?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:if(r.allowSelect)tt.release();break;case 9:return true}return false}var t=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),n=e("<div />").css({position:"absolute",overflow:"hidden"}).append(t);if(r.keySupport){t.keydown(a).blur(s);if(u||!r.fixedSupport){t.css({position:"absolute",left:"-20px"});n.append(t).insertBefore(A)}else{t.insertBefore(A)}}return{watchKeys:i}}();if(Y.support)F.bind("touchstart.jcrop",Y.newSelection);H.hide();gt(true);var yt={setImage:vt,animateTo:st,setSelect:ot,setOptions:lt,tellSelect:at,tellScaled:ft,setClass:it,disable:ct,enable:ht,cancel:pt,release:tt.release,destroy:dt,focus:rt.watchKeys,getBounds:function(){return[O*X,M*V]},getWidgetSize:function(){return[O,M]},getScaleFactor:function(){return[X,V]},getOptions:function(){return r},ui:{holder:_,selection:B}};if(o)_.bind("selectstart",function(){return false});C.data("Jcrop",yt);return yt};e.fn.Jcrop=function(t,n){var r;this.each(function(){if(e(this).data("Jcrop")){if(t==="api")return e(this).data("Jcrop");else e(this).data("Jcrop").setOptions(t)}else{if(this.tagName=="IMG")e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"});r=e.Jcrop(this,t);if(e.isFunction(n))n.call(r)});else{e(this).css({display:"block",visibility:"hidden"});r=e.Jcrop(this,t);if(e.isFunction(n))n.call(r)}}});return this};e.Jcrop.Loader=function(t,n,r){function o(){if(s.complete){i.unbind(".jcloader");if(e.isFunction(n))n.call(s)}else window.setTimeout(o,50)}var i=e(t),s=i[0];i.bind("load.jcloader",o).bind("error.jcloader",function(t){i.unbind(".jcloader");if(e.isFunction(r))r.call(s)});if(s.complete&&e.isFunction(n)){i.unbind(".jcloader");n.call(s)}};e.Jcrop.defaults={allowSelect:true,allowMove:true,allowResize:true,trackDocument:true,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:false,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:true,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:true,dragEdges:true,fixedSupport:true,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);(function(e){var t=function(){return false===e.support.boxModel&&e.support.objectAll&&e.support.leadingWhitespace}();e.jGrowl=function(t,n){if(e("#jGrowl").size()==0)e('<div id="jGrowl"></div>').addClass(n&&n.position?n.position:e.jGrowl.defaults.position).appendTo("body");e("#jGrowl").jGrowl(t,n)};e.fn.jGrowl=function(t,n){if(e.isFunction(this.each)){var r=arguments;return this.each(function(){if(e(this).data("jGrowl.instance")==undefined){e(this).data("jGrowl.instance",e.extend(new e.fn.jGrowl,{notifications:[],element:null,interval:null}));e(this).data("jGrowl.instance").startup(this)}if(e.isFunction(e(this).data("jGrowl.instance")[t])){e(this).data("jGrowl.instance")[t].apply(e(this).data("jGrowl.instance"),e.makeArray(r).slice(1))}else{e(this).data("jGrowl.instance").create(t,n)}})}};e.extend(e.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:false,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:true,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,n){var n=e.extend({},this.defaults,n);if(typeof n.speed!=="undefined"){n.openDuration=n.speed;n.closeDuration=n.speed}this.notifications.push({message:t,options:n});n.log.apply(this.element,[this.element,t,n])},render:function(t){var n=this;var r=t.message;var i=t.options;i.themeState=i.themeState==""?"":"ui-state-"+i.themeState;var t=e("<div/>").addClass("jGrowl-notification "+i.themeState+" ui-corner-all"+(i.group!=undefined&&i.group!=""?" "+i.group:"")).append(e("<div/>").addClass("jGrowl-close").html(i.closeTemplate)).append(e("<div/>").addClass("jGrowl-header").html(i.header)).append(e("<div/>").addClass("jGrowl-message").html(r)).data("jGrowl",i).addClass(i.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){e(this).parent().trigger("jGrowl.beforeClose")}).parent();e(t).bind("mouseover.jGrowl",function(){e("div.jGrowl-notification",n.element).data("jGrowl.pause",true)}).bind("mouseout.jGrowl",function(){e("div.jGrowl-notification",n.element).data("jGrowl.pause",false)}).bind("jGrowl.beforeOpen",function(){if(i.beforeOpen.apply(t,[t,r,i,n.element])!==false){e(this).trigger("jGrowl.open")}}).bind("jGrowl.open",function(){if(i.open.apply(t,[t,r,i,n.element])!==false){if(i.glue=="after"){e("div.jGrowl-notification:last",n.element).after(t)}else{e("div.jGrowl-notification:first",n.element).before(t)}e(this).animate(i.animateOpen,i.openDuration,i.easing,function(){if(e.support.opacity===false)this.style.removeAttribute("filter");if(e(this).data("jGrowl")!==null)e(this).data("jGrowl").created=new Date;e(this).trigger("jGrowl.afterOpen")})}}).bind("jGrowl.afterOpen",function(){i.afterOpen.apply(t,[t,r,i,n.element])}).bind("jGrowl.beforeClose",function(){if(i.beforeClose.apply(t,[t,r,i,n.element])!==false)e(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){e(this).data("jGrowl.pause",true);e(this).animate(i.animateClose,i.closeDuration,i.easing,function(){if(e.isFunction(i.close)){if(i.close.apply(t,[t,r,i,n.element])!==false)e(this).remove()}else{e(this).remove()}})}).trigger("jGrowl.beforeOpen");if(i.corners!=""&&e.fn.corner!=undefined)e(t).corner(i.corners);if(e("div.jGrowl-notification:parent",n.element).size()>1&&e("div.jGrowl-closer",n.element).size()==0&&this.defaults.closer!==false){e(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(n.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){e(this).siblings().trigger("jGrowl.beforeClose");if(e.isFunction(n.defaults.closer)){n.defaults.closer.apply(e(this).parent()[0],[e(this).parent()[0]])}})}},update:function(){e(this.element).find("div.jGrowl-notification:parent").each(function(){if(e(this).data("jGrowl")!=undefined&&e(this).data("jGrowl").created!==undefined&&e(this).data("jGrowl").created.getTime()+parseInt(e(this).data("jGrowl").life)<(new Date).getTime()&&e(this).data("jGrowl").sticky!==true&&(e(this).data("jGrowl.pause")==undefined||e(this).data("jGrowl.pause")!==true)){e(this).trigger("jGrowl.beforeClose")}});if(this.notifications.length>0&&(this.defaults.pool==0||e(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool))this.render(this.notifications.shift());if(e(this.element).find("div.jGrowl-notification:parent").size()<2){e(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){e(this).remove()})}},startup:function(n){this.element=e(n).addClass("jGrowl").append('<div class="jGrowl-notification"></div>');this.interval=setInterval(function(){e(n).data("jGrowl.instance").update()},parseInt(this.defaults.check));if(t){e(this.element).addClass("ie6")}},shutdown:function(){e(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty();clearInterval(this.interval)},close:function(){e(this.element).find("div.jGrowl-notification").each(function(){e(this).trigger("jGrowl.beforeClose")})}});e.jGrowl.defaults=e.fn.jGrowl.prototype.defaults})(jQuery);(function(e){"use strict";var t={},n=Math.max,r=Math.min;t.c={};t.c.d=e(document);t.c.t=function(e){return e.originalEvent.touches.length-1};t.o=function(){var n=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.w=0;this.h=0;this.$c=null;this.c=null;this.t=0;this.isInit=false;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.scale=1;this.relative=false;this.relativeWidth=false;this.relativeHeight=false;this.$div=null;this.run=function(){var t=function(e,t){var r;for(r in t){n.o[r]=t[r]}n.init();n._configure()._draw()};if(this.$.data("kontroled"))return;this.$.data("kontroled",true);this.extend();this.o=e.extend({min:this.$.data("min")||0,max:this.$.data("max")||100,stopper:true,readOnly:this.$.data("readonly")||this.$.attr("readonly")=="readonly",cursor:this.$.data("cursor")===true&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:false,step:this.$.data("step")||1,draw:null,change:null,cancel:null,release:null,error:null},this.o);if(!this.o.inputColor){this.o.inputColor=this.o.fgColor}if(this.$.is("fieldset")){this.v={};this.i=this.$.find("input");this.i.each(function(t){var r=e(this);n.i[t]=r;n.v[t]=r.val();r.bind("change",function(){var e={};e[t]=r.val();n.val(e)})});this.$.find("legend").remove()}else{this.i=this.$;this.v=this.$.val();this.v==""&&(this.v=this.o.min);this.$.bind("change",function(){n.val(n._validate(n.$.val()))})}!this.o.displayInput&&this.$.hide();this.$c=e(document.createElement("canvas"));if(typeof G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(this.$c[0])}this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null;if(!this.c){this.o.error&&this.o.error();return}this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1);this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%");this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%");this.relative=this.relativeWidth||this.relativeHeight;this.$div=e('<div style="'+(this.o.inline?"display:inline;":"")+'"></div>');this.$.wrap(this.$div).before(this.$c);this.$div=this.$.parent();this._carve();if(this.v instanceof Object){this.cv={};this.copy(this.v,this.cv)}else{this.cv=this.v}this.$.bind("configure",t).parent().bind("configure",t);this._listen()._configure()._xy().init();this.isInit=true;this._draw();return this};this._carve=function(){if(this.relative){var e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(e,t)}else{this.w=this.o.width;this.h=this.o.height}this.$div.css({width:this.w+"px",height:this.h+"px"});this.$c.attr({width:this.w,height:this.h});if(this.scale!==1){this.$c[0].width=this.$c[0].width*this.scale;this.$c[0].height=this.$c[0].height*this.scale;this.$c.width(this.w);this.$c.height(this.h)}return this};this._draw=function(){var e=true;n.g=n.c;n.clear();n.dH&&(e=n.dH());e!==false&&n.draw()};this._touch=function(e){var r=function(e){var t=n.xy2val(e.originalEvent.touches[n.t].pageX,e.originalEvent.touches[n.t].pageY);if(t==n.cv)return;if(n.cH&&n.cH(t)===false)return;n.change(n._validate(t));n._draw()};this.t=t.c.t(e);r(e);t.c.d.bind("touchmove.k",r).bind("touchend.k",function(){t.c.d.unbind("touchmove.k touchend.k");if(n.rH&&n.rH(n.cv)===false)return;n.val(n.cv)});return this};this._mouse=function(e){var r=function(e){var t=n.xy2val(e.pageX,e.pageY);if(t==n.cv)return;if(n.cH&&n.cH(t)===false)return;n.change(n._validate(t));n._draw()};r(e);t.c.d.bind("mousemove.k",r).bind("keyup.k",function(e){if(e.keyCode===27){t.c.d.unbind("mouseup.k mousemove.k keyup.k");if(n.eH&&n.eH()===false)return;n.cancel()}}).bind("mouseup.k",function(e){t.c.d.unbind("mousemove.k mouseup.k keyup.k");if(n.rH&&n.rH(n.cv)===false)return;n.val(n.cv)});return this};this._xy=function(){var e=this.$c.offset();this.x=e.left;this.y=e.top;return this};this._listen=function(){if(!this.o.readOnly){this.$c.bind("mousedown",function(e){e.preventDefault();n._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault();n._xy()._touch(e)});if(this.relative){e(window).resize(function(){n._carve().init();n._draw()})}this.listen()}else{this.$.attr("readonly","readonly")}return this};this._configure=function(){if(this.o.draw)this.dH=this.o.draw;if(this.o.change)this.cH=this.o.change;if(this.o.cancel)this.eH=this.o.cancel;if(this.o.release)this.rH=this.o.release;if(this.o.displayPrevious){this.pColor=this.h2rgba(this.o.fgColor,"0.4");this.fgColor=this.h2rgba(this.o.fgColor,"0.6")}else{this.fgColor=this.o.fgColor}return this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(e){return~~((e<0?-.5:.5)+e/this.o.step)*this.o.step};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(e){};this.val=function(e){};this.xy2val=function(e,t){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(e,t){var n;e=e.substring(1,7);n=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)];return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"};this.copy=function(e,t){for(var n in e){t[n]=e[n]}}};t.Dial=function(){t.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:true},this.o)};this.val=function(e){if(null!=e){this.cv=this.o.stopper?n(r(e,this.o.max),this.o.min):e;this.v=this.cv;this.$.val(this.v);this._draw()}else{return this.v}};this.xy2val=function(e,t){var i,s;i=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset;if(this.angleArc!=this.PI2&&i<0&&i>-.5){i=0}else if(i<0){i+=this.PI2}s=~~(.5+i*(this.o.max-this.o.min)/this.angleArc)+this.o.min;this.o.stopper&&(s=n(r(s,this.o.max),this.o.min));return s};this.listen=function(){var t=this,i=function(e){e.preventDefault();var n=e.originalEvent,r=n.detail||n.wheelDeltaX,i=n.detail||n.wheelDeltaY,s=parseInt(t.$.val())+(r>0||i>0?t.o.step:r<0||i<0?-t.o.step:0);if(t.cH&&t.cH(s)===false)return;t.val(s)},s,o,u=1,a={37:-t.o.step,38:t.o.step,39:t.o.step,40:-t.o.step};this.$.bind("keydown",function(i){var f=i.keyCode;if(f>=96&&f<=105){f=i.keyCode=f-48}s=parseInt(String.fromCharCode(f));if(isNaN(s)){f!==13&&f!==8&&f!==9&&f!==189&&i.preventDefault();if(e.inArray(f,[37,38,39,40])>-1){i.preventDefault();var l=parseInt(t.$.val())+a[f]*u;t.o.stopper&&(l=n(r(l,t.o.max),t.o.min));t.change(l);t._draw();o=window.setTimeout(function(){u*=2},30)}}}).bind("keyup",function(e){if(isNaN(s)){if(o){window.clearTimeout(o);o=null;u=1;t.val(t.$.val())}}else{t.$.val()>t.o.max&&t.$.val(t.o.max)||t.$.val()<t.o.min&&t.$.val(t.o.min)}});this.$c.bind("mousewheel DOMMouseScroll",i);this.$.bind("mousewheel DOMMouseScroll",i)};this.init=function(){if(this.v<this.o.min||this.v>this.o.max)this.v=this.o.min;this.$.val(this.v);this.w2=this.w/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2*this.scale;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(this.w*3/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/e>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(e){this.cv=e;this.$.val(e)};this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.draw=function(){var e=this.g,t=this.angle(this.cv),n=this.startAngle,r=n+t,i,s,o=1;e.lineWidth=this.lineWidth;e.lineCap=this.lineCap;this.o.cursor&&(n=r-this.cursorExt)&&(r=r+this.cursorExt);e.beginPath();e.strokeStyle=this.o.bgColor;e.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,true);e.stroke();if(this.o.displayPrevious){s=this.startAngle+this.angle(this.v);i=this.startAngle;this.o.cursor&&(i=s-this.cursorExt)&&(s=s+this.cursorExt);e.beginPath();e.strokeStyle=this.pColor;e.arc(this.xy,this.xy,this.radius,i,s,false);e.stroke();o=this.cv==this.v}e.beginPath();e.strokeStyle=o?this.o.fgColor:this.fgColor;e.arc(this.xy,this.xy,this.radius,n,r,false);e.stroke()};this.cancel=function(){this.val(this.v)}};e.fn.dial=e.fn.knob=function(n){return this.each(function(){var r=new t.Dial;r.o=n;r.$=e(this);r.run()}).parent()}})(jQuery);!function(e){var t={replaceURL:false,target:"#loadingbar-frame",direction:"right",async:true,complete:function(e,t){},cache:true,error:function(e,t,n){},global:true,headers:{},statusCode:{},success:function(e,t,n){},dataType:"html"};e.fx.step.textShadowBlur=function(t){e(t.elem).prop("textShadowBlur",t.now).css({textShadow:"0 0 "+Math.floor(t.now)+"px black"})};e.fn.loadingbar=function(n){var r=e.extend({},t,n),i=e(this),s=i.attr("href"),o=i.data("target")?i.data("target"):r.target,u=i.data("type")?i.data("type"):r.type,a=i.data("datatype")?i.data("datatype"):r.dataType;return this.each(function(){i.click(function(){e.ajax({type:u,url:s,async:r.async,complete:r.complete,cache:r.cache,error:r.error,global:r.global,headers:r.headers,statusCode:r.statusCode,success:r.success,dataType:a,beforeSend:function(){if(e("#loadingbar").length===0){e("body").append("<div id='loadingbar'></div>");e("#loadingbar").addClass("waiting").append(e("<dt/><dd/>"));switch(r.direction){case"right":e("#loadingbar").width(50+Math.random()*30+"%");break;case"left":e("#loadingbar").addClass("left").animate({right:0,left:100-(50+Math.random()*30)+"%"},200);break;case"down":e("#loadingbar").addClass("down").animate({left:0,height:50+Math.random()*30+"%"},200);break;case"up":e("#loadingbar").addClass("up").animate({left:0,top:100-(50+Math.random()*30)+"%"},200);break}}}}).always(function(){switch(r.direction){case"right":e("#loadingbar").width("101%").delay(200).fadeOut(400,function(){e(this).remove()});break;case"left":e("#loadingbar").css("left","0").delay(200).fadeOut(400,function(){e(this).remove()});break;case"down":e("#loadingbar").height("101%").delay(200).fadeOut(400,function(){e(this).remove()});break;case"up":e("#loadingbar").css("top","0").delay(200).fadeOut(400,function(){e(this).remove()});break}}).done(function(t){if(history.replaceState&&r.replaceURL==true)history.pushState({},document.title,s);if(r.done){r.done(t,o)}else{e(o).html(t)}});return false})})}}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.options=n;this.$element=e(t);this.$container=e("<div/>",{"class":"ms-container"});this.$selectableContainer=e("<div/>",{"class":"ms-selectable"});this.$selectionContainer=e("<div/>",{"class":"ms-selection"});this.$selectableUl=e("<ul/>",{"class":"ms-list",tabindex:"-1"});this.$selectionUl=e("<ul/>",{"class":"ms-list",tabindex:"-1"});this.scrollTo=0;this.sanitizeRegexp=new RegExp("\\W+","gi");this.elemsSelector="li:visible:not(.ms-optgroup-label,.ms-optgroup-container,."+n.disabledClass+")"};t.prototype={constructor:t,init:function(){var t=this,n=this.$element;if(n.next(".ms-container").length===0){n.css({position:"absolute",left:"-9999px"});n.attr("id",n.attr("id")?n.attr("id"):Math.ceil(Math.random()*1e3)+"multiselect");this.$container.attr("id","ms-"+n.attr("id"));n.find("option").each(function(){t.generateLisFromOption(this)});this.$selectionUl.find(".ms-optgroup-label").hide();if(t.options.selectableHeader){t.$selectableContainer.append(t.options.selectableHeader)}t.$selectableContainer.append(t.$selectableUl);if(t.options.selectableFooter){t.$selectableContainer.append(t.options.selectableFooter)}if(t.options.selectionHeader){t.$selectionContainer.append(t.options.selectionHeader)}t.$selectionContainer.append(t.$selectionUl);if(t.options.selectionFooter){t.$selectionContainer.append(t.options.selectionFooter)}t.$container.append(t.$selectableContainer);t.$container.append(t.$selectionContainer);n.after(t.$container);t.activeMouse(t.$selectableUl);t.activeKeyboard(t.$selectableUl);var r=t.options.dblClick?"dblclick":"click";t.$selectableUl.on(r,".ms-elem-selectable",function(){t.select(e(this).data("ms-value"))});t.$selectionUl.on(r,".ms-elem-selection",function(){t.deselect(e(this).data("ms-value"))});t.activeMouse(t.$selectionUl);t.activeKeyboard(t.$selectionUl);n.on("focus",function(){t.$selectableUl.focus()})}var i=n.find("option:selected").map(function(){return e(this).val()}).get();t.select(i,"init");if(typeof t.options.afterInit==="function"){t.options.afterInit.call(this,this.$container)}},generateLisFromOption:function(t){var n=this,r=n.$element,i="",s=e(t);for(var o=0;o<t.attributes.length;o++){var u=t.attributes[o];if(u.name!=="value"&&u.name!=="disabled"){i+=u.name+'="'+u.value+'" '}}var a=e("<li "+i+"><span>"+s.text()+"</span></li>"),f=a.clone(),l=s.val(),c=n.sanitize(l,n.sanitizeRegexp);a.data("ms-value",l).addClass("ms-elem-selectable").attr("id",c+"-selectable");f.data("ms-value",l).addClass("ms-elem-selection").attr("id",c+"-selection").hide();if(s.prop("disabled")||r.prop("disabled")){f.addClass(n.options.disabledClass);a.addClass(n.options.disabledClass)}var h=s.parent("optgroup");if(h.length>0){var p=h.attr("label"),d=n.sanitize(p,n.sanitizeRegexp),v=n.$selectableUl.find("#optgroup-selectable-"+d),m=n.$selectionUl.find("#optgroup-selection-"+d);if(v.length===0){var g='<li class="ms-optgroup-container"></li>',y='<ul class="ms-optgroup"><li class="ms-optgroup-label"><span>'+p+"</span></li></ul>";v=e(g);m=e(g);v.attr("id","optgroup-selectable-"+d);m.attr("id","optgroup-selection-"+d);v.append(e(y));m.append(e(y));if(n.options.selectableOptgroup){v.find(".ms-optgroup-label").on("click",function(){var t=h.children(":not(:selected)").map(function(){return e(this).val()}).get();n.select(t)});m.find(".ms-optgroup-label").on("click",function(){var t=h.children(":selected").map(function(){return e(this).val()}).get();n.deselect(t)})}n.$selectableUl.append(v);n.$selectionUl.append(m)}v.children().append(a);m.children().append(f)}else{n.$selectableUl.append(a);n.$selectionUl.append(f)}},activeKeyboard:function(t){var n=this;t.on("focus",function(){e(this).addClass("ms-focus")}).on("blur",function(){e(this).removeClass("ms-focus")}).on("keydown",function(r){switch(r.which){case 40:case 38:r.preventDefault();r.stopPropagation();n.moveHighlight(e(this),r.which===38?-1:1);return;case 37:case 39:r.preventDefault();r.stopPropagation();n.switchList(t);return;case 9:if(n.$element.is("[tabindex]")){r.preventDefault();var i=parseInt(n.$element.attr("tabindex"),10);i=r.shiftKey?i-1:i+1;e('[tabindex="'+i+'"]').focus();return}else{if(r.shiftKey){n.$element.trigger("focus")}}}if(e.inArray(r.which,n.options.keySelect)>-1){r.preventDefault();r.stopPropagation();n.selectHighlighted(t);return}})},moveHighlight:function(e,t){var n=e.find(this.elemsSelector),r=n.filter(".ms-hover"),i=null,s=n.first().outerHeight(),o=e.height(),u="#"+this.$container.prop("id");n.off("mouseenter");n.removeClass("ms-hover");if(t===1){i=r.nextAll(this.elemsSelector).first();if(i.length===0){var a=r.parent();if(a.hasClass("ms-optgroup")){var f=a.parent(),l=f.next(":visible");if(l.length>0){i=l.find(this.elemsSelector).first()}else{i=n.first()}}else{i=n.first()}}}else if(t===-1){i=r.prevAll(this.elemsSelector).first();if(i.length===0){var a=r.parent();if(a.hasClass("ms-optgroup")){var f=a.parent(),c=f.prev(":visible");if(c.length>0){i=c.find(this.elemsSelector).last()}else{i=n.last()}}else{i=n.last()}}}if(i.length>0){i.addClass("ms-hover");var h=e.scrollTop()+i.position().top-o/2+s/2;e.scrollTop(h)}},selectHighlighted:function(e){var t=e.find(this.elemsSelector),n=t.filter(".ms-hover").first();if(n.length>0){if(e.parent().hasClass("ms-selectable")){this.select(n.data("ms-value"))}else{this.deselect(n.data("ms-value"))}t.removeClass("ms-hover")}},switchList:function(e){e.blur();if(e.parent().hasClass("ms-selectable")){this.$selectionUl.focus()}else{this.$selectableUl.focus()}},activeMouse:function(t){var n=this;t.on("mousemove",function(){var r=t.find(n.elemsSelector);r.on("mouseenter",function(){r.removeClass("ms-hover");e(this).addClass("ms-hover")})})},refresh:function(){this.destroy();this.$element.multiSelect(this.options)},destroy:function(){e("#ms-"+this.$element.attr("id")).remove();this.$element.removeData("multiselect")},select:function(t,n){if(typeof t==="string"){t=[t]}var r=this,i=this.$element,s=e.map(t,function(e){return r.sanitize(e,r.sanitizeRegexp)}),o=this.$selectableUl.find("#"+s.join("-selectable, #")+"-selectable").filter(":not(."+r.options.disabledClass+")"),u=this.$selectionUl.find("#"+s.join("-selection, #")+"-selection").filter(":not(."+r.options.disabledClass+")"),a=i.find("option:not(:disabled)").filter(function(){return e.inArray(this.value,t)>-1});if(o.length>0){o.addClass("ms-selected").hide();u.addClass("ms-selected").show();a.prop("selected",true);var f=r.$selectableUl.children(".ms-optgroup-container");if(f.length>0){f.each(function(){var t=e(this).find(".ms-elem-selectable");if(t.length===t.filter(".ms-selected").length){e(this).find(".ms-optgroup-label").hide()}});var l=r.$selectionUl.children(".ms-optgroup-container");l.each(function(){var t=e(this).find(".ms-elem-selection");if(t.filter(".ms-selected").length>0){e(this).find(".ms-optgroup-label").show()}})}else{if(r.options.keepOrder){var c=r.$selectionUl.find(".ms-selected");if(c.length>1&&c.last().get(0)!=u.get(0)){u.insertAfter(c.last())}}}if(n!=="init"){i.trigger("change");if(typeof r.options.afterSelect==="function"){r.options.afterSelect.call(this,t)}}}},deselect:function(t){if(typeof t==="string"){t=[t]}var n=this,r=this.$element,i=e.map(t,function(e){return n.sanitize(e,n.sanitizeRegexp)}),s=this.$selectableUl.find("#"+i.join("-selectable, #")+"-selectable"),o=this.$selectionUl.find("#"+i.join("-selection, #")+"-selection").filter(".ms-selected"),u=r.find("option").filter(function(){return e.inArray(this.value,t)>-1});if(o.length>0){s.removeClass("ms-selected").show();o.removeClass("ms-selected").hide();u.prop("selected",false);var a=n.$selectableUl.children(".ms-optgroup-container");if(a.length>0){a.each(function(){var t=e(this).find(".ms-elem-selectable");if(t.filter(":not(.ms-selected)").length>0){e(this).find(".ms-optgroup-label").show()}});var f=n.$selectionUl.children(".ms-optgroup-container");f.each(function(){var t=e(this).find(".ms-elem-selection");if(t.filter(".ms-selected").length===0){e(this).find(".ms-optgroup-label").hide()}})}r.trigger("change");if(typeof n.options.afterDeselect==="function"){n.options.afterDeselect.call(this,t)}}},select_all:function(){var t=this.$element,n=t.val();t.find('option:not(":disabled")').prop("selected",true);this.$selectableUl.find(".ms-elem-selectable").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").hide();this.$selectionUl.find(".ms-optgroup-label").show();this.$selectableUl.find(".ms-optgroup-label").hide();this.$selectionUl.find(".ms-elem-selection").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").show();this.$selectionUl.focus();t.trigger("change");if(typeof this.options.afterSelect==="function"){var r=e.grep(t.val(),function(t){return e.inArray(t,n)<0});this.options.afterSelect.call(this,r)}},deselect_all:function(){var e=this.$element,t=e.val();e.find("option").prop("selected",false);this.$selectableUl.find(".ms-elem-selectable").removeClass("ms-selected").show();this.$selectionUl.find(".ms-optgroup-label").hide();this.$selectableUl.find(".ms-optgroup-label").show();this.$selectionUl.find(".ms-elem-selection").removeClass("ms-selected").hide();this.$selectableUl.focus();e.trigger("change");if(typeof this.options.afterDeselect==="function"){this.options.afterDeselect.call(this,t)}},sanitize:function(e,t){return e.replace(t,"_")}};e.fn.multiSelect=function(){var n=arguments[0],r=arguments;return this.each(function(){var i=e(this),s=i.data("multiselect"),o=e.extend({},e.fn.multiSelect.defaults,i.data(),typeof n==="object"&&n);if(!s){i.data("multiselect",s=new t(this,o))}if(typeof n==="string"){s[n](r[1])}else{s.init()}})};e.fn.multiSelect.defaults={keySelect:[32],selectableOptgroup:false,disabledClass:"disabled",dblClick:false,keepOrder:false};e.fn.multiSelect.Constructor=t}(window.jQuery);if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e){var t={init:function(t){this.options=e.extend({},e.noty.defaults,t);this.options.layout=this.options.custom?e.noty.layouts["inline"]:e.noty.layouts[this.options.layout];this.options.theme=e.noty.themes[this.options.theme];delete t.layout;delete t.theme;this.options=e.extend({},this.options,this.options.layout.options);this.options.id="noty_"+(new Date).getTime()*Math.floor(Math.random()*1e6);this.options=e.extend({},this.options,t);this._build();return this},_build:function(){var t=e('<div class="noty_bar"></div>').attr("id",this.options.id);t.append(this.options.template).find(".noty_text").html(this.options.text);this.$bar=this.options.layout.parent.object!==null?e(this.options.layout.parent.object).css(this.options.layout.parent.css).append(t):t;if(this.options.buttons){this.options.closeWith=[];this.options.timeout=false;var n=e("<div/>").addClass("noty_buttons");this.options.layout.parent.object!==null?this.$bar.find(".noty_bar").append(n):this.$bar.append(n);var r=this;e.each(this.options.buttons,function(t,n){var i=e("<button/>").addClass(n.addClass?n.addClass:"gray").html(n.text).appendTo(r.$bar.find(".noty_buttons")).bind("click",function(){if(e.isFunction(n.onClick)){n.onClick.call(i,r)}})})}this.$message=this.$bar.find(".noty_message");this.$closeButton=this.$bar.find(".noty_close");this.$buttons=this.$bar.find(".noty_buttons");e.noty.store[this.options.id]=this},show:function(){var t=this;e(t.options.layout.container.selector).append(t.$bar);t.options.theme.style.apply(t);e.type(t.options.layout.css)==="function"?this.options.layout.css.apply(t.$bar):t.$bar.css(this.options.layout.css||{});t.$bar.addClass(t.options.layout.addClass);t.options.layout.container.style.apply(e(t.options.layout.container.selector));t.options.theme.callback.onShow.apply(this);if(e.inArray("click",t.options.closeWith)>-1)t.$bar.css("cursor","pointer").one("click",function(e){t.stopPropagation(e);if(t.options.callback.onCloseClick){t.options.callback.onCloseClick.apply(t)}t.close()});if(e.inArray("hover",t.options.closeWith)>-1)t.$bar.one("mouseenter",function(){t.close()});if(e.inArray("button",t.options.closeWith)>-1)t.$closeButton.one("click",function(e){t.stopPropagation(e);t.close()});if(e.inArray("button",t.options.closeWith)==-1)t.$closeButton.remove();if(t.options.callback.onShow)t.options.callback.onShow.apply(t);t.$bar.animate(t.options.animation.open,t.options.animation.speed,t.options.animation.easing,function(){if(t.options.callback.afterShow)t.options.callback.afterShow.apply(t);t.shown=true});if(t.options.timeout)t.$bar.delay(t.options.timeout).promise().done(function(){t.close()});return this},close:function(){if(this.closed)return;if(this.$bar&&this.$bar.hasClass("i-am-closing-now"))return;var t=this;if(!this.shown){var n=[];e.each(e.noty.queue,function(e,r){if(r.options.id!=t.options.id){n.push(r)}});e.noty.queue=n;return}t.$bar.addClass("i-am-closing-now");if(t.options.callback.onClose){t.options.callback.onClose.apply(t)}t.$bar.clearQueue().stop().animate(t.options.animation.close,t.options.animation.speed,t.options.animation.easing,function(){if(t.options.callback.afterClose)t.options.callback.afterClose.apply(t)}).promise().done(function(){if(t.options.modal){e.notyRenderer.setModalCount(-1);if(e.notyRenderer.getModalCount()==0)e(".noty_modal").fadeOut("fast",function(){e(this).remove()})}e.notyRenderer.setLayoutCountFor(t,-1);if(e.notyRenderer.getLayoutCountFor(t)==0)e(t.options.layout.container.selector).remove();if(typeof t.$bar!=="undefined"&&t.$bar!==null){t.$bar.remove();t.$bar=null;t.closed=true}delete e.noty.store[t.options.id];t.options.theme.callback.onClose.apply(t);if(!t.options.dismissQueue){e.noty.ontap=true;e.notyRenderer.render()}if(t.options.maxVisible>0&&t.options.dismissQueue){e.notyRenderer.render()}})},setText:function(e){if(!this.closed){this.options.text=e;this.$bar.find(".noty_text").html(e)}return this},setType:function(e){if(!this.closed){this.options.type=e;this.options.theme.style.apply(this);this.options.theme.callback.onShow.apply(this)}return this},setTimeout:function(e){if(!this.closed){var t=this;this.options.timeout=e;t.$bar.delay(t.options.timeout).promise().done(function(){t.close()})}return this},stopPropagation:function(e){e=e||window.event;if(typeof e.stopPropagation!=="undefined"){e.stopPropagation()}else{e.cancelBubble=true}},closed:false,shown:false};e.notyRenderer={};e.notyRenderer.init=function(n){var r=Object.create(t).init(n);r.options.force?e.noty.queue.unshift(r):e.noty.queue.push(r);e.notyRenderer.render();return e.noty.returns=="object"?r:r.options.id};e.notyRenderer.render=function(){var t=e.noty.queue[0];if(e.type(t)==="object"){if(t.options.dismissQueue){if(t.options.maxVisible>0){if(e(t.options.layout.container.selector+" li").length<t.options.maxVisible){e.notyRenderer.show(e.noty.queue.shift())}else{}}else{e.notyRenderer.show(e.noty.queue.shift())}}else{if(e.noty.ontap){e.notyRenderer.show(e.noty.queue.shift());e.noty.ontap=false}}}else{e.noty.ontap=true}};e.notyRenderer.show=function(t){if(t.options.modal){e.notyRenderer.createModalFor(t);e.notyRenderer.setModalCount(+1)}if(e(t.options.layout.container.selector).length==0){if(t.options.custom){t.options.custom.append(e(t.options.layout.container.object).addClass("i-am-new"))}else{e("body").append(e(t.options.layout.container.object).addClass("i-am-new"))}}else{e(t.options.layout.container.selector).removeClass("i-am-new")}e.notyRenderer.setLayoutCountFor(t,+1);t.show()};e.notyRenderer.createModalFor=function(t){if(e(".noty_modal").length==0)e("<div/>").addClass("noty_modal").data("noty_modal_count",0).css(t.options.theme.modal.css).prependTo(e("body")).fadeIn("fast")};e.notyRenderer.getLayoutCountFor=function(t){return e(t.options.layout.container.selector).data("noty_layout_count")||0};e.notyRenderer.setLayoutCountFor=function(t,n){return e(t.options.layout.container.selector).data("noty_layout_count",e.notyRenderer.getLayoutCountFor(t)+n)};e.notyRenderer.getModalCount=function(){return e(".noty_modal").data("noty_modal_count")||0};e.notyRenderer.setModalCount=function(t){return e(".noty_modal").data("noty_modal_count",e.notyRenderer.getModalCount()+t)};e.fn.noty=function(t){t.custom=e(this);return e.notyRenderer.init(t)};e.noty={};e.noty.queue=[];e.noty.ontap=true;e.noty.layouts={};e.noty.themes={};e.noty.returns="object";e.noty.store={};e.noty.get=function(t){return e.noty.store.hasOwnProperty(t)?e.noty.store[t]:false};e.noty.close=function(t){return e.noty.get(t)?e.noty.get(t).close():false};e.noty.setText=function(t,n){return e.noty.get(t)?e.noty.get(t).setText(n):false};e.noty.setType=function(t,n){return e.noty.get(t)?e.noty.get(t).setType(n):false};e.noty.clearQueue=function(){e.noty.queue=[]};e.noty.closeAll=function(){e.noty.clearQueue();e.each(e.noty.store,function(e,t){t.close()})};var n=window.alert;e.noty.consumeAlert=function(t){window.alert=function(n){if(t)t.text=n;else t={text:n};e.notyRenderer.init(t)}};e.noty.stopConsumeAlert=function(){window.alert=n};e.noty.defaults={layout:"top",theme:"agileUI",type:"alert",text:"",dismissQueue:true,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500},timeout:false,force:false,modal:false,maxVisible:5,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:false};e(window).resize(function(){e.each(e.noty.layouts,function(t,n){n.container.style.apply(e(n.container.selector))})})})(jQuery);window.noty=function(t){var n=0,r={animateOpen:"animation.open",animateClose:"animation.close",easing:"animation.easing",speed:"animation.speed",onShow:"callback.onShow",onShown:"callback.afterShow",onClose:"callback.onClose",onCloseClick:"callback.onCloseClick",onClosed:"callback.afterClose"};jQuery.each(t,function(e,i){if(r[e]){n++;var s=r[e].split(".");if(!t[s[0]])t[s[0]]={};t[s[0]][s[1]]=i?i:function(){};delete t[e]}});if(!t.closeWith){t.closeWith=jQuery.noty.defaults.closeWith}if(t.hasOwnProperty("closeButton")){n++;if(t.closeButton)t.closeWith.push("button");delete t.closeButton}if(t.hasOwnProperty("closeOnSelfClick")){n++;if(t.closeOnSelfClick)t.closeWith.push("click");delete t.closeOnSelfClick}if(t.hasOwnProperty("closeOnSelfOver")){n++;if(t.closeOnSelfOver)t.closeWith.push("hover");delete t.closeOnSelfOver}if(t.hasOwnProperty("custom")){n++;if(t.custom.container!="null")t.custom=t.custom.container}if(t.hasOwnProperty("cssPrefix")){n++;delete t.cssPrefix}if(t.theme=="noty_theme_default"){n++;t.theme="agileUI"}if(!t.hasOwnProperty("dismissQueue")){t.dismissQueue=jQuery.noty.defaults.dismissQueue}if(!t.hasOwnProperty("maxVisible")){t.maxVisible=jQuery.noty.defaults.maxVisible}if(t.buttons){jQuery.each(t.buttons,function(e,t){if(t.click){n++;t.onClick=t.click;delete t.click}if(t.type){n++;t.addClass=t.type;delete t.type}})}if(n){if(typeof console!=="undefined"&&console.warn){console.warn("You are using noty v2 with v1.x.x options. @deprecated until v2.2.0 - Please update your options.")}}return jQuery.notyRenderer.init(t)};(function(e){e.noty.themes.agileUI={name:"agileUI",helpers:{borderFix:function(){if(this.options.dismissQueue){var e=this.options.layout.container.selector+" "+this.options.layout.parent.selector}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.7,display:"none",left:0,top:0}},style:function(){this.$bar.bind({mouseenter:function(){e(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){e(this).find(".noty_close").stop().fadeTo("normal",0)}});switch(this.options.type){case"alert":this.$bar.addClass("bg-orange");break;case"notification":this.$bar.addClass("bg-blue");break;case"warning":this.$bar.addClass("bg-orange");break;case"error":this.$bar.addClass("bg-red");break;case"information":this.$bar.addClass("bg-gray");break;case"success":this.$bar.addClass("bg-green");break;default:this.$bar.addClass("bg-black");break}},callback:{onShow:function(){e.noty.themes.agileUI.helpers.borderFix.apply(this)},onClose:function(){e.noty.themes.agileUI.helpers.borderFix.apply(this)}}}})(jQuery);(function(e){e.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul class="noty-wrapper" id="noty_bottom" />',selector:"ul#noty_bottom",style:function(){e(this).css({})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}})(jQuery);(function(e){e.noty.layouts.top={name:"top",options:{},container:{object:'<ul class="noty-wrapper" id="noty_top" />',selector:"ul#noty_top",style:function(){}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}})(jQuery);(function(e){e.noty.layouts.center={name:"center",options:{modal:true},container:{object:'<ul class="noty-wrapper" id="noty_center" />',selector:"ul#noty_center",style:function(){e("li",this).addClass("radius-all-4 modal-dialog");e(this).css({width:"300px",height:"auto"});var t=e(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");e("body").append(t);t.find(".i-am-closing-now").remove();t.find("li").css("display","block");var n=t.height();t.remove();if(e(this).hasClass("i-am-new")){e(this).css({left:(e(window).width()-e(this).outerWidth(false))/2+"px",top:(e(window).height()-n)/2+"px"})}else{e(this).animate({left:(e(window).width()-e(this).outerWidth(false))/2+"px",top:(e(window).height()-n)/2+"px"},500)}}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}})(jQuery);$(document).ready(function(){$(".loader-show").click(function(){var e=$(this).attr("data-theme");var t=$(this).attr("data-opacity");var n=$(this).attr("data-style");var r='<div id="loader-overlay" class="ui-front hide loader ui-widget-overlay '+e+" opacity-"+t+'"><img src="assets/images/loader-'+n+'.gif" alt="" /></div>';$("#loader-overlay").remove();$("body").append(r);$("#loader-overlay").fadeIn("fast");var i=window.setTimeout(function(){$("#loader-overlay").fadeOut("fast")},1500)});$(".refresh-button").click(function(e){$(".glyph-icon",this).addClass("icon-spin display-block");e.preventDefault();var t=$(this).parent().parent();var n=$(this).attr("data-theme");var r=$(this).attr("data-opacity");var i=$(this).attr("data-style");var s='<div id="refresh-overlay" class="ui-front hide loader ui-widget-overlay '+n+" opacity-"+r+'"><img src="assets/images/loader-'+i+'.gif" alt="" /></div>';$("#refresh-overlay").remove();$(t).append(s);$("#refresh-overlay").fadeIn("fast");var o=window.setTimeout(function(){$(".glyph-icon").removeClass("icon-spin display-block");$("#refresh-overlay").fadeOut("fast")},1e3)})});$(document).on("ready",function(){$(".progressbar").each(function(){var e=$(this);var t=$(this).attr("data-value");progress(t,e)})});$(function(){$("#progress-dropdown, #menu-right, #progress-25").hover(function(){$(".progressbar").each(function(){var e=$(this);var t=$(this).attr("data-value");progress(t,e)})})});(function(e){function f(){var e=document.getElementsByTagName("script");var t=e[e.length-1].src.split("?")[0];return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}function N(e,t,n){for(var r=0;r<t.length;r++)n(e,t[r])}var t=false;var n=false;var r=false;var i=5e3;var s=2e3;var o=0;var u=e;var l=f();var c=["ms","moz","webkit","o"];var h=window.requestAnimationFrame||false;var p=window.cancelAnimationFrame||false;if(!h){for(var d in c){var v=c[d];if(!h)h=window[v+"RequestAnimationFrame"];if(!p)p=window[v+"CancelAnimationFrame"]||window[v+"CancelRequestAnimationFrame"]}}var m=window.MutationObserver||window.WebKitMutationObserver||false;var g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:8*3,touchbehavior:false,hwacceleration:true,usetransition:true,boxzoom:false,dblclickzoom:true,gesturezoom:true,grabcursorenabled:true,autohidemode:true,background:"",iframeautoresize:true,cursorminheight:32,preservenativescrolling:true,railoffset:false,bouncescroll:true,spacebarenabled:true,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:true,horizrailenabled:true,railalign:"right",railvalign:"bottom",enabletranslate3d:true,enablemousewheel:true,enablekeyboard:true,smoothscroll:true,sensitiverail:true,enablemouselockapi:true,cursorfixedheight:false,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:true,enablescrollonselection:true,overflowx:true,overflowy:true,cursordragspeed:.3,rtlmode:false,cursordragontouch:false,oneaxismousemode:"auto"};var y=false;var b=function(){function o(){var n=["-moz-grab","-webkit-grab","grab"];if(t.ischrome&&!t.ischrome22||t.isie)n=[];for(var r=0;r<n.length;r++){var i=n[r];e.style["cursor"]=i;if(e.style["cursor"]==i)return i}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}if(y)return y;var e=document.createElement("DIV");var t={};t.haspointerlock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document;t.isopera="opera"in window;t.isopera12=t.isopera&&"getUserMedia"in navigator;t.isoperamini=Object.prototype.toString.call(window.operamini)==="[object OperaMini]";t.isie="all"in document&&"attachEvent"in e&&!t.isopera;t.isieold=t.isie&&!("msInterpolationMode"in e.style);t.isie7=t.isie&&!t.isieold&&(!("documentMode"in document)||document.documentMode==7);t.isie8=t.isie&&"documentMode"in document&&document.documentMode==8;t.isie9=t.isie&&"performance"in window&&document.documentMode>=9;t.isie10=t.isie&&"performance"in window&&document.documentMode>=10;t.isie9mobile=/iemobile.9/i.test(navigator.userAgent);if(t.isie9mobile)t.isie9=false;t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent);t.ismozilla="MozAppearance"in e.style;t.iswebkit="WebkitAppearance"in e.style;t.ischrome="chrome"in window;t.ischrome22=t.ischrome&&t.haspointerlock;t.ischrome26=t.ischrome&&"transition"in e.style;t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window;t.hasmstouch=window.navigator.msPointerEnabled||false;t.ismac=/^mac$/i.test(navigator.platform);t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);t.isios4=t.isios&&!("seal"in Object);t.isandroid=/android/i.test(navigator.userAgent);t.trstyle=false;t.hastransform=false;t.hastranslate3d=false;t.transitionstyle=false;t.hastransition=false;t.transitionend=false;var n=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(var r=0;r<n.length;r++){if(typeof e.style[n[r]]!="undefined"){t.trstyle=n[r];break}}t.hastransform=t.trstyle!=false;if(t.hastransform){e.style[t.trstyle]="translate3d(1px,2px,3px)";t.hastranslate3d=/translate3d/.test(e.style[t.trstyle])}t.transitionstyle=false;t.prefixstyle="";t.transitionend=false;var n=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"];var i=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"];var s=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"];for(var r=0;r<n.length;r++){if(n[r]in e.style){t.transitionstyle=n[r];t.prefixstyle=i[r];t.transitionend=s[r];break}}if(t.ischrome26){t.prefixstyle=i[1]}t.hastransition=t.transitionstyle;t.cursorgrabvalue=o();t.hasmousecapture="setCapture"in e;t.hasMutationObserver=m!==false;e=null;y=t;return t};var w=function(e,r){function v(){var e=a.win;if("zIndex"in e)return e.zIndex();while(e.length>0){if(e[0].nodeType==9)return false;var t=e.css("zIndex");if(!isNaN(t)&&t!=0)return parseInt(t);e=e.parent()}return false}function w(e,t,n){var r=e.css(t);var i=parseFloat(r);if(isNaN(i)){i=y[r]||0;var s=i==3?n?a.win.outerHeight()-a.win.innerHeight():a.win.outerWidth()-a.win.innerWidth():1;if(a.isie8&&i)i+=1;return s?i:0}return i}function S(e,t,n,r){a._bind(e,t,function(r){var r=r?r:window.event;var i={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:r.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0,preventDefault:function(){r.preventDefault?r.preventDefault():r.returnValue=false;return false},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=true}};if(t=="mousewheel"){i.deltaY=-1/40*r.wheelDelta;r.wheelDeltaX&&(i.deltaX=-1/40*r.wheelDeltaX)}else{i.deltaY=r.detail}return n.call(e,i)},r)}function x(e,t,n){var r,i;var s=1;if(e.deltaMode==0){r=-Math.floor(e.deltaX*(a.opt.mousescrollstep/(18*3)));i=-Math.floor(e.deltaY*(a.opt.mousescrollstep/(18*3)))}else if(e.deltaMode==1){r=-Math.floor(e.deltaX*a.opt.mousescrollstep);i=-Math.floor(e.deltaY*a.opt.mousescrollstep)}if(t&&a.opt.oneaxismousemode&&r==0&&i){r=i;i=0}if(r){if(a.scrollmom){a.scrollmom.stop()}a.lastdeltax+=r;a.debounced("mousewheelx",function(){var e=a.lastdeltax;a.lastdeltax=0;if(!a.rail.drag){a.doScrollLeftBy(e)}},120)}if(i){if(a.opt.nativeparentscrolling&&n&&!a.ispage&&!a.zoomactive){if(i<0){if(a.getScrollTop()>=a.page.maxh)return true}else{if(a.getScrollTop()<=0)return true}}if(a.scrollmom){a.scrollmom.stop()}a.lastdeltay+=i;a.debounced("mousewheely",function(){var e=a.lastdeltay;a.lastdeltay=0;if(!a.rail.drag){a.doScrollBy(e)}},120)}e.stopImmediatePropagation();return e.preventDefault()}var a=this;this.version="3.5.1";this.name="nicescroll";this.me=r;this.opt={doc:u("body"),win:false};u.extend(this.opt,g);this.opt.snapbackspeed=80;if(e||false){for(var f in a.opt){if(typeof e[f]!="undefined")a.opt[f]=e[f]}}this.doc=a.opt.doc;this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/BODY|HTML/.test(a.opt.win?a.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=a.opt.win!==false;this.win=a.opt.win||(this.ispage?u(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?u(window):this.win;this.body=u("body");this.viewport=false;this.isfixed=false;this.iframe=false;this.isiframe=this.doc[0].nodeName=="IFRAME"&&this.win[0].nodeName=="IFRAME";this.istextarea=this.win[0].nodeName=="TEXTAREA";this.forcescreen=false;this.canshowonmouseevent=a.opt.autohidemode!="scroll";this.onmousedown=false;this.onmouseup=false;this.onmousemove=false;this.onmousewheel=false;this.onkeypress=false;this.ongesturezoom=false;this.onclick=false;this.onscrollstart=false;this.onscrollend=false;this.onscrollcancel=false;this.onzoomin=false;this.onzoomout=false;this.view=false;this.page=false;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.checkrtlmode=false;this.scrollrunning=false;this.scrollmom=false;this.observer=false;this.observerremover=false;do{this.id="ascrail"+s++}while(document.getElementById(this.id));this.rail=false;this.cursor=false;this.cursorfreezed=false;this.selectiondrag=false;this.zoom=false;this.zoomactive=false;this.hasfocus=false;this.hasmousefocus=false;this.visibility=true;this.locked=false;this.hidden=false;this.cursoractive=true;this.overflowx=a.opt.overflowx;this.overflowy=a.opt.overflowy;this.nativescrollingarea=false;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltax=0;this.lastdeltay=0;this.detected=b();var c=u.extend({},this.detected);this.canhwscroll=c.hastransform&&a.opt.hwacceleration;this.ishwscroll=this.canhwscroll&&a.haswrapper;this.istouchcapable=false;if(c.cantouch&&c.ischrome&&!c.isios&&!c.isandroid){this.istouchcapable=true;c.cantouch=false}if(c.cantouch&&c.ismozilla&&!c.isios&&!c.isandroid){this.istouchcapable=true;c.cantouch=false}if(!a.opt.enablemouselockapi){c.hasmousecapture=false;c.haspointerlock=false}this.delayed=function(e,t,n,r){var i=a.delaylist[e];var s=(new Date).getTime();if(!r&&i&&i.tt)return false;if(i&&i.tt)clearTimeout(i.tt);if(i&&i.last+n>s&&!i.tt){a.delaylist[e]={last:s+n,tt:setTimeout(function(){a.delaylist[e].tt=0;t.call()},n)}}else if(!i||!i.tt){a.delaylist[e]={last:s,tt:0};setTimeout(function(){t.call()},0)}};this.debounced=function(e,t,n){var r=a.delaylist[e];var i=(new Date).getTime();a.delaylist[e]=t;if(!r){setTimeout(function(){var t=a.delaylist[e];a.delaylist[e]=false;t.call()},n)}};this.synched=function(e,t){function n(){if(a.onsync)return;h(function(){a.onsync=false;for(e in a.synclist){var t=a.synclist[e];if(t)t.call(a);a.synclist[e]=false}});a.onsync=true}a.synclist[e]=t;n();return e};this.unsynched=function(e){if(a.synclist[e])a.synclist[e]=false};this.css=function(e,t){for(var n in t){a.saved.css.push([e,n,e.css(n)]);e.css(n,t[n])}};this.scrollTop=function(e){return typeof e=="undefined"?a.getScrollTop():a.setScrollTop(e)};this.scrollLeft=function(e){return typeof e=="undefined"?a.getScrollLeft():a.setScrollLeft(e)};BezierClass=function(e,t,n,r,i,s,o){this.st=e;this.ed=t;this.spd=n;this.p1=r||0;this.p2=i||1;this.p3=s||0;this.p4=o||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=(new Date).getTime();var t=1-(e-this.ts)/this.spd;var n=this.B2(t)+this.B3(t)+this.B4(t);return t<0?this.ed:this.st+Math.round(this.df*n)},update:function(e,t){this.st=this.getNow();this.ed=e;this.spd=t;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};if(c.hastranslate3d&&c.isios)this.doc.css("-webkit-backface-visibility","hidden");function d(){var e=a.doc.css(c.trstyle);if(e&&e.substr(0,6)=="matrix"){return e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}return false}this.getScrollTop=function(e){if(!e){var t=d();if(t)return t.length==16?-t[13]:-t[5];if(a.timerscroll&&a.timerscroll.bz)return a.timerscroll.bz.getNow()}return a.doc.translate.y};this.getScrollLeft=function(e){if(!e){var t=d();if(t)return t.length==16?-t[12]:-t[4];if(a.timerscroll&&a.timerscroll.bh)return a.timerscroll.bh.getNow()}return a.doc.translate.x};if(document.createEvent){this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",false,true,window,1);e.dispatchEvent(t)}}else if(document.fireEvent){this.notifyScrollEvent=function(e){var t=document.createEventObject();e.fireEvent("onscroll");t.cancelBubble=true}}else{this.notifyScrollEvent=function(e,t){}}if(c.hastranslate3d&&a.opt.enabletranslate3d){this.setScrollTop=function(e,t){a.doc.translate.y=e;a.doc.translate.ty=e*-1+"px";a.doc.css(c.trstyle,"translate3d("+a.doc.translate.tx+","+a.doc.translate.ty+",0px)");if(!t)a.notifyScrollEvent(a.win[0])};this.setScrollLeft=function(e,t){a.doc.translate.x=e;a.doc.translate.tx=e*-1+"px";a.doc.css(c.trstyle,"translate3d("+a.doc.translate.tx+","+a.doc.translate.ty+",0px)");if(!t)a.notifyScrollEvent(a.win[0])}}else{this.setScrollTop=function(e,t){a.doc.translate.y=e;a.doc.translate.ty=e*-1+"px";a.doc.css(c.trstyle,"translate("+a.doc.translate.tx+","+a.doc.translate.ty+")");if(!t)a.notifyScrollEvent(a.win[0])};this.setScrollLeft=function(e,t){a.doc.translate.x=e;a.doc.translate.tx=e*-1+"px";a.doc.css(c.trstyle,"translate("+a.doc.translate.tx+","+a.doc.translate.ty+")");if(!t)a.notifyScrollEvent(a.win[0])}}}else{this.getScrollTop=function(){return a.docscroll.scrollTop()};this.setScrollTop=function(e){return a.docscroll.scrollTop(e)};this.getScrollLeft=function(){return a.docscroll.scrollLeft()};this.setScrollLeft=function(e){return a.docscroll.scrollLeft(e)}}this.getTarget=function(e){if(!e)return false;if(e.target)return e.target;if(e.srcElement)return e.srcElement;return false};this.hasParent=function(e,t){if(!e)return false;var n=e.target||e.srcElement||e||false;while(n&&n.id!=t){n=n.parentNode||false}return n!==false};var y={thin:1,medium:3,thick:5};this.getOffset=function(){if(a.isfixed)return{top:parseFloat(a.win.css("top")),left:parseFloat(a.win.css("left"))};if(!a.viewport)return a.win.offset();var e=a.win.offset();var t=a.viewport.offset();return{top:e.top-t.top+a.viewport.scrollTop(),left:e.left-t.left+a.viewport.scrollLeft()}};this.updateScrollBar=function(e){if(a.ishwscroll){a.rail.css({height:a.win.innerHeight()});if(a.railh)a.railh.css({width:a.win.innerWidth()})}else{var t=a.getOffset();var n={top:t.top,left:t.left};n.top+=w(a.win,"border-top-width",true);var r=(a.win.outerWidth()-a.win.innerWidth())/2;n.left+=a.rail.align?a.win.outerWidth()-w(a.win,"border-right-width")-a.rail.width:w(a.win,"border-left-width");var i=a.opt.railoffset;if(i){if(i.top)n.top+=i.top;if(a.rail.align&&i.left)n.left+=i.left}if(!a.locked)a.rail.css({top:n.top,left:n.left,height:e?e.h:a.win.innerHeight()});if(a.zoom){a.zoom.css({top:n.top+1,left:a.rail.align==1?n.left-20:n.left+a.rail.width+4})}if(a.railh&&!a.locked){var n={top:t.top,left:t.left};var s=a.railh.align?n.top+w(a.win,"border-top-width",true)+a.win.innerHeight()-a.railh.height:n.top+w(a.win,"border-top-width",true);var o=n.left+w(a.win,"border-left-width");a.railh.css({top:s,left:o,width:a.railh.width})}}};this.doRailClick=function(e,t,n){var r,i,s,o;if(a.locked)return;a.cancelEvent(e);if(t){r=n?a.doScrollLeft:a.doScrollTop;s=n?(e.pageX-a.railh.offset().left-a.cursorwidth/2)*a.scrollratio.x:(e.pageY-a.rail.offset().top-a.cursorheight/2)*a.scrollratio.y;r(s)}else{r=n?a.doScrollLeftBy:a.doScrollBy;s=n?a.scroll.x:a.scroll.y;o=n?e.pageX-a.railh.offset().left:e.pageY-a.rail.offset().top;i=n?a.view.w:a.view.h;s>=o?r(i):r(-i)}};a.hasanimationframe=h;a.hascancelanimationframe=p;if(!a.hasanimationframe){h=function(e){return setTimeout(e,15-Math.floor(+(new Date)/1e3)%16)};p=clearInterval}else if(!a.hascancelanimationframe)p=function(){a.cancelAnimationFrame=true};this.init=function(){a.saved.css=[];if(c.isie7mobile)return true;if(c.isoperamini)return true;if(c.hasmstouch)a.css(a.ispage?u("html"):a.win,{"-ms-touch-action":"none"});a.zindex="auto";if(!a.ispage&&a.opt.zindex=="auto"){a.zindex=v()||"auto"}else{a.zindex=a.opt.zindex}if(!a.ispage&&a.zindex!="auto"){if(a.zindex>o)o=a.zindex}if(a.isie&&a.zindex==0&&a.opt.zindex=="auto"){a.zindex="auto"}if(!a.ispage||!c.cantouch&&!c.isieold&&!c.isie9mobile){var e=a.docscroll;if(a.ispage)e=a.haswrapper?a.win:a.doc;if(!c.isie9mobile)a.css(e,{"overflow-y":"hidden"});if(a.ispage&&c.isie7){if(a.doc[0].nodeName=="BODY")a.css(u("html"),{"overflow-y":"hidden"});else if(a.doc[0].nodeName=="HTML")a.css(u("body"),{"overflow-y":"hidden"})}if(c.isios&&!a.ispage&&!a.haswrapper)a.css(u("body"),{"-webkit-overflow-scrolling":"touch"});var r=u(document.createElement("div"));r.css({position:"relative",top:0,"float":"right",width:a.opt.cursorwidth,height:"0px","background-color":a.opt.cursorcolor,border:a.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":a.opt.cursorborderradius,"-moz-border-radius":a.opt.cursorborderradius,"border-radius":a.opt.cursorborderradius});r.hborder=parseFloat(r.outerHeight()-r.innerHeight());a.cursor=r;var s=u(document.createElement("div"));s.attr("id",a.id);s.addClass("nicescroll-rails");var f,h,p=["left","right"];for(var d in p){h=p[d];f=a.opt.railpadding[h];f?s.css("padding-"+h,f+"px"):a.opt.railpadding[h]=0}s.append(r);s.width=Math.max(parseFloat(a.opt.cursorwidth),r.outerWidth())+a.opt.railpadding["left"]+a.opt.railpadding["right"];s.css({width:s.width+"px",zIndex:a.zindex,background:a.opt.background,cursor:"default"});s.visibility=true;s.scrollable=true;s.align=a.opt.railalign=="left"?0:1;a.rail=s;a.rail.drag=false;var g=false;if(a.opt.boxzoom&&!a.ispage&&!c.isieold){g=document.createElement("div");a.bind(g,"click",a.doZoom);a.zoom=u(g);a.zoom.css({cursor:"pointer","z-index":a.zindex,backgroundImage:"url("+l+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"});if(a.opt.dblclickzoom)a.bind(a.win,"dblclick",a.doZoom);if(c.cantouch&&a.opt.gesturezoom){a.ongesturezoom=function(e){if(e.scale>1.5)a.doZoomIn(e);if(e.scale<.8)a.doZoomOut(e);return a.cancelEvent(e)};a.bind(a.win,"gestureend",a.ongesturezoom)}}a.railh=false;if(a.opt.horizrailenabled){a.css(e,{"overflow-x":"hidden"});var r=u(document.createElement("div"));r.css({position:"relative",top:0,height:a.opt.cursorwidth,width:"0px","background-color":a.opt.cursorcolor,border:a.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":a.opt.cursorborderradius,"-moz-border-radius":a.opt.cursorborderradius,"border-radius":a.opt.cursorborderradius});r.wborder=parseFloat(r.outerWidth()-r.innerWidth());a.cursorh=r;var y=u(document.createElement("div"));y.attr("id",a.id+"-hr");y.addClass("nicescroll-rails");y.height=Math.max(parseFloat(a.opt.cursorwidth),r.outerHeight());y.css({height:y.height+"px",zIndex:a.zindex,background:a.opt.background});y.append(r);y.visibility=true;y.scrollable=true;y.align=a.opt.railvalign=="top"?0:1;a.railh=y;a.railh.drag=false}if(a.ispage){s.css({position:"fixed",top:"0px",height:"100%"});s.align?s.css({right:"0px"}):s.css({left:"0px"});a.body.append(s);if(a.railh){y.css({position:"fixed",left:"0px",width:"100%"});y.align?y.css({bottom:"0px"}):y.css({top:"0px"});a.body.append(y)}}else{if(a.ishwscroll){if(a.win.css("position")=="static")a.css(a.win,{position:"relative"});var b=a.win[0].nodeName=="HTML"?a.body:a.win;if(a.zoom){a.zoom.css({position:"absolute",top:1,right:0,"margin-right":s.width+4});b.append(a.zoom)}s.css({position:"absolute",top:0});s.align?s.css({right:0}):s.css({left:0});b.append(s);if(y){y.css({position:"absolute",left:0,bottom:0});y.align?y.css({bottom:0}):y.css({top:0});b.append(y)}}else{a.isfixed=a.win.css("position")=="fixed";var w=a.isfixed?"fixed":"absolute";if(!a.isfixed)a.viewport=a.getViewport(a.win[0]);if(a.viewport){a.body=a.viewport;if(/fixed|relative|absolute/.test(a.viewport.css("position"))==false)a.css(a.viewport,{position:"relative"})}s.css({position:w});if(a.zoom)a.zoom.css({position:w});a.updateScrollBar();a.body.append(s);if(a.zoom)a.body.append(a.zoom);if(a.railh){y.css({position:w});a.body.append(y)}}if(c.isios)a.css(a.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"});if(c.isie&&a.opt.disableoutline)a.win.attr("hideFocus","true");if(c.iswebkit&&a.opt.disableoutline)a.win.css({outline:"none"})}if(a.opt.autohidemode===false){a.autohidedom=false;a.rail.css({opacity:a.opt.cursoropacitymax});if(a.railh)a.railh.css({opacity:a.opt.cursoropacitymax})}else if(a.opt.autohidemode===true||a.opt.autohidemode==="leave"){a.autohidedom=u().add(a.rail);if(c.isie8)a.autohidedom=a.autohidedom.add(a.cursor);if(a.railh)a.autohidedom=a.autohidedom.add(a.railh);if(a.railh&&c.isie8)a.autohidedom=a.autohidedom.add(a.cursorh)}else if(a.opt.autohidemode=="scroll"){a.autohidedom=u().add(a.rail);if(a.railh)a.autohidedom=a.autohidedom.add(a.railh)}else if(a.opt.autohidemode=="cursor"){a.autohidedom=u().add(a.cursor);if(a.railh)a.autohidedom=a.autohidedom.add(a.cursorh)}else if(a.opt.autohidemode=="hidden"){a.autohidedom=false;a.hide();a.locked=false}if(c.isie9mobile){a.scrollmom=new E(a);a.onmangotouch=function(e){var t=a.getScrollTop();var n=a.getScrollLeft();if(t==a.scrollmom.lastscrolly&&n==a.scrollmom.lastscrollx)return true;var r=t-a.mangotouch.sy;var i=n-a.mangotouch.sx;var s=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));if(s==0)return;var o=r<0?-1:1;var u=i<0?-1:1;var f=+(new Date);if(a.mangotouch.lazy)clearTimeout(a.mangotouch.lazy);if(f-a.mangotouch.tm>80||a.mangotouch.dry!=o||a.mangotouch.drx!=u){a.scrollmom.stop();a.scrollmom.reset(n,t);a.mangotouch.sy=t;a.mangotouch.ly=t;a.mangotouch.sx=n;a.mangotouch.lx=n;a.mangotouch.dry=o;a.mangotouch.drx=u;a.mangotouch.tm=f}else{a.scrollmom.stop();a.scrollmom.update(a.mangotouch.sx-i,a.mangotouch.sy-r);var l=f-a.mangotouch.tm;a.mangotouch.tm=f;var c=Math.max(Math.abs(a.mangotouch.ly-t),Math.abs(a.mangotouch.lx-n));a.mangotouch.ly=t;a.mangotouch.lx=n;if(c>2){a.mangotouch.lazy=setTimeout(function(){a.mangotouch.lazy=false;a.mangotouch.dry=0;a.mangotouch.drx=0;a.mangotouch.tm=0;a.scrollmom.doMomentum(30)},100)}}};var S=a.getScrollTop();var x=a.getScrollLeft();a.mangotouch={sy:S,ly:S,dry:0,sx:x,lx:x,drx:0,lazy:false,tm:0};a.bind(a.docscroll,"scroll",a.onmangotouch)}else{if(c.cantouch||a.istouchcapable||a.opt.touchbehavior||c.hasmstouch){a.scrollmom=new E(a);a.ontouchstart=function(e){if(e.pointerType&&e.pointerType!=2)return false;a.hasmoving=false;if(!a.locked){if(c.hasmstouch){var t=e.target?e.target:false;while(t){var n=u(t).getNiceScroll();if(n.length>0&&n[0].me==a.me)break;if(n.length>0)return false;if(t.nodeName=="DIV"&&t.id==a.id)break;t=t.parentNode?t.parentNode:false}}a.cancelScroll();var t=a.getTarget(e);if(t){var r=/INPUT/i.test(t.nodeName)&&/range/i.test(t.type);if(r)return a.stopPropagation(e)}if(!("clientX"in e)&&"changedTouches"in e){e.clientX=e.changedTouches[0].clientX;e.clientY=e.changedTouches[0].clientY}if(a.forcescreen){var i=e;var e={original:e.original?e.original:e};e.clientX=i.screenX;e.clientY=i.screenY}a.rail.drag={x:e.clientX,y:e.clientY,sx:a.scroll.x,sy:a.scroll.y,st:a.getScrollTop(),sl:a.getScrollLeft(),pt:2,dl:false};if(a.ispage||!a.opt.directionlockdeadzone){a.rail.drag.dl="f"}else{var s={w:u(window).width(),h:u(window).height()};var o={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)};var f=Math.max(0,o.h-s.h);var l=Math.max(0,o.w-s.w);if(!a.rail.scrollable&&a.railh.scrollable)a.rail.drag.ck=f>0?"v":false;else if(a.rail.scrollable&&!a.railh.scrollable)a.rail.drag.ck=l>0?"h":false;else a.rail.drag.ck=false;if(!a.rail.drag.ck)a.rail.drag.dl="f"}if(a.opt.touchbehavior&&a.isiframe&&c.isie){var h=a.win.position();a.rail.drag.x+=h.left;a.rail.drag.y+=h.top}a.hasmoving=false;a.lastmouseup=false;a.scrollmom.reset(e.clientX,e.clientY);if(!c.cantouch&&!this.istouchcapable&&!c.hasmstouch){var p=t?/INPUT|SELECT|TEXTAREA/i.test(t.nodeName):false;if(!p){if(!a.ispage&&c.hasmousecapture)t.setCapture();if(a.opt.touchbehavior){if(t.onclick&&!(t._onclick||false)){t._onclick=t.onclick;t.onclick=function(e){var n=+(new Date)-a.scrollmom.lasttime;if(a.hasmoving)return false;t._onclick.call(this,e)}}return a.cancelEvent(e)}return a.stopPropagation(e)}if(/SUBMIT|CANCEL|BUTTON/i.test(u(t).attr("type"))){pc={tg:t,click:false};a.preventclick=pc}}}};a.ontouchend=function(e){if(e.pointerType&&e.pointerType!=2)return false;if(a.rail.drag&&a.rail.drag.pt==2){a.scrollmom.doMomentum();a.rail.drag=false;if(a.hasmoving){a.lastmouseup=true;a.hideCursor();if(c.hasmousecapture)document.releaseCapture();if(!c.cantouch)return a.cancelEvent(e)}}};var T=a.opt.touchbehavior&&a.isiframe&&!c.hasmousecapture;a.ontouchmove=function(e,t){if(e.pointerType&&e.pointerType!=2)return false;if(a.rail.drag&&a.rail.drag.pt==2){if(c.cantouch&&typeof e.original=="undefined")return true;a.hasmoving=true;if(a.preventclick&&!a.preventclick.click){a.preventclick.click=a.preventclick.tg.onclick||false;a.preventclick.tg.onclick=a.onpreventclick}var n=u.extend({original:e},e);e=n;if("changedTouches"in e){e.clientX=e.changedTouches[0].clientX;e.clientY=e.changedTouches[0].clientY}if(a.forcescreen){var r=e;var e={original:e.original?e.original:e};e.clientX=r.screenX;e.clientY=r.screenY}var i=ofy=0;if(T&&!t){var s=a.win.position();i=-s.left;ofy=-s.top}var o=e.clientY+ofy;var f=o-a.rail.drag.y;var l=e.clientX+i;var h=l-a.rail.drag.x;var p=a.rail.drag.st-f;if(a.ishwscroll&&a.opt.bouncescroll){if(p<0){p=Math.round(p/2)}else if(p>a.page.maxh){p=a.page.maxh+Math.round((p-a.page.maxh)/2)}}else{if(p<0){p=0;o=0}if(p>a.page.maxh){p=a.page.maxh;o=0}}if(a.railh&&a.railh.scrollable){var d=a.rail.drag.sl-h;if(a.ishwscroll&&a.opt.bouncescroll){if(d<0){d=Math.round(d/2)}else if(d>a.page.maxw){d=a.page.maxw+Math.round((d-a.page.maxw)/2)}}else{if(d<0){d=0;l=0}if(d>a.page.maxw){d=a.page.maxw;l=0}}}var v=false;if(a.rail.drag.dl){v=true;if(a.rail.drag.dl=="v")d=a.rail.drag.sl;else if(a.rail.drag.dl=="h")p=a.rail.drag.st}else{var m=Math.abs(f);var g=Math.abs(h);var y=a.opt.directionlockdeadzone;if(a.rail.drag.ck=="v"){if(m>y&&g<=m*.3){a.rail.drag=false;return true}else if(g>y){a.rail.drag.dl="f";u("body").scrollTop(u("body").scrollTop())}}else if(a.rail.drag.ck=="h"){if(g>y&&m<=g*.3){a.rail.drag=false;return true}else if(m>y){a.rail.drag.dl="f";u("body").scrollLeft(u("body").scrollLeft())}}}a.synched("touchmove",function(){if(a.rail.drag&&a.rail.drag.pt==2){if(a.prepareTransition)a.prepareTransition(0);if(a.rail.scrollable)a.setScrollTop(p);a.scrollmom.update(l,o);if(a.railh&&a.railh.scrollable){a.setScrollLeft(d);a.showCursor(p,d)}else{a.showCursor(p)}if(c.isie10)document.selection.clear()}});if(c.ischrome&&a.istouchcapable)v=false;if(v)return a.cancelEvent(e)}}}a.onmousedown=function(e,t){if(a.rail.drag&&a.rail.drag.pt!=1)return;if(a.locked)return a.cancelEvent(e);a.cancelScroll();a.rail.drag={x:e.clientX,y:e.clientY,sx:a.scroll.x,sy:a.scroll.y,pt:1,hr:!!t};var n=a.getTarget(e);if(!a.ispage&&c.hasmousecapture)n.setCapture();if(a.isiframe&&!c.hasmousecapture){a.saved["csspointerevents"]=a.doc.css("pointer-events");a.css(a.doc,{"pointer-events":"none"})}return a.cancelEvent(e)};a.onmouseup=function(e){if(a.rail.drag){if(c.hasmousecapture)document.releaseCapture();if(a.isiframe&&!c.hasmousecapture)a.doc.css("pointer-events",a.saved["csspointerevents"]);if(a.rail.drag.pt!=1)return;a.rail.drag=false;return a.cancelEvent(e)}};a.onmousemove=function(e){if(a.rail.drag){if(a.rail.drag.pt!=1)return;if(c.ischrome&&e.which==0)return a.onmouseup(e);a.cursorfreezed=true;if(a.rail.drag.hr){a.scroll.x=a.rail.drag.sx+(e.clientX-a.rail.drag.x);if(a.scroll.x<0)a.scroll.x=0;var t=a.scrollvaluemaxw;if(a.scroll.x>t)a.scroll.x=t}else{a.scroll.y=a.rail.drag.sy+(e.clientY-a.rail.drag.y);if(a.scroll.y<0)a.scroll.y=0;var n=a.scrollvaluemax;if(a.scroll.y>n)a.scroll.y=n}a.synched("mousemove",function(){if(a.rail.drag&&a.rail.drag.pt==1){a.showCursor();if(a.rail.drag.hr)a.doScrollLeft(Math.round(a.scroll.x*a.scrollratio.x),a.opt.cursordragspeed);else a.doScrollTop(Math.round(a.scroll.y*a.scrollratio.y),a.opt.cursordragspeed)}});return a.cancelEvent(e)}};if(c.cantouch||a.opt.touchbehavior){a.onpreventclick=function(e){if(a.preventclick){a.preventclick.tg.onclick=a.preventclick.click;a.preventclick=false;return a.cancelEvent(e)}};a.bind(a.win,"mousedown",a.ontouchstart);a.onclick=c.isios?false:function(e){if(a.lastmouseup){a.lastmouseup=false;return a.cancelEvent(e)}else{return true}};if(a.opt.grabcursorenabled&&c.cursorgrabvalue){a.css(a.ispage?a.doc:a.win,{cursor:c.cursorgrabvalue});a.css(a.rail,{cursor:c.cursorgrabvalue})}}else{function N(e){if(!a.selectiondrag)return;if(e){var t=a.win.outerHeight();var n=e.pageY-a.selectiondrag.top;if(n>0&&n<t)n=0;if(n>=t)n-=t;a.selectiondrag.df=n}if(a.selectiondrag.df==0)return;var r=-Math.floor(a.selectiondrag.df/6)*2;a.doScrollBy(r);a.debounced("doselectionscroll",function(){N()},50)}if("getSelection"in document){a.hasTextSelected=function(){return document.getSelection().rangeCount>0}}else if("selection"in document){a.hasTextSelected=function(){return document.selection.type!="None"}}else{a.hasTextSelected=function(){return false}}a.onselectionstart=function(e){if(a.ispage)return;a.selectiondrag=a.win.offset()};a.onselectionend=function(e){a.selectiondrag=false};a.onselectiondrag=function(e){if(!a.selectiondrag)return;if(a.hasTextSelected())a.debounced("selectionscroll",function(){N(e)},250)}}if(c.hasmstouch){a.css(a.rail,{"-ms-touch-action":"none"});a.css(a.cursor,{"-ms-touch-action":"none"});a.bind(a.win,"MSPointerDown",a.ontouchstart);a.bind(document,"MSPointerUp",a.ontouchend);a.bind(document,"MSPointerMove",a.ontouchmove);a.bind(a.cursor,"MSGestureHold",function(e){e.preventDefault()});a.bind(a.cursor,"contextmenu",function(e){e.preventDefault()})}if(this.istouchcapable){a.bind(a.win,"touchstart",a.ontouchstart);a.bind(document,"touchend",a.ontouchend);a.bind(document,"touchcancel",a.ontouchend);a.bind(document,"touchmove",a.ontouchmove)}a.bind(a.cursor,"mousedown",a.onmousedown);a.bind(a.cursor,"mouseup",a.onmouseup);if(a.railh){a.bind(a.cursorh,"mousedown",function(e){a.onmousedown(e,true)});a.bind(a.cursorh,"mouseup",function(e){if(a.rail.drag&&a.rail.drag.pt==2)return;a.rail.drag=false;a.hasmoving=false;a.hideCursor();if(c.hasmousecapture)document.releaseCapture();return a.cancelEvent(e)})}if(a.opt.cursordragontouch||!c.cantouch&&!a.opt.touchbehavior){a.rail.css({cursor:"default"});a.railh&&a.railh.css({cursor:"default"});a.jqbind(a.rail,"mouseenter",function(){if(a.canshowonmouseevent)a.showCursor();a.rail.active=true});a.jqbind(a.rail,"mouseleave",function(){a.rail.active=false;if(!a.rail.drag)a.hideCursor()});if(a.opt.sensitiverail){a.bind(a.rail,"click",function(e){a.doRailClick(e,false,false)});a.bind(a.rail,"dblclick",function(e){a.doRailClick(e,true,false)});a.bind(a.cursor,"click",function(e){a.cancelEvent(e)});a.bind(a.cursor,"dblclick",function(e){a.cancelEvent(e)})}if(a.railh){a.jqbind(a.railh,"mouseenter",function(){if(a.canshowonmouseevent)a.showCursor();a.rail.active=true});a.jqbind(a.railh,"mouseleave",function(){a.rail.active=false;if(!a.rail.drag)a.hideCursor()});if(a.opt.sensitiverail){a.bind(a.railh,"click",function(e){a.doRailClick(e,false,true)});a.bind(a.railh,"dblclick",function(e){a.doRailClick(e,true,true)});a.bind(a.cursorh,"click",function(e){a.cancelEvent(e)});a.bind(a.cursorh,"dblclick",function(e){a.cancelEvent(e)})}}}if(!c.cantouch&&!a.opt.touchbehavior){a.bind(c.hasmousecapture?a.win:document,"mouseup",a.onmouseup);a.bind(document,"mousemove",a.onmousemove);if(a.onclick)a.bind(document,"click",a.onclick);if(!a.ispage&&a.opt.enablescrollonselection){a.bind(a.win[0],"mousedown",a.onselectionstart);a.bind(document,"mouseup",a.onselectionend);a.bind(a.cursor,"mouseup",a.onselectionend);if(a.cursorh)a.bind(a.cursorh,"mouseup",a.onselectionend);a.bind(document,"mousemove",a.onselectiondrag)}if(a.zoom){a.jqbind(a.zoom,"mouseenter",function(){if(a.canshowonmouseevent)a.showCursor();a.rail.active=true});a.jqbind(a.zoom,"mouseleave",function(){a.rail.active=false;if(!a.rail.drag)a.hideCursor()})}}else{a.bind(c.hasmousecapture?a.win:document,"mouseup",a.ontouchend);a.bind(document,"mousemove",a.ontouchmove);if(a.onclick)a.bind(document,"click",a.onclick);if(a.opt.cursordragontouch){a.bind(a.cursor,"mousedown",a.onmousedown);a.bind(a.cursor,"mousemove",a.onmousemove);a.cursorh&&a.bind(a.cursorh,"mousedown",function(e){a.onmousedown(e,true)});a.cursorh&&a.bind(a.cursorh,"mousemove",a.onmousemove)}}if(a.opt.enablemousewheel){if(!a.isiframe)a.bind(c.isie&&a.ispage?document:a.win,"mousewheel",a.onmousewheel);a.bind(a.rail,"mousewheel",a.onmousewheel);if(a.railh)a.bind(a.railh,"mousewheel",a.onmousewheelhr)}if(!a.ispage&&!c.cantouch&&!/HTML|BODY/.test(a.win[0].nodeName)){if(!a.win.attr("tabindex"))a.win.attr({tabindex:i++});a.jqbind(a.win,"focus",function(e){t=a.getTarget(e).id||true;a.hasfocus=true;if(a.canshowonmouseevent)a.noticeCursor()});a.jqbind(a.win,"blur",function(e){t=false;a.hasfocus=false});a.jqbind(a.win,"mouseenter",function(e){n=a.getTarget(e).id||true;a.hasmousefocus=true;if(a.canshowonmouseevent)a.noticeCursor()});a.jqbind(a.win,"mouseleave",function(){n=false;a.hasmousefocus=false;if(!a.rail.drag)a.hideCursor()})}}a.onkeypress=function(e){if(a.locked&&a.page.maxh==0)return true;e=e?e:window.e;var r=a.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)){var i=r.getAttribute("type")||r.type||false;if(!i||!/submit|button|cancel/i.tp)return true}if(a.hasfocus||a.hasmousefocus&&!t||a.ispage&&!t&&!n){var s=e.keyCode;if(a.locked&&s!=27)return a.cancelEvent(e);var o=e.ctrlKey||false;var u=e.shiftKey||false;var f=false;switch(s){case 38:case 63233:a.doScrollBy(24*3);f=true;break;case 40:case 63235:a.doScrollBy(-24*3);f=true;break;case 37:case 63232:if(a.railh){o?a.doScrollLeft(0):a.doScrollLeftBy(24*3);f=true}break;case 39:case 63234:if(a.railh){o?a.doScrollLeft(a.page.maxw):a.doScrollLeftBy(-24*3);f=true}break;case 33:case 63276:a.doScrollBy(a.view.h);f=true;break;case 34:case 63277:a.doScrollBy(-a.view.h);f=true;break;case 36:case 63273:a.railh&&o?a.doScrollPos(0,0):a.doScrollTo(0);f=true;break;case 35:case 63275:a.railh&&o?a.doScrollPos(a.page.maxw,a.page.maxh):a.doScrollTo(a.page.maxh);f=true;break;case 32:if(a.opt.spacebarenabled){u?a.doScrollBy(a.view.h):a.doScrollBy(-a.view.h);f=true}break;case 27:if(a.zoomactive){a.doZoom();f=true}break}if(f)return a.cancelEvent(e)}};if(a.opt.enablekeyboard)a.bind(document,c.isopera&&!c.isopera12?"keypress":"keydown",a.onkeypress);a.bind(window,"resize",a.lazyResize);a.bind(window,"orientationchange",a.lazyResize);a.bind(window,"load",a.lazyResize);if(c.ischrome&&!a.ispage&&!a.haswrapper){var C=a.win.attr("style");var k=parseFloat(a.win.css("width"))+1;a.win.css("width",k);a.synched("chromefix",function(){a.win.attr("style",C)})}a.onAttributeChange=function(e){a.lazyResize(250)};if(!a.ispage&&!a.haswrapper){if(m!==false){a.observer=new m(function(e){e.forEach(a.onAttributeChange)});a.observer.observe(a.win[0],{childList:true,characterData:false,attributes:true,subtree:false});a.observerremover=new m(function(e){e.forEach(function(e){if(e.removedNodes.length>0){for(var t in e.removedNodes){if(e.removedNodes[t]==a.win[0])return a.remove()}}})});a.observerremover.observe(a.win[0].parentNode,{childList:true,characterData:false,attributes:false,subtree:false})}else{a.bind(a.win,c.isie&&!c.isie9?"propertychange":"DOMAttrModified",a.onAttributeChange);if(c.isie9)a.win[0].attachEvent("onpropertychange",a.onAttributeChange);a.bind(a.win,"DOMNodeRemoved",function(e){if(e.target==a.win[0])a.remove()})}}if(!a.ispage&&a.opt.boxzoom)a.bind(window,"resize",a.resizeZoom);if(a.istextarea)a.bind(a.win,"mouseup",a.lazyResize);a.checkrtlmode=true;a.lazyResize(30)}if(this.doc[0].nodeName=="IFRAME"){function L(e){a.iframexd=false;try{var t="contentDocument"in this?this.contentDocument:this.contentWindow.document;var n=t.domain}catch(e){a.iframexd=true;t=false}if(a.iframexd){if("console"in window)console.log("NiceScroll error: policy restriced iframe");return true}a.forcescreen=true;if(a.isiframe){a.iframe={doc:u(t),html:a.doc.contents().find("html")[0],body:a.doc.contents().find("body")[0]};a.getContentSize=function(){return{w:Math.max(a.iframe.html.scrollWidth,a.iframe.body.scrollWidth),h:Math.max(a.iframe.html.scrollHeight,a.iframe.body.scrollHeight)}};a.docscroll=u(a.iframe.body)}if(!c.isios&&a.opt.iframeautoresize&&!a.isiframe){a.win.scrollTop(0);a.doc.height("");var r=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);a.doc.height(r)}a.lazyResize(30);if(c.isie7)a.css(u(a.iframe.html),{"overflow-y":"hidden"});a.css(u(a.iframe.body),{"overflow-y":"hidden"});if(c.isios&&a.haswrapper){a.css(u(t.body),{"-webkit-transform":"translate3d(0,0,0)"})}if("contentWindow"in this){a.bind(this.contentWindow,"scroll",a.onscroll)}else{a.bind(t,"scroll",a.onscroll)}if(a.opt.enablemousewheel){a.bind(t,"mousewheel",a.onmousewheel)}if(a.opt.enablekeyboard)a.bind(t,c.isopera?"keypress":"keydown",a.onkeypress);if(c.cantouch||a.opt.touchbehavior){a.bind(t,"mousedown",a.ontouchstart);a.bind(t,"mousemove",function(e){a.ontouchmove(e,true)});if(a.opt.grabcursorenabled&&c.cursorgrabvalue)a.css(u(t.body),{cursor:c.cursorgrabvalue})}a.bind(t,"mouseup",a.ontouchend);if(a.zoom){if(a.opt.dblclickzoom)a.bind(t,"dblclick",a.doZoom);if(a.ongesturezoom)a.bind(t,"gestureend",a.ongesturezoom)}}if(this.doc[0].readyState&&this.doc[0].readyState=="complete"){setTimeout(function(){L.call(a.doc[0],false)},500)}a.bind(this.doc,"load",L)}};this.showCursor=function(e,t){if(a.cursortimeout){clearTimeout(a.cursortimeout);a.cursortimeout=0}if(!a.rail)return;if(a.autohidedom){a.autohidedom.stop().css({opacity:a.opt.cursoropacitymax});a.cursoractive=true}if(!a.rail.drag||a.rail.drag.pt!=1){if(typeof e!="undefined"&&e!==false){a.scroll.y=Math.round(e*1/a.scrollratio.y)}if(typeof t!="undefined"){a.scroll.x=Math.round(t*1/a.scrollratio.x)}}a.cursor.css({height:a.cursorheight,top:a.scroll.y});if(a.cursorh){!a.rail.align&&a.rail.visibility?a.cursorh.css({width:a.cursorwidth,left:a.scroll.x+a.rail.width}):a.cursorh.css({width:a.cursorwidth,left:a.scroll.x});a.cursoractive=true}if(a.zoom)a.zoom.stop().css({opacity:a.opt.cursoropacitymax})};this.hideCursor=function(e){if(a.cursortimeout)return;if(!a.rail)return;if(!a.autohidedom)return;if(a.hasmousefocus&&a.opt.autohidemode=="leave")return;a.cursortimeout=setTimeout(function(){if(!a.rail.active||!a.showonmouseevent){a.autohidedom.stop().animate({opacity:a.opt.cursoropacitymin});if(a.zoom)a.zoom.stop().animate({opacity:a.opt.cursoropacitymin});a.cursoractive=false}a.cursortimeout=0},e||a.opt.hidecursordelay)};this.noticeCursor=function(e,t,n){a.showCursor(t,n);if(!a.rail.active)a.hideCursor(e)};this.getContentSize=a.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:a.haswrapper?function(){return{w:a.doc.outerWidth()+parseInt(a.win.css("paddingLeft"))+parseInt(a.win.css("paddingRight")),h:a.doc.outerHeight()+parseInt(a.win.css("paddingTop"))+parseInt(a.win.css("paddingBottom"))}}:function(){return{w:a.docscroll[0].scrollWidth,h:a.docscroll[0].scrollHeight}};this.onResize=function(e,t){if(!a||!a.win)return false;if(!a.haswrapper&&!a.ispage){if(a.win.css("display")=="none"){if(a.visibility)a.hideRail().hideRailHr();return false}else{if(!a.hidden&&!a.visibility)a.showRail().showRailHr()}}var n=a.page.maxh;var r=a.page.maxw;var i={h:a.view.h,w:a.view.w};a.view={w:a.ispage?a.win.width():parseInt(a.win[0].clientWidth),h:a.ispage?a.win.height():parseInt(a.win[0].clientHeight)};a.page=t?t:a.getContentSize();a.page.maxh=Math.max(0,a.page.h-a.view.h);a.page.maxw=Math.max(0,a.page.w-a.view.w);if(a.page.maxh==n&&a.page.maxw==r&&a.view.w==i.w){if(!a.ispage){var s=a.win.offset();if(a.lastposition){var o=a.lastposition;if(o.top==s.top&&o.left==s.left)return a}a.lastposition=s}else{return a}}if(a.page.maxh==0){a.hideRail();a.scrollvaluemax=0;a.scroll.y=0;a.scrollratio.y=0;a.cursorheight=0;a.setScrollTop(0);a.rail.scrollable=false}else{a.rail.scrollable=true}if(a.page.maxw==0){a.hideRailHr();a.scrollvaluemaxw=0;a.scroll.x=0;a.scrollratio.x=0;a.cursorwidth=0;a.setScrollLeft(0);a.railh.scrollable=false}else{a.railh.scrollable=true}a.locked=a.page.maxh==0&&a.page.maxw==0;if(a.locked){if(!a.ispage)a.updateScrollBar(a.view);return false}if(!a.hidden&&!a.visibility){a.showRail().showRailHr()}else if(!a.hidden&&!a.railh.visibility)a.showRailHr();if(a.istextarea&&a.win.css("resize")&&a.win.css("resize")!="none")a.view.h-=20;a.cursorheight=Math.min(a.view.h,Math.round(a.view.h*(a.view.h/a.page.h)));a.cursorheight=a.opt.cursorfixedheight?a.opt.cursorfixedheight:Math.max(a.opt.cursorminheight,a.cursorheight);a.cursorwidth=Math.min(a.view.w,Math.round(a.view.w*(a.view.w/a.page.w)));a.cursorwidth=a.opt.cursorfixedheight?a.opt.cursorfixedheight:Math.max(a.opt.cursorminheight,a.cursorwidth);a.scrollvaluemax=a.view.h-a.cursorheight-a.cursor.hborder;if(a.railh){a.railh.width=a.page.maxh>0?a.view.w-a.rail.width:a.view.w;a.scrollvaluemaxw=a.railh.width-a.cursorwidth-a.cursorh.wborder}if(a.checkrtlmode&&a.railh){a.checkrtlmode=false;if(a.opt.rtlmode&&a.scroll.x==0)a.setScrollLeft(a.page.maxw)}if(!a.ispage)a.updateScrollBar(a.view);a.scrollratio={x:a.page.maxw/a.scrollvaluemaxw,y:a.page.maxh/a.scrollvaluemax};var u=a.getScrollTop();if(u>a.page.maxh){a.doScrollTop(a.page.maxh)}else{a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y));a.scroll.x=Math.round(a.getScrollLeft()*(1/a.scrollratio.x));if(a.cursoractive)a.noticeCursor()}if(a.scroll.y&&a.getScrollTop()==0)a.doScrollTo(Math.floor(a.scroll.y*a.scrollratio.y));return a};this.resize=a.onResize;this.lazyResize=function(e){e=isNaN(e)?30:e;a.delayed("resize",a.resize,e);return a};this._bind=function(e,t,n,r){a.events.push({e:e,n:t,f:n,b:r,q:false});if(e.addEventListener){e.addEventListener(t,n,r||false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{e["on"+t]=n}};this.jqbind=function(e,t,n){a.events.push({e:e,n:t,f:n,q:true});u(e).bind(t,n)};this.bind=function(e,t,n,r){var i="jquery"in e?e[0]:e;if(t=="mousewheel"){if("onwheel"in a.win){a._bind(i,"wheel",n,r||false)}else{var s=typeof document.onmousewheel!="undefined"?"mousewheel":"DOMMouseScroll";S(i,s,n,r||false);if(s=="DOMMouseScroll")S(i,"MozMousePixelScroll",n,r||false)}}else if(i.addEventListener){if(c.cantouch&&/mouseup|mousedown|mousemove/.test(t)){var o=t=="mousedown"?"touchstart":t=="mouseup"?"touchend":"touchmove";a._bind(i,o,function(e){if(e.touches){if(e.touches.length<2){var t=e.touches.length?e.touches[0]:e;t.original=e;n.call(this,t)}}else if(e.changedTouches){var t=e.changedTouches[0];t.original=e;n.call(this,t)}},r||false)}a._bind(i,t,n,r||false);if(c.cantouch&&t=="mouseup")a._bind(i,"touchcancel",n,r||false)}else{a._bind(i,t,function(e){e=e||window.event||false;if(e){if(e.srcElement)e.target=e.srcElement}if(!("pageY"in e)){e.pageX=e.clientX+document.documentElement.scrollLeft;e.pageY=e.clientY+document.documentElement.scrollTop}return n.call(i,e)===false||r===false?a.cancelEvent(e):true})}};this._unbind=function(e,t,n,r){if(e.removeEventListener){e.removeEventListener(t,n,r)}else if(e.detachEvent){e.detachEvent("on"+t,n)}else{e["on"+t]=false}};this.unbindAll=function(){for(var e=0;e<a.events.length;e++){var t=a.events[e];t.q?t.e.unbind(t.n,t.f):a._unbind(t.e,t.n,t.f,t.b)}};this.cancelEvent=function(e){var e=e.original?e.original:e?e:window.event||false;if(!e)return false;if(e.preventDefault)e.preventDefault();if(e.stopPropagation)e.stopPropagation();if(e.preventManipulation)e.preventManipulation();e.cancelBubble=true;e.cancel=true;e.returnValue=false;return false};this.stopPropagation=function(e){var e=e.original?e.original:e?e:window.event||false;if(!e)return false;if(e.stopPropagation)return e.stopPropagation();if(e.cancelBubble)e.cancelBubble=true;return false};this.showRail=function(){if(a.page.maxh!=0&&(a.ispage||a.win.css("display")!="none")){a.visibility=true;a.rail.visibility=true;a.rail.css("display","block")}return a};this.showRailHr=function(){if(!a.railh)return a;if(a.page.maxw!=0&&(a.ispage||a.win.css("display")!="none")){a.railh.visibility=true;a.railh.css("display","block")}return a};this.hideRail=function(){a.visibility=false;a.rail.visibility=false;a.rail.css("display","none");return a};this.hideRailHr=function(){if(!a.railh)return a;a.railh.visibility=false;a.railh.css("display","none");return a};this.show=function(){a.hidden=false;a.locked=false;return a.showRail().showRailHr()};this.hide=function(){a.hidden=true;a.locked=true;return a.hideRail().hideRailHr()};this.toggle=function(){return a.hidden?a.show():a.hide()};this.remove=function(){a.stop();if(a.cursortimeout)clearTimeout(a.cursortimeout);a.doZoomOut();a.unbindAll();if(c.isie9)a.win[0].detachEvent("onpropertychange",a.onAttributeChange);if(a.observer!==false)a.observer.disconnect();if(a.observerremover!==false)a.observerremover.disconnect();a.events=null;if(a.cursor){a.cursor.remove()}if(a.cursorh){a.cursorh.remove()}if(a.rail){a.rail.remove()}if(a.railh){a.railh.remove()}if(a.zoom){a.zoom.remove()}for(var e=0;e<a.saved.css.length;e++){var t=a.saved.css[e];t[0].css(t[1],typeof t[2]=="undefined"?"":t[2])}a.saved=false;a.me.data("__nicescroll","");var n=u.nicescroll;n.each(function(e){if(!this)return;if(this.id===a.id){delete n[e];for(var t=++e;t<n.length;t++,e++)n[e]=n[t];n.length--;if(n.length)delete n[n.length]}});for(var r in a){a[r]=null;delete a[r]}a=null};this.scrollstart=function(e){this.onscrollstart=e;return a};this.scrollend=function(e){this.onscrollend=e;return a};this.scrollcancel=function(e){this.onscrollcancel=e;return a};this.zoomin=function(e){this.onzoomin=e;return a};this.zoomout=function(e){this.onzoomout=e;return a};this.isScrollable=function(e){var t=e.target?e.target:e;if(t.nodeName=="OPTION")return true;while(t&&t.nodeType==1&&!/BODY|HTML/.test(t.nodeName)){var n=u(t);var r=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(r))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:false}return false};this.getViewport=function(e){var t=e&&e.parentNode?e.parentNode:false;while(t&&t.nodeType==1&&!/BODY|HTML/.test(t.nodeName)){var n=u(t);if(/fixed|absolute/.test(n.css("position")))return n;var r=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(r)&&t.clientHeight!=t.scrollHeight)return n;if(n.getNiceScroll().length>0)return n;t=t.parentNode?t.parentNode:false}return false};this.onmousewheel=function(e){if(a.locked){a.debounced("checkunlock",a.resize,250);return true}if(a.rail.drag)return a.cancelEvent(e);if(a.opt.oneaxismousemode=="auto"&&e.deltaX!=0)a.opt.oneaxismousemode=false;if(a.opt.oneaxismousemode&&e.deltaX==0){if(!a.rail.scrollable){if(a.railh&&a.railh.scrollable){return a.onmousewheelhr(e)}else{return true}}}var t=+(new Date);var n=false;if(a.opt.preservenativescrolling&&a.checkarea+600<t){a.nativescrollingarea=a.isScrollable(e);n=true}a.checkarea=t;if(a.nativescrollingarea)return true;var r=x(e,false,n);if(r)a.checkarea=0;return r};this.onmousewheelhr=function(e){if(a.locked||!a.railh.scrollable)return true;if(a.rail.drag)return a.cancelEvent(e);var t=+(new Date);var n=false;if(a.opt.preservenativescrolling&&a.checkarea+600<t){a.nativescrollingarea=a.isScrollable(e);n=true}a.checkarea=t;if(a.nativescrollingarea)return true;if(a.locked)return a.cancelEvent(e);return x(e,true,n)};this.stop=function(){a.cancelScroll();if(a.scrollmon)a.scrollmon.stop();a.cursorfreezed=false;a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y));a.noticeCursor();return a};this.getTransitionSpeed=function(e){var t=Math.round(a.opt.scrollspeed*10);var n=Math.min(t,Math.round(e/20*a.opt.scrollspeed));return n>20?n:0};if(!a.opt.smoothscroll){this.doScrollLeft=function(e,t){var n=a.getScrollTop();a.doScrollPos(e,n,t)};this.doScrollTop=function(e,t){var n=a.getScrollLeft();a.doScrollPos(n,e,t)};this.doScrollPos=function(e,t,n){var r=e>a.page.maxw?a.page.maxw:e;if(r<0)r=0;var i=t>a.page.maxh?a.page.maxh:t;if(i<0)i=0;a.synched("scroll",function(){a.setScrollTop(i);a.setScrollLeft(r)})};this.cancelScroll=function(){}}else if(a.ishwscroll&&c.hastransition&&a.opt.usetransition){this.prepareTransition=function(e,t){var n=t?e>20?e:0:a.getTransitionSpeed(e);var r=n?c.prefixstyle+"transform "+n+"ms ease-out":"";if(!a.lasttransitionstyle||a.lasttransitionstyle!=r){a.lasttransitionstyle=r;a.doc.css(c.transitionstyle,r)}return n};this.doScrollLeft=function(e,t){var n=a.scrollrunning?a.newscrolly:a.getScrollTop();a.doScrollPos(e,n,t)};this.doScrollTop=function(e,t){var n=a.scrollrunning?a.newscrollx:a.getScrollLeft();a.doScrollPos(n,e,t)};this.doScrollPos=function(e,t,n){var r=a.getScrollTop();var i=a.getScrollLeft();if((a.newscrolly-r)*(t-r)<0||(a.newscrollx-i)*(e-i)<0)a.cancelScroll();if(a.opt.bouncescroll==false){if(t<0)t=0;else if(t>a.page.maxh)t=a.page.maxh;if(e<0)e=0;else if(e>a.page.maxw)e=a.page.maxw}if(a.scrollrunning&&e==a.newscrollx&&t==a.newscrolly)return false;a.newscrolly=t;a.newscrollx=e;a.newscrollspeed=n||false;if(a.timer)return false;a.timer=setTimeout(function(){var n=a.getScrollTop();var r=a.getScrollLeft();var i={};i.x=e-r;i.y=t-n;i.px=r;i.py=n;var s=Math.round(Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2)));var o=a.newscrollspeed&&a.newscrollspeed>1?a.newscrollspeed:a.getTransitionSpeed(s);if(a.newscrollspeed&&a.newscrollspeed<=1)o*=a.newscrollspeed;a.prepareTransition(o,true);if(a.timerscroll&&a.timerscroll.tm)clearInterval(a.timerscroll.tm);if(o>0){if(!a.scrollrunning&&a.onscrollstart){var u={type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:a.newscrollx,y:a.newscrolly},speed:o};a.onscrollstart.call(a,u)}if(c.transitionend){if(!a.scrollendtrapped){a.scrollendtrapped=true;a.bind(a.doc,c.transitionend,a.onScrollEnd,false)}}else{if(a.scrollendtrapped)clearTimeout(a.scrollendtrapped);a.scrollendtrapped=setTimeout(a.onScrollEnd,o)}var f=n;var l=r;a.timerscroll={bz:new BezierClass(f,a.newscrolly,o,0,0,.58,1),bh:new BezierClass(l,a.newscrollx,o,0,0,.58,1)};if(!a.cursorfreezed)a.timerscroll.tm=setInterval(function(){a.showCursor(a.getScrollTop(),a.getScrollLeft())},60)}a.synched("doScroll-set",function(){a.timer=0;if(a.scrollendtrapped)a.scrollrunning=true;a.setScrollTop(a.newscrolly);a.setScrollLeft(a.newscrollx);if(!a.scrollendtrapped)a.onScrollEnd()})},50)};this.cancelScroll=function(){if(!a.scrollendtrapped)return true;var e=a.getScrollTop();var t=a.getScrollLeft();a.scrollrunning=false;if(!c.transitionend)clearTimeout(c.transitionend);a.scrollendtrapped=false;a._unbind(a.doc,c.transitionend,a.onScrollEnd);a.prepareTransition(0);a.setScrollTop(e);if(a.railh)a.setScrollLeft(t);if(a.timerscroll&&a.timerscroll.tm)clearInterval(a.timerscroll.tm);a.timerscroll=false;a.cursorfreezed=false;a.showCursor(e,t);return a};this.onScrollEnd=function(){if(a.scrollendtrapped)a._unbind(a.doc,c.transitionend,a.onScrollEnd);a.scrollendtrapped=false;a.prepareTransition(0);if(a.timerscroll&&a.timerscroll.tm)clearInterval(a.timerscroll.tm);a.timerscroll=false;var e=a.getScrollTop();var t=a.getScrollLeft();a.setScrollTop(e);if(a.railh)a.setScrollLeft(t);a.noticeCursor(false,e,t);a.cursorfreezed=false;if(e<0)e=0;else if(e>a.page.maxh)e=a.page.maxh;if(t<0)t=0;else if(t>a.page.maxw)t=a.page.maxw;if(e!=a.newscrolly||t!=a.newscrollx)return a.doScrollPos(t,e,a.opt.snapbackspeed);if(a.onscrollend&&a.scrollrunning){var n={type:"scrollend",current:{x:t,y:e},end:{x:a.newscrollx,y:a.newscrolly}};a.onscrollend.call(a,n)}a.scrollrunning=false}}else{this.doScrollLeft=function(e,t){var n=a.scrollrunning?a.newscrolly:a.getScrollTop();a.doScrollPos(e,n,t)};this.doScrollTop=function(e,t){var n=a.scrollrunning?a.newscrollx:a.getScrollLeft();a.doScrollPos(n,e,t)};this.doScrollPos=function(e,t,n){function c(){if(a.cancelAnimationFrame)return true;a.scrollrunning=true;l=1-l;if(l)return a.timer=h(c)||1;var e=0;var t=sy=a.getScrollTop();if(a.dst.ay){t=a.bzscroll?a.dst.py+a.bzscroll.getNow()*a.dst.ay:a.newscrolly;var n=t-sy;if(n<0&&t<a.newscrolly||n>0&&t>a.newscrolly)t=a.newscrolly;a.setScrollTop(t);if(t==a.newscrolly)e=1}else{e=1}var r=sx=a.getScrollLeft();if(a.dst.ax){r=a.bzscroll?a.dst.px+a.bzscroll.getNow()*a.dst.ax:a.newscrollx;var n=r-sx;if(n<0&&r<a.newscrollx||n>0&&r>a.newscrollx)r=a.newscrollx;a.setScrollLeft(r);if(r==a.newscrollx)e+=1}else{e+=1}if(e==2){a.timer=0;a.cursorfreezed=false;a.bzscroll=false;a.scrollrunning=false;if(t<0)t=0;else if(t>a.page.maxh)t=a.page.maxh;if(r<0)r=0;else if(r>a.page.maxw)r=a.page.maxw;if(r!=a.newscrollx||t!=a.newscrolly)a.doScrollPos(r,t);else{if(a.onscrollend){var i={type:"scrollend",current:{x:sx,y:sy},end:{x:a.newscrollx,y:a.newscrolly}};a.onscrollend.call(a,i)}}}else{a.timer=h(c)||1}}var t=typeof t=="undefined"||t===false?a.getScrollTop(true):t;if(a.timer&&a.newscrolly==t&&a.newscrollx==e)return true;if(a.timer)p(a.timer);a.timer=0;var r=a.getScrollTop();var i=a.getScrollLeft();if((a.newscrolly-r)*(t-r)<0||(a.newscrollx-i)*(e-i)<0)a.cancelScroll();a.newscrolly=t;a.newscrollx=e;if(!a.bouncescroll||!a.rail.visibility){if(a.newscrolly<0){a.newscrolly=0}else if(a.newscrolly>a.page.maxh){a.newscrolly=a.page.maxh}}if(!a.bouncescroll||!a.railh.visibility){if(a.newscrollx<0){a.newscrollx=0}else if(a.newscrollx>a.page.maxw){a.newscrollx=a.page.maxw}}a.dst={};a.dst.x=e-i;a.dst.y=t-r;a.dst.px=i;a.dst.py=r;var s=Math.round(Math.sqrt(Math.pow(a.dst.x,2)+Math.pow(a.dst.y,2)));a.dst.ax=a.dst.x/s;a.dst.ay=a.dst.y/s;var o=0;var u=s;if(a.dst.x==0){o=r;u=t;a.dst.ay=1;a.dst.py=0}else if(a.dst.y==0){o=i;u=e;a.dst.ax=1;a.dst.px=0}var f=a.getTransitionSpeed(s);if(n&&n<=1)f*=n;if(f>0){a.bzscroll=a.bzscroll?a.bzscroll.update(u,f):new BezierClass(o,u,f,0,1,0,1)}else{a.bzscroll=false}if(a.timer)return;if(r==a.page.maxh&&t>=a.page.maxh||i==a.page.maxw&&e>=a.page.maxw)a.checkContentSize();var l=1;a.cancelAnimationFrame=false;a.timer=1;if(a.onscrollstart&&!a.scrollrunning){var d={type:"scrollstart",current:{x:i,y:r},request:{x:e,y:t},end:{x:a.newscrollx,y:a.newscrolly},speed:f};a.onscrollstart.call(a,d)}c();if(r==a.page.maxh&&t>=r||i==a.page.maxw&&e>=i)a.checkContentSize();a.noticeCursor()};this.cancelScroll=function(){if(a.timer)p(a.timer);a.timer=0;a.bzscroll=false;a.scrollrunning=false;return a}}this.doScrollBy=function(e,t){var n=0;if(t){n=Math.floor((a.scroll.y-e)*a.scrollratio.y)}else{var r=a.timer?a.newscrolly:a.getScrollTop(true);n=r-e}if(a.bouncescroll){var i=Math.round(a.view.h/2);if(n<-i)n=-i;else if(n>a.page.maxh+i)n=a.page.maxh+i}a.cursorfreezed=false;py=a.getScrollTop(true);if(n<0&&py<=0)return a.noticeCursor();else if(n>a.page.maxh&&py>=a.page.maxh){a.checkContentSize();return a.noticeCursor()}a.doScrollTop(n)};this.doScrollLeftBy=function(e,t){var n=0;if(t){n=Math.floor((a.scroll.x-e)*a.scrollratio.x)}else{var r=a.timer?a.newscrollx:a.getScrollLeft(true);n=r-e}if(a.bouncescroll){var i=Math.round(a.view.w/2);if(n<-i)n=-i;else if(n>a.page.maxw+i)n=a.page.maxw+i}a.cursorfreezed=false;px=a.getScrollLeft(true);if(n<0&&px<=0)return a.noticeCursor();else if(n>a.page.maxw&&px>=a.page.maxw)return a.noticeCursor();a.doScrollLeft(n)};this.doScrollTo=function(e,t){var n=t?Math.round(e*a.scrollratio.y):e;if(n<0)n=0;else if(n>a.page.maxh)n=a.page.maxh;a.cursorfreezed=false;a.doScrollTop(e)};this.checkContentSize=function(){var e=a.getContentSize();if(e.h!=a.page.h||e.w!=a.page.w)a.resize(false,e)};a.onscroll=function(e){if(a.rail.drag)return;if(!a.cursorfreezed){a.synched("scroll",function(){a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y));if(a.railh)a.scroll.x=Math.round(a.getScrollLeft()*(1/a.scrollratio.x));a.noticeCursor()})}};a.bind(a.docscroll,"scroll",a.onscroll);this.doZoomIn=function(e){if(a.zoomactive)return;a.zoomactive=true;a.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"];var n=a.win[0].style;for(var r in t){var i=t[r];a.zoomrestore.style[i]=typeof n[i]!="undefined"?n[i]:""}a.zoomrestore.style.width=a.win.css("width");a.zoomrestore.style.height=a.win.css("height");a.zoomrestore.padding={w:a.win.outerWidth()-a.win.width(),h:a.win.outerHeight()-a.win.height()};if(c.isios4){a.zoomrestore.scrollTop=u(window).scrollTop();u(window).scrollTop(0)}a.win.css({position:c.isios4?"absolute":"fixed",top:0,left:0,"z-index":o+100,margin:"0px"});var s=a.win.css("backgroundColor");if(s==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))a.win.css("backgroundColor","#fff");a.rail.css({"z-index":o+101});a.zoom.css({"z-index":o+102});a.zoom.css("backgroundPosition","0px -18px");a.resizeZoom();if(a.onzoomin)a.onzoomin.call(a);return a.cancelEvent(e)};this.doZoomOut=function(e){if(!a.zoomactive)return;a.zoomactive=false;a.win.css("margin","");a.win.css(a.zoomrestore.style);if(c.isios4){u(window).scrollTop(a.zoomrestore.scrollTop)}a.rail.css({"z-index":a.zindex});a.zoom.css({"z-index":a.zindex});a.zoomrestore=false;a.zoom.css("backgroundPosition","0px 0px");a.onResize();if(a.onzoomout)a.onzoomout.call(a);return a.cancelEvent(e)};this.doZoom=function(e){return a.zoomactive?a.doZoomOut(e):a.doZoomIn(e)};this.resizeZoom=function(){if(!a.zoomactive)return;var e=a.getScrollTop();a.win.css({width:u(window).width()-a.zoomrestore.padding.w+"px",height:u(window).height()-a.zoomrestore.padding.h+"px"});a.onResize();a.setScrollTop(Math.min(a.page.maxh,e))};this.init();u.nicescroll.push(this)};var E=function(e){var t=this;this.nc=e;this.lastx=0;this.lasty=0;this.speedx=0;this.speedy=0;this.lasttime=0;this.steptime=0;this.snapx=false;this.snapy=false;this.demulx=0;this.demuly=0;this.lastscrollx=-1;this.lastscrolly=-1;this.chkx=0;this.chky=0;this.timer=0;this.time=function(){return+(new Date)};this.reset=function(e,n){t.stop();var r=t.time();t.steptime=0;t.lasttime=r;t.speedx=0;t.speedy=0;t.lastx=e;t.lasty=n;t.lastscrollx=-1;t.lastscrolly=-1};this.update=function(e,n){var r=t.time();t.steptime=r-t.lasttime;t.lasttime=r;var i=n-t.lasty;var s=e-t.lastx;var o=t.nc.getScrollTop();var u=t.nc.getScrollLeft();var a=o+i;var f=u+s;t.snapx=f<0||f>t.nc.page.maxw;t.snapy=a<0||a>t.nc.page.maxh;t.speedx=s;t.speedy=i;t.lastx=e;t.lasty=n};this.stop=function(){t.nc.unsynched("domomentum2d");if(t.timer)clearTimeout(t.timer);t.timer=0;t.lastscrollx=-1;t.lastscrolly=-1};this.doSnapy=function(e,n){var r=false;if(n<0){n=0;r=true}else if(n>t.nc.page.maxh){n=t.nc.page.maxh;r=true}if(e<0){e=0;r=true}else if(e>t.nc.page.maxw){e=t.nc.page.maxw;r=true}if(r)t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed)};this.doMomentum=function(e){var n=t.time();var r=e?n+e:t.lasttime;var i=t.nc.getScrollLeft();var s=t.nc.getScrollTop();var o=t.nc.page.maxh;var u=t.nc.page.maxw;t.speedx=u>0?Math.min(60,t.speedx):0;t.speedy=o>0?Math.min(60,t.speedy):0;var a=r&&n-r<=60;if(s<0||s>o||i<0||i>u)a=false;var f=t.speedy&&a?t.speedy:false;var l=t.speedx&&a?t.speedx:false;if(f||l){var c=Math.max(16,t.steptime);if(c>50){var h=c/50;t.speedx*=h;t.speedy*=h;c=50}t.demulxy=0;t.lastscrollx=t.nc.getScrollLeft();t.chkx=t.lastscrollx;t.lastscrolly=t.nc.getScrollTop();t.chky=t.lastscrolly;var p=t.lastscrollx;var d=t.lastscrolly;var v=function(){var e=t.time()-n>600?.04:.02;if(t.speedx){p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy));t.lastscrollx=p;if(p<0||p>u)e=.1}if(t.speedy){d=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy));t.lastscrolly=d;if(d<0||d>o)e=.1}t.demulxy=Math.min(1,t.demulxy+e);t.nc.synched("domomentum2d",function(){if(t.speedx){var e=t.nc.getScrollLeft();if(e!=t.chkx)t.stop();t.chkx=p;t.nc.setScrollLeft(p)}if(t.speedy){var n=t.nc.getScrollTop();if(n!=t.chky)t.stop();t.chky=d;t.nc.setScrollTop(d)}if(!t.timer){t.nc.hideCursor();t.doSnapy(p,d)}});if(t.demulxy<1){t.timer=setTimeout(v,c)}else{t.stop();t.nc.hideCursor();t.doSnapy(p,d)}};v()}else{t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}}};var S=e.fn.scrollTop;e.cssHooks["pageYOffset"]={get:function(e,t,n){var r=u.data(e,"__nicescroll")||false;return r&&r.ishwscroll?r.getScrollTop():S.call(e)},set:function(e,t){var n=u.data(e,"__nicescroll")||false;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):S.call(e,t);return this}};e.fn.scrollTop=function(e){if(typeof e=="undefined"){var t=this[0]?u.data(this[0],"__nicescroll")||false:false;return t&&t.ishwscroll?t.getScrollTop():S.call(this)}else{return this.each(function(){var t=u.data(this,"__nicescroll")||false;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):S.call(u(this),e)})}};var x=e.fn.scrollLeft;u.cssHooks.pageXOffset={get:function(e,t,n){var r=u.data(e,"__nicescroll")||false;return r&&r.ishwscroll?r.getScrollLeft():x.call(e)},set:function(e,t){var n=u.data(e,"__nicescroll")||false;n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):x.call(e,t);return this}};e.fn.scrollLeft=function(e){if(typeof e=="undefined"){var t=this[0]?u.data(this[0],"__nicescroll")||false:false;return t&&t.ishwscroll?t.getScrollLeft():x.call(this)}else{return this.each(function(){var t=u.data(this,"__nicescroll")||false;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):x.call(u(this),e)})}};var T=function(e){var t=this;this.length=0;this.name="nicescrollarray";this.each=function(e){for(var n=0,r=0;n<t.length;n++)e.call(t[n],r++);return t};this.push=function(e){t[t.length]=e;t.length++};this.eq=function(e){return t[e]};if(e){for(a=0;a<e.length;a++){var n=u.data(e[a],"__nicescroll")||false;if(n){this[this.length]=n;this.length++}}}return this};N(T.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}});e.fn.getNiceScroll=function(e){if(typeof e=="undefined"){return new T(this)}else{var t=this[e]&&u.data(this[e],"__nicescroll")||false;return t}};e.extend(e.expr[":"],{nicescroll:function(e){return u.data(e,"__nicescroll")?true:false}});u.fn.niceScroll=function(e,t){if(typeof t=="undefined"){if(typeof e=="object"&&!("jquery"in e)){t=e;e=false}}var n=new T;if(typeof t=="undefined")t={};if(e||false){t.doc=u(e);t.win=u(this)}var r=!("doc"in t);if(!r&&!("win"in t))t.win=u(this);this.each(function(){var e=u(this).data("__nicescroll")||false;if(!e){t.doc=r?u(this):t.doc;e=new w(t,u(this));u(this).data("__nicescroll",e)}n.push(e)});return n.length==1?n[0]:n};window.NiceScroll={getjQuery:function(){return e}};if(!u.nicescroll){u.nicescroll=new T;u.nicescroll.options=g}})(jQuery);(function(e){e.fn.smartWizard=function(t){var n=arguments;var r=undefined;var i=this.each(function(){var i=e(this).data("smartWizard");if(typeof t=="object"||!t||!i){var s=e.extend({},e.fn.smartWizard.defaults,t||{});if(!i){i=new SmartWizard(e(this),s);e(this).data("smartWizard",i)}}else{if(typeof SmartWizard.prototype[t]=="function"){r=SmartWizard.prototype[t].apply(i,Array.prototype.slice.call(n,1));return r}else{e.error("Method "+t+" does not exist on jQuery.smartWizard")}}});if(r===undefined){return i}else{return r}};e.fn.smartWizard.defaults={selected:0,keyNavigation:true,enableAllSteps:false,transitionEffect:"fade",contentURL:null,contentCache:true,cycleSteps:false,enableFinishButton:false,hideButtonsOnDisabled:false,errorSteps:[],labelNext:"Next",labelPrevious:"Previous",labelFinish:"Finish",noForwardJumping:false,ajaxType:"POST",onLeaveStep:null,onShowStep:null,onFinish:null,includeFinishButton:true}})(jQuery);(function(e){var t,n={className:"autosizejs",append:"",callback:!1,resizeDelay:10},r='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',i=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],s=e(r).data("autosize",!0)[0];s.style.lineHeight="99px","99px"===e(s).css("lineHeight")&&i.push("lineHeight"),s.style.lineHeight="",e.fn.autosize=function(r){return r=e.extend({},n,r||{}),s.parentNode!==document.body&&e(document.body).append(s),this.each(function(){function n(){var n,o={};if(t=c,s.className=r.className,a=parseInt(h.css("maxHeight"),10),e.each(i,function(e,t){o[t]=h.css(t)}),e(s).css(o),"oninput"in c){var u=c.style.width;c.style.width="0px",n=c.offsetWidth,c.style.width=u}}function o(){var i,o,u,l;t!==c&&n(),s.value=c.value+r.append,s.style.overflowY=c.style.overflowY,o=parseInt(c.style.height,10),"getComputedStyle"in window?(l=window.getComputedStyle(c),u=c.getBoundingClientRect().width,e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,t){u-=parseInt(l[t],10)}),s.style.width=u+"px"):s.style.width=Math.max(h.width(),0)+"px",s.scrollTop=0,s.scrollTop=9e4,i=s.scrollTop,a&&i>a?(c.style.overflowY="scroll",i=a):(c.style.overflowY="hidden",f>i&&(i=f)),i+=p,o!==i&&(c.style.height=i+"px",d&&r.callback.call(c,c))}function u(){clearTimeout(l),l=setTimeout(function(){h.width()!==m&&o()},parseInt(r.resizeDelay,10))}var a,f,l,c=this,h=e(c),p=0,d=e.isFunction(r.callback),v={height:c.style.height,overflow:c.style.overflow,overflowY:c.style.overflowY,wordWrap:c.style.wordWrap,resize:c.style.resize},m=h.width();h.data("autosize")||(h.data("autosize",!0),("border-box"===h.css("box-sizing")||"border-box"===h.css("-moz-box-sizing")||"border-box"===h.css("-webkit-box-sizing"))&&(p=h.outerHeight()-h.height()),f=Math.max(parseInt(h.css("minHeight"),10)-p||0,h.height()),h.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===h.css("resize")||"vertical"===h.css("resize")?"none":"horizontal"}),"onpropertychange"in c?"oninput"in c?h.on("input.autosize keyup.autosize",o):h.on("propertychange.autosize",function(){"value"===event.propertyName&&o()}):h.on("input.autosize",o),r.resizeDelay!==!1&&e(window).on("resize.autosize",u),h.on("autosize.resize",o),h.on("autosize.resizeIncludeStyle",function(){t=null,o()}),h.on("autosize.destroy",function(){t=null,clearTimeout(l),e(window).off("resize",u),h.off("autosize").off(".autosize").css(v).removeData("autosize")}),o())})}})(window.jQuery||window.Zepto);$(function(){$(".character-count").keyup(function(){var e=125;var t=$(this).val().length;if(t>=e){$(".character-remaining").text(" you have reached the limit")}else{var n=e-t;$(".character-remaining").text(n+" characters left")}})});$(document).ready(function(){$(".toggle-switch").click(function(e){e.preventDefault();var t=$(this).attr("switch-parent");var n=$(this).attr("switch-target");$(t).slideToggle();$(n).slideToggle()});$(".button-toggle").click(function(e){e.preventDefault();$(this).next(".toggle-content").slideToggle()});$(".button-toggle-open").click(function(e){$(".glyph-icon",this).toggleClass("icon-caret-right");e.preventDefault();$(this).next(".toggle-content-open").slideToggle()});$(".button-toggle").hover(function(){$(".content-box-header a.btn",this).fadeIn("fast")},function(){$(".content-box-header a.btn",this).fadeOut("normal")});$(".box-toggle .content-box-header .toggle-button").click(function(e){e.preventDefault();$(".icon-toggle",this).toggleClass("icon-chevron-down").toggleClass("icon-chevron-up");if($(this).parents(".content-box:first").hasClass("content-box-closed")){$(this).parents(".content-box:first").find(".content-box-wrapper").slideDown().removeClass("content-box-closed")}else{$(this).parents(".content-box:first").find(".content-box-wrapper").slideUp().addClass("content-box-closed")}});$(".remove-button").click(function(e){e.preventDefault();var t=$(this).attr("data-animation");var n=$(this).parents(".content-box:first");$(n).addClass("animated");$(n).addClass(t);var r=window.setTimeout(function(){$(n).slideUp()},500);var i=window.setTimeout(function(){$(n).removeClass(t).fadeIn()},2500)});$(function(){$(".infobox-close").click(function(e){e.preventDefault();$(this).parent().fadeOut()})})});(function(e,t){"use strict";function n(e){var t=Array.prototype.slice.call(arguments,1);if(e.prop){return e.prop.apply(e,t)}return e.attr.apply(e,t)}function r(e,t,n){var r,i;for(r in n){if(n.hasOwnProperty(r)){i=r.replace(/ |$/g,t.eventNamespace);e.bind(i,n[r])}}}function i(e,t,n){r(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass);t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass);t.removeClass(n.activeClass)},"mousedown touchbegin":function(){if(!e.is(":disabled")){t.addClass(n.activeClass)}},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function s(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function o(e,t,n){if(n){e.addClass(t)}else{e.removeClass(t)}}function u(e,t,n){var r="checked",i=t.is(":"+r);if(t.prop){t.prop(r,i)}else{if(i){t.attr(r,r)}else{t.removeAttr(r)}}o(e,n.checkedClass,i)}function a(e,t,n){o(e,n.disabledClass,t.is(":disabled"))}function f(e,t,n){switch(n){case"after":e.after(t);return e.next();case"before":e.before(t);return e.prev();case"wrap":e.wrap(t);return e.parent()}return null}function l(t,r,i){var s,o,u;if(!i){i={}}i=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},i);s=e("<div />");o=e("<span />");if(r.autoHide&&t.is(":hidden")&&t.css("display")==="none"){s.hide()}if(i.divClass){s.addClass(i.divClass)}if(r.wrapperClass){s.addClass(r.wrapperClass)}if(i.spanClass){o.addClass(i.spanClass)}u=n(t,"id");if(r.useID&&u){n(s,"id",r.idPrefix+"-"+u)}if(i.spanHtml){o.html(i.spanHtml)}s=f(t,s,i.divWrap);o=f(t,o,i.spanWrap);a(s,t,r);return{div:s,span:o}}function c(t,n){var r;if(!n.wrapperClass){return null}r=e("<span />").addClass(n.wrapperClass);r=f(t,r,"wrap");return r}function h(){var t,n,r,i;i="rgb(120,2,153)";n=e('<div style="width:0;height:0;color:'+i+'">');e("body").append(n);r=n.get(0);if(window.getComputedStyle){t=window.getComputedStyle(r,"").color}else{t=(r.currentStyle||r.style||{}).color}n.remove();return t.replace(/ /g,"")!==i}function p(t){if(!t){return""}return e("<span />").text(t).html()}function d(){return navigator.cpuClass&&!navigator.product}function v(){if(typeof window.XMLHttpRequest!=="undefined"){return true}return false}function m(e){var t;if(e[0].multiple){return true}t=n(e,"size");if(!t||t<=1){return false}return true}function g(){return false}function y(e,t){var n="none";r(e,t,{"selectstart dragstart mousedown":g});e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function b(e,t,n){var r=e.val();if(r===""){r=n.fileDefaultHtml}else{r=r.split(/[\/\\]+/);r=r[r.length-1]}t.text(r)}function w(e,t,n){var r,i;r=[];e.each(function(){var e;for(e in t){if(Object.prototype.hasOwnProperty.call(t,e)){r.push({el:this,name:e,old:this.style[e]});this.style[e]=t[e]}}});n();while(r.length){i=r.pop();i.el.style[i.name]=i.old}}function E(e,t){var n;n=e.parents();n.push(e[0]);n=n.not(":visible");w(n,{visibility:"hidden",display:"block",position:"absolute"},t)}function S(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var x=true,T=false,N=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,t){var o,u,f,c,h;u=t.submitDefaultHtml;if(e.is(":reset")){u=t.resetDefaultHtml}if(e.is("a, button")){c=function(){return e.html()||u}}else{c=function(){return p(n(e,"value"))||u}}f=l(e,t,{divClass:t.buttonClass,spanHtml:c()});o=f.div;i(e,o,t);h=false;r(o,t,{"click touchend":function(){var t,r,i,s;if(h){return}if(e.is(":disabled")){return}h=true;if(e[0].dispatchEvent){t=document.createEvent("MouseEvents");t.initEvent("click",true,true);r=e[0].dispatchEvent(t);if(e.is("a")&&r){i=n(e,"target");s=n(e,"href");if(!i||i==="_self"){document.location.href=s}else{window.open(s,i)}}}else{e.click()}h=false}});y(o,t);return{remove:function(){o.after(e);o.remove();e.unbind(t.eventNamespace);return e},update:function(){s(o,t);a(o,e,t);e.detach();f.span.html(c()).append(e)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,o,f;n=l(e,t,{divClass:t.checkboxClass});o=n.div;f=n.span;i(e,o,t);r(e,t,{"click touchend":function(){u(f,e,t)}});u(f,e,t);return{remove:S(e,t),update:function(){s(o,t);f.removeClass(t.checkedClass);u(f,e,t);a(o,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(t,o){function v(){b(t,h,o)}var u,c,h,p;u=l(t,o,{divClass:o.fileClass,spanClass:o.fileButtonClass,spanHtml:o.fileButtonHtml,spanWrap:"after"});c=u.div;p=u.span;h=e("<span />").html(o.fileDefaultHtml);h.addClass(o.filenameClass);h=f(t,h,"after");if(!n(t,"size")){n(t,"size",c.width()/10)}i(t,c,o);v();if(d()){r(t,o,{click:function(){t.trigger("change");setTimeout(v,0)}})}else{r(t,o,{change:v})}y(h,o);y(p,o);return{remove:function(){h.remove();p.remove();return t.unwrap().unbind(o.eventNamespace)},update:function(){s(c,o);b(t,h,o);a(c,t,o)}}}},{match:function(e){if(e.is("input")){var t=(" "+n(e,"type")+" ").toLowerCase(),r=" color date datetime datetime-local email month number password search tel text time url week ";return r.indexOf(t)>=0}return false},apply:function(e,t){var r,s;r=n(e,"type");e.addClass(t.inputClass);s=c(e,t);i(e,e,t);if(t.inputAddTypeAsClass){e.addClass(r)}return{remove:function(){e.removeClass(t.inputClass);if(t.inputAddTypeAsClass){e.removeClass(r)}if(s){e.unwrap()}},update:g}}},{match:function(e){return e.is(":radio")},apply:function(t,o){var f,c,h;f=l(t,o,{divClass:o.radioClass});c=f.div;h=f.span;i(t,c,o);r(t,o,{"click touchend":function(){e.uniform.update(e(':radio[name="'+n(t,"name")+'"]'))}});u(h,t,o);return{remove:S(t,o),update:function(){s(c,o);u(h,t,o);a(c,t,o)}}}},{match:function(e){if(e.is("select")&&!m(e)){return true}return false},apply:function(t,n){var o,u,f,c;if(n.selectAutoWidth){E(t,function(){c=t.width()})}o=l(t,n,{divClass:n.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"});u=o.div;f=o.span;if(n.selectAutoWidth){E(t,function(){w(e([f[0],u[0]]),{display:"block"},function(){var e;e=f.outerWidth()-f.width();u.width(c+e);f.width(c)})})}else{u.addClass("fixedWidth")}i(t,u,n);r(t,n,{change:function(){f.html(t.find(":selected").html());u.removeClass(n.activeClass)},"click touchend":function(){var e=t.find(":selected").html();if(f.html()!==e){t.trigger("change")}},keyup:function(){f.html(t.find(":selected").html())}});y(f,n);return{remove:function(){f.remove();t.unwrap().unbind(n.eventNamespace);return t},update:function(){if(n.selectAutoWidth){e.uniform.restore(t);t.uniform(n)}else{s(u,n);f.html(t.find(":selected").html());a(u,t,n)}}}}},{match:function(e){if(e.is("select")&&m(e)){return true}return false},apply:function(e,t){var n;e.addClass(t.selectMultiClass);n=c(e,t);i(e,e,t);return{remove:function(){e.removeClass(t.selectMultiClass);if(n){e.unwrap()}},update:g}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;e.addClass(t.textareaClass);n=c(e,t);i(e,e,t);return{remove:function(){e.removeClass(t.textareaClass);if(n){e.unwrap()}},update:g}}}];if(d()&&!v()){x=false}e.uniform={defaults:{activeClass:"active",autoHide:true,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:true,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:false,selectAutoWidth:true,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:true,wrapperClass:null},elements:[]};e.fn.uniform=function(t){var n=this;t=e.extend({},e.uniform.defaults,t);if(!T){T=true;if(h()){x=false}}if(!x){return this}if(t.resetSelector){e(t.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(n)},10)})}return this.each(function(){var n=e(this),r,i,s;if(n.data("uniformed")){e.uniform.update(n);return}for(r=0;r<N.length;r=r+1){i=N[r];if(i.match(n,t)){s=i.apply(n,t);n.data("uniformed",s);e.uniform.elements.push(n.get(0));return}}})};e.uniform.restore=e.fn.uniform.restore=function(n){if(n===t){n=e.uniform.elements}e(n).each(function(){var t=e(this),n,r;r=t.data("uniformed");if(!r){return}r.remove();n=e.inArray(this,e.uniform.elements);if(n>=0){e.uniform.elements.splice(n,1)}t.removeData("uniformed")})};e.uniform.update=e.fn.uniform.update=function(n){if(n===t){n=e.uniform.elements}e(n).each(function(){var t=e(this),n;n=t.data("uniformed");if(!n){return}n.update(t,n.options)})}})(jQuery);!function(e){"use strict";var t=function(e){this.messages={defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",urlstrict:"This value should be a valid url.",number:"This value should be a valid number.",digits:"This value should be digits.",dateIso:"This value should be a valid date (YYYY-MM-DD).",alphanum:"This value should be alphanumeric.",phone:"This value should be a valid phone number."},notnull:"This value should not be null.",notblank:"This value should not be blank.",required:"This value is required.",regexp:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",rangelength:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",rangecheck:"You must select between %s and %s choices.",equalto:"This value should be the same."},this.init(e)};t.prototype={constructor:t,validators:{notnull:function(e){return e.length>0},notblank:function(e){return"string"===typeof e&&""!==e.replace(/^\s+/g,"").replace(/\s+$/g,"")},required:function(e){if("object"===typeof e){for(var t in e){if(this.required(e[t])){return true}}return false}return this.notnull(e)&&this.notblank(e)},type:function(e,t){var n;switch(t){case"number":n=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":n=/^\d+$/;break;case"alphanum":n=/^\w+$/;break;case"email":n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))){2,6}$/i;break;case"url":e=(new RegExp("(https?|s?ftp|git)","i")).test(e)?e:"http://"+e;case"urlstrict":n=/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;break;case"dateIso":n=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;case"phone":n=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;break;default:return false}return""!==e?n.test(e):false},regexp:function(e,t,n){return(new RegExp(t,n.options.regexpFlag||"")).test(e)},minlength:function(e,t){return e.length>=t},maxlength:function(e,t){return e.length<=t},rangelength:function(e,t){return this.minlength(e,t[0])&&this.maxlength(e,t[1])},min:function(e,t){return Number(e)>=t},max:function(e,t){return Number(e)<=t},range:function(e,t){return e>=t[0]&&e<=t[1]},equalto:function(t,n,r){r.options.validateIfUnchanged=true;return t===e(n).val()},remote:function(t,n,r){var i=null,s={},o={};s[r.$element.attr("name")]=t;if("undefined"!==typeof r.options.remoteDatatype){o={dataType:r.options.remoteDatatype}}var u=function(t,n){if("undefined"!==typeof n&&"undefined"!==typeof r.Validator.messages.remote&&n!==r.Validator.messages.remote){e(r.ulError+" .remote").remove()}r.updtConstraint({name:"remote",valid:t},n);r.manageValidationResult()};var a=function(t){if("object"===typeof t){return t}try{t=e.parseJSON(t)}catch(n){}return t};var f=function(e){return"object"===typeof e&&null!==e?"undefined"!==typeof e.error?e.error:"undefined"!==typeof e.message?e.message:null:null};e.ajax(e.extend({},{url:n,data:s,type:r.options.remoteMethod||"GET",success:function(e){e=a(e);u(1===e||true===e||"object"===typeof e&&null!==e&&"undefined"!==typeof e.success,f(e))},error:function(e){e=a(e);u(false,f(e))}},o));return i},mincheck:function(e,t){return this.minlength(e,t)},maxcheck:function(e,t){return this.maxlength(e,t)},rangecheck:function(e,t){return this.rangelength(e,t)}},init:function(e){var t=e.validators,n=e.messages;var r;for(r in t){this.addValidator(r,t[r])}for(r in n){this.addMessage(r,n[r])}},formatMesssage:function(e,t){if("object"===typeof t){for(var n in t){e=this.formatMesssage(e,t[n])}return e}return"string"===typeof e?e.replace(new RegExp("%s","i"),t):""},addValidator:function(e,t){this.validators[e]=t},addMessage:function(e,t,n){if("undefined"!==typeof n&&true===n){this.messages.type[e]=t;return}if("type"===e){for(var r in t){this.messages.type[r]=t[r]}return}this.messages[e]=t}};var n=function(e,n,r){this.options=n;this.Validator=new t(n);if(r==="ParsleyFieldMultiple"){return this}this.init(e,r||"ParsleyField")};n.prototype={constructor:n,init:function(t,n){this.type=n;this.valid=true;this.element=t;this.validatedOnce=false;this.$element=e(t);this.val=this.$element.val();this.isRequired=false;this.constraints={};if("undefined"===typeof this.isRadioOrCheckbox){this.isRadioOrCheckbox=false;this.hash=this.generateHash();this.errorClassHandler=this.options.errors.classHandler(t,this.isRadioOrCheckbox)||this.$element}this.ulErrorManagement();this.bindHtml5Constraints();this.addConstraints();if(this.hasConstraints()){this.bindValidationEvents()}},setParent:function(t){this.$parent=e(t)},getParent:function(){return this.$parent},bindHtml5Constraints:function(){if(this.$element.hasClass("required")||this.$element.prop("required")){this.options.required=true}if("undefined"!==typeof this.$element.attr("type")&&(new RegExp(this.$element.attr("type"),"i")).test("email url number range")){this.options.type=this.$element.attr("type");if((new RegExp(this.options.type,"i")).test("number range")){this.options.type="number";if("undefined"!==typeof this.$element.attr("min")&&this.$element.attr("min").length){this.options.min=this.$element.attr("min")}if("undefined"!==typeof this.$element.attr("max")&&this.$element.attr("max").length){this.options.max=this.$element.attr("max")}}}if("string"===typeof this.$element.attr("pattern")&&this.$element.attr("pattern").length){this.options.regexp=this.$element.attr("pattern")}},addConstraints:function(){for(var e in this.options){var t={};t[e]=this.options[e];this.addConstraint(t,true)}},addConstraint:function(e,t){for(var n in e){n=n.toLowerCase();if("function"===typeof this.Validator.validators[n]){this.constraints[n]={name:n,requirements:e[n],valid:null};if(n==="required"){this.isRequired=true}this.addCustomConstraintMessage(n)}}if("undefined"===typeof t){this.bindValidationEvents()}},updateConstraint:function(e,t){for(var n in e){this.updtConstraint({name:n,requirements:e[n],valid:null},t)}},updtConstraint:function(t,n){this.constraints[t.name]=e.extend(true,this.constraints[t.name],t);if("string"===typeof n){this.Validator.messages[t.name]=n}this.bindValidationEvents()},removeConstraint:function(e){var e=e.toLowerCase();delete this.constraints[e];if(e==="required"){this.isRequired=false}if(!this.hasConstraints()){if("ParsleyForm"===typeof this.getParent()){this.getParent().removeItem(this.$element);return}this.destroy();return}this.bindValidationEvents()},addCustomConstraintMessage:function(e){var t=e+("type"===e&&"undefined"!==typeof this.options[e]?this.options[e].charAt(0).toUpperCase()+this.options[e].substr(1):"")+"Message";if("undefined"!==typeof this.options[t]){this.Validator.addMessage("type"===e?this.options[e]:e,this.options[t],"type"===e)}},bindValidationEvents:function(){this.valid=null;this.$element.addClass("parsley-validated");this.$element.off("."+this.type);if(this.options.remote&&!(new RegExp("change","i")).test(this.options.trigger)){this.options.trigger=!this.options.trigger?"change":" change"}var t=(!this.options.trigger?"":this.options.trigger)+((new RegExp("key","i")).test(this.options.trigger)?"":" keyup");if(this.$element.is("select")){t+=(new RegExp("change","i")).test(t)?"":" change"}t=t.replace(/^\s+/g,"").replace(/\s+$/g,"");this.$element.on((t+" ").split(" ").join("."+this.type+" "),false,e.proxy(this.eventValidation,this))},generateHash:function(){return"parsley-"+(Math.random()+"").substring(2)},getHash:function(){return this.hash},getVal:function(){return this.$element.data("value")||this.$element.val()},eventValidation:function(e){var t=this.getVal();if(e.type==="keyup"&&!/keyup/i.test(this.options.trigger)&&!this.validatedOnce){return true}if(e.type==="change"&&!/change/i.test(this.options.trigger)&&!this.validatedOnce){return true}if(!this.isRadioOrCheckbox&&this.getLength(t)<this.options.validationMinlength&&!this.validatedOnce){return true}this.validate()},getLength:function(e){if(!e||!e.hasOwnProperty("length"))return 0;return e.length},isValid:function(){return this.validate(false)},hasConstraints:function(){for(var e in this.constraints){return true}return false},validate:function(e){var t=this.getVal(),n=null;if(!this.hasConstraints()){return null}if(this.options.listeners.onFieldValidate(this.element,this)||""===t&&!this.isRequired){this.reset();return null}if(!this.needsValidation(t)){return this.valid}n=this.applyValidators();if("undefined"!==typeof e?e:this.options.showErrors){this.manageValidationResult()}return n},needsValidation:function(e){if(!this.options.validateIfUnchanged&&this.valid!==null&&this.val===e&&this.validatedOnce){return false}this.val=e;return this.validatedOnce=true},applyValidators:function(){var e=null;for(var t in this.constraints){var n=this.Validator.validators[this.constraints[t].name](this.val,this.constraints[t].requirements,this);if(false===n){e=false;this.constraints[t].valid=e;this.options.listeners.onFieldError(this.element,this.constraints,this)}else if(true===n){this.constraints[t].valid=true;e=false!==e;if(false===this.options.listeners.onFieldSuccess(this.element,this.constraints,this)){e=false}}}return e},manageValidationResult:function(){var t=null;for(var n in this.constraints){if(false===this.constraints[n].valid){this.manageError(this.constraints[n]);t=false}else if(true===this.constraints[n].valid){this.removeError(this.constraints[n].name);t=false!==t}}this.valid=t;if(true===this.valid){this.removeErrors();this.errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass);return true}else if(false===this.valid){this.errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass);return false}if(this.ulError&&e(this.ulError).children().length===0){this.removeErrors()}return t},ulErrorManagement:function(){this.ulError="#"+this.hash;this.ulTemplate=e(this.options.errors.errorsWrapper).attr("id",this.hash).addClass("parsley-error-list")},removeError:function(t){var n=this.ulError+" ."+t,r=this;this.options.animate?e(n).fadeOut(this.options.animateDuration,function(){e(this).remove();if(r.ulError&&e(r.ulError).children().length===0){r.removeErrors()}}):e(n).remove()},addError:function(t){for(var n in t){var r=e(this.options.errors.errorElem).addClass(n);e(this.ulError).append(this.options.animate?e(r).html(t[n]).hide().fadeIn(this.options.animateDuration):e(r).html(t[n]))}},removeErrors:function(){this.options.animate?e(this.ulError).fadeOut(this.options.animateDuration,function(){e(this).remove()}):e(this.ulError).remove()},reset:function(){this.valid=null;this.removeErrors();this.validatedOnce=false;this.errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass);for(var e in this.constraints){this.constraints[e].valid=null}return this},manageError:function(t){if(!e(this.ulError).length){this.manageErrorContainer()}if("required"===t.name&&null!==this.getVal()&&this.getVal().length>0){return}else if(this.isRequired&&"required"!==t.name&&(null===this.getVal()||0===this.getVal().length)){return}var n=t.name,r=false!==this.options.errorMessage?"custom-error-message":n,i={},s=false!==this.options.errorMessage?this.options.errorMessage:t.name==="type"?this.Validator.messages[n][t.requirements]:"undefined"===typeof this.Validator.messages[n]?this.Validator.messages.defaultMessage:this.Validator.formatMesssage(this.Validator.messages[n],t.requirements);if(!e(this.ulError+" ."+r).length){i[r]=s;this.addError(i)}},manageErrorContainer:function(){var t=this.options.errorContainer||this.options.errors.container(this.element,this.isRadioOrCheckbox),n=this.options.animate?this.ulTemplate.show():this.ulTemplate;if("undefined"!==typeof t){e(t).append(n);return}!this.isRadioOrCheckbox?this.$element.after(n):this.$element.parent().after(n)},addListener:function(e){for(var t in e){this.options.listeners[t]=e[t]}},destroy:function(){this.$element.removeClass("parsley-validated");this.reset().$element.off("."+this.type).removeData(this.type)}};var r=function(e,n,r){this.initMultiple(e,n);this.inherit(e,n);this.Validator=new t(n);this.init(e,r||"ParsleyFieldMultiple")};r.prototype={constructor:r,initMultiple:function(t,n){this.element=t;this.$element=e(t);this.group=n.group||false;this.hash=this.getName();this.siblings=this.group?'[data-group="'+this.group+'"]':'input[name="'+this.$element.attr("name")+'"]';this.isRadioOrCheckbox=true;this.isRadio=this.$element.is("input[type=radio]");this.isCheckbox=this.$element.is("input[type=checkbox]");this.errorClassHandler=n.errors.classHandler(t,this.isRadioOrCheckbox)||this.$element.parent()},inherit:function(e,t){var r=new n(e,t,"ParsleyFieldMultiple");for(var i in r){if("undefined"===typeof this[i]){this[i]=r[i]}}},getName:function(){if(this.group){return"parsley-"+this.group}if("undefined"===typeof this.$element.attr("name")){throw"A radio / checkbox input must have a data-group attribute or a name to be Parsley validated !"}return"parsley-"+this.$element.attr("name").replace(/(:|\.|\[|\])/g,"")},getVal:function(){if(this.isRadio){return e(this.siblings+":checked").val()||""}if(this.isCheckbox){var t=[];e(this.siblings+":checked").each(function(){t.push(e(this).val())});return t}},bindValidationEvents:function(){this.valid=null;this.$element.addClass("parsley-validated");this.$element.off("."+this.type);var t=this,n=(!this.options.trigger?"":this.options.trigger)+((new RegExp("change","i")).test(this.options.trigger)?"":" change");n=n.replace(/^\s+/g,"").replace(/\s+$/g,"");e(this.siblings).each(function(){e(this).on(n.split(" ").join("."+t.type+" "),false,e.proxy(t.eventValidation,t))})}};var i=function(e,t,n){this.init(e,t,n||"parsleyForm")};i.prototype={constructor:i,init:function(t,n,r){this.type=r;this.items=[];this.$element=e(t);this.options=n;var i=this;this.$element.find(n.inputs).each(function(){i.addItem(this)});this.$element.on("submit."+this.type,false,e.proxy(this.validate,this))},addListener:function(e){for(var t in e){if((new RegExp("Field")).test(t)){for(var n=0;n<this.items.length;n++){this.items[n].addListener(e)}}else{this.options.listeners[t]=e[t]}}},addItem:function(t){if(e(t).is(this.options.excluded)){return false}var n=e(t).parsley(this.options);n.setParent(this);this.items.push(n)},removeItem:function(t){var n=e(t).parsley();for(var r=0;r<this.items.length;r++){if(this.items[r].hash===n.hash){this.items[r].destroy();this.items.splice(r,1);return true}}return false},validate:function(e){var t=true;this.focusedField=false;for(var n=0;n<this.items.length;n++){if("undefined"!==typeof this.items[n]&&false===this.items[n].validate()){t=false;if(!this.focusedField&&"first"===this.options.focus||"last"===this.options.focus){this.focusedField=this.items[n].$element}}}if(this.focusedField&&!t){this.focusedField.focus()}var r=this.options.listeners.onFormSubmit(t,e,this);if("undefined"!==typeof r){return r}return t},isValid:function(){for(var e=0;e<this.items.length;e++){if(false===this.items[e].isValid()){return false}}return true},removeErrors:function(){for(var e=0;e<this.items.length;e++){this.items[e].parsley("reset")}},destroy:function(){for(var e=0;e<this.items.length;e++){this.items[e].destroy()}this.$element.off("."+this.type).removeData(this.type)},reset:function(){for(var e=0;e<this.items.length;e++){this.items[e].reset()}}};e.fn.parsley=function(t,s){function a(u,a){var f=e(u).data(a);if(!f){switch(a){case"parsleyForm":f=new i(u,o,"parsleyForm");break;case"parsleyField":f=new n(u,o,"parsleyField");break;case"parsleyFieldMultiple":f=new r(u,o,"parsleyFieldMultiple");break;default:return}e(u).data(a,f)}if("string"===typeof t&&"function"===typeof f[t]){var l=f[t](s);return"undefined"!==typeof l?l:e(u)}return f}var o=e.extend(true,{},e.fn.parsley.defaults,"undefined"!==typeof window.ParsleyConfig?window.ParsleyConfig:{},t,this.data()),u=null;if(e(this).is("form")||true===e(this).data("bind")){u=a(e(this),"parsleyForm")}else if(e(this).is(o.inputs)&&!e(this).is(o.excluded)){u=a(e(this),!e(this).is("input[type=radio], input[type=checkbox]")?"parsleyField":"parsleyFieldMultiple")}return"function"===typeof s?s():u};e.fn.parsley.Constructor=i;e.fn.parsley.defaults={inputs:"input, textarea, select",excluded:"input[type=hidden], input[type=file], :disabled",trigger:false,animate:true,animateDuration:300,focus:"first",validationMinlength:3,successClass:"parsley-success",errorClass:"parsley-error",errorMessage:false,validators:{},showErrors:true,messages:{},validateIfUnchanged:false,errors:{classHandler:function(e,t){},container:function(e,t){},errorsWrapper:"<ul></ul>",errorElem:"<li></li>"},listeners:{onFieldValidate:function(e,t){return false},onFormSubmit:function(e,t,n){},onFieldError:function(e,t,n){},onFieldSuccess:function(e,t,n){}}};e(window).on("load",function(){e('[data-validate="parsley"]').each(function(){e(this).parsley()})})}(window.jQuery||window.Zepto);+function(e){"use strict";var t=function(n,r){this.$element=e(n);this.options=e.extend({},t.DEFAULTS,r)};t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(e){var t="disabled";var n=this.$element;var r=n.is("input")?"val":"html";var i=n.data();e=e+"Text";if(!i.resetText)n.data("resetText",n[r]());n[r](i[e]||this.options[e]);setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)};t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var t=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");if(t.prop("type")==="radio")e.find(".active").removeClass("active")}this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this);var i=r.data("bs.button");var s=typeof n=="object"&&n;if(!i)r.data("bs.button",i=new t(this,s));if(n=="toggle")i.toggle();else if(n)i.setState(n)})};e.fn.button.Constructor=t;e.fn.button.noConflict=function(){e.fn.button=n;return this};e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);if(!n.hasClass("btn"))n=n.closest(".btn");n.button("toggle");t.preventDefault()})}(jQuery);$(function(){$(".sparkbar").sparkline("html",{type:"bar",disableHiddenCheck:false,width:"36px",height:"36px"})});$(function(){$(".bar-sparkline-btn").sparkline([[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[2,7],[3,5]],{type:"bar",height:"53px",barWidth:"5px",barSpacing:"2px"})});$(function(){$(".bar-sparkline-btn-2").sparkline([[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[2,7],[3,5]],{type:"bar",height:"40px",barWidth:"3px",barSpacing:"2px"})});$(function(){$(".bar-sparkline").sparkline([[4,8],[2,7],[2,6],[2,7],[3,5],[2,7],[2,6],[2,7],[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[4,8],[2,7],[2,6],[2,7],[3,5]],{type:"bar",height:"35px",barWidth:"5px",barSpacing:"2px"})});$(function(){$(".bar-sparkline-2").sparkline("html",{type:"bar",barColor:"black",height:"35px",barWidth:"5px",barSpacing:"2px"})});$(function(){$(".tristate-sparkline").sparkline("html",{type:"tristate",barColor:"black",height:"35px",barWidth:"5px",barSpacing:"2px"})});$(function(){$(".discrete-sparkline").sparkline("html",{type:"discrete",barColor:"black",height:"45px",barSpacing:"4px"})});$(function(){$(".pie-sparkline").sparkline("html",{type:"pie",barColor:"black",height:"45px",width:"45px"})});$(function(){$(".pie-sparkline-alt").sparkline("html",{type:"pie",width:"100",height:"100",sliceColors:["#EFEFEF","#5BCCF6","#FA7753"],borderWidth:0})});$(function(){var e=[10,8,5,7,4,4,1];$(".dynamic-sparkline").sparkline(e,{height:"35px",width:"135px"})});$(function(){var e=[10,8,5,7,4,4,1];$(".dynamic-sparkline-5").sparkline(e,{height:"57px",width:"100px"})});$(function(){$(".tristate-sparkline-2").sparkline("html",{type:"tristate",posBarColor:"#ec6a00",negBarColor:"#ffc98a",zeroBarColor:"#000000",height:"35px",barWidth:"5px",barSpacing:"2px"})});$(function(){$(".infobox-sparkline").sparkline([[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[2,7],[3,5]],{type:"bar",height:"53",barWidth:5,barSpacing:2,zeroAxis:false,barColor:"#ccc",negBarColor:"#ddd",zeroColor:"#ccc",stackedBarColor:["#871010","#ffebeb"]})});$(function(){$(".infobox-sparkline-2").sparkline([[3,5],[4,7],[2,5],[3,5],[4,7],[4,7],[5,7],[2,7],[3,5]],{type:"bar",height:"53",barWidth:5,barSpacing:2,zeroAxis:false,barColor:"#ccc",negBarColor:"#ddd",zeroColor:"#ccc",stackedBarColor:["#000000","#cccccc"]})});$(function(){$(".infobox-sparkline-pie").sparkline([1.5,2.5,2],{type:"pie",width:"57",height:"57",sliceColors:["#0d4f26","#00712b","#2eee76"],offset:0,borderWidth:0,borderColor:"#000000"})});$(function(){$(".infobox-sparkline-tri").sparkline([1,1,0,1,-1,-1,1,-1,0,0,2,1],{type:"tristate",height:"53",posBarColor:"#1bb1fc",negBarColor:"#3d57ed",zeroBarColor:"#000000",barWidth:5})});$(function(){$(".sprk-1").sparkline("html",{type:"line",width:"50%",height:"65",lineColor:"#b2b2b2",fillColor:"#ffffff",lineWidth:1,spotColor:"#0065ff",minSpotColor:"#0065ff",maxSpotColor:"#0065ff",spotRadius:4})});$(function(){$(".sparkline-big").sparkline("html",{type:"line",width:"85%",height:"80",highlightLineColor:"#ffffff",lineColor:"#ffffff",fillColor:"transparent",lineWidth:1,spotColor:"#ffffff",minSpotColor:"#ffffff",maxSpotColor:"#ffffff",highlightSpotColor:"#000000",spotRadius:4})});$(function(){$(".sparkline-bar-big").sparkline("html",{type:"bar",width:"85%",height:"90",barWidth:6,barSpacing:2,zeroAxis:false,barColor:"#ffffff",negBarColor:"#ffffff"})});$(function(){$(".sparkline-bar-big-color").sparkline("html",{type:"bar",height:"90",width:"85%",barWidth:6,barSpacing:2,zeroAxis:false,barColor:"#9CD159",negBarColor:"#9CD159"})});$(function(){$(".sparkline-bar-big-color-2").sparkline([405,450,302,405,230,311,405,342,579,405,450,302,183,579,180,311,405,342,579,405,450,302,405,230,311,405,342,579,405,450,302,405,342,432,405,450,302,183,579,180,311,405,342,579,183,579,180,311,405,342,579,405,450,302,405,230,311,405,342,579,405,450,302,405,342,432,405,450,302,183,579,180,311,405,342,579,240,180,311,450,302,370,210],{type:"bar",height:"88",width:"85%",barWidth:6,barSpacing:2,zeroAxis:false,barColor:"#9CD159",negBarColor:"#9CD159"})});var initPieChart=function(){$(".chart").easyPieChart({barColor:function(e){e/=100;return"rgb("+Math.round(254*(1-e))+", "+Math.round(255*e)+", 0)"},animate:1e3,scaleColor:"#ccc",lineWidth:3,size:100,lineCap:"cap",onStep:function(e){this.$el.find("span").text(~~e)}});$(".chart-alt").easyPieChart({barColor:function(e){e/=100;return"rgb("+Math.round(255*(1-e))+", "+Math.round(255*e)+", 0)"},trackColor:"#333",scaleColor:false,lineCap:"butt",rotate:-90,lineWidth:20,animate:1500,onStep:function(e){this.$el.find("span").text(~~e)}});$(".chart-alt-1").easyPieChart({barColor:function(e){e/=100;return"rgb("+Math.round(255*(1-e))+", "+Math.round(255*e)+", 0)"},trackColor:"#e1ecf1",scaleColor:"#c4d7e0",lineCap:"cap",rotate:-90,lineWidth:10,size:80,animate:2500,onStep:function(e){this.$el.find("span").text(~~e)}});$(".chart-alt-2").easyPieChart({barColor:function(e){e/=100;return"rgb("+Math.round(255*(1-e))+", "+Math.round(255*e)+", 0)"},trackColor:"#fff",scaleColor:false,lineCap:"butt",rotate:-90,lineWidth:4,size:50,animate:1500,onStep:function(e){this.$el.find("span").text(~~e)}});$(".updateEasyPieChart").on("click",function(e){e.preventDefault();$(".chart, .chart-alt, .chart-alt-1, .chart-alt-2").each(function(){$(this).data("easyPieChart").update(Math.round(100*Math.random()))})})};$(document).ready(function(){initPieChart()});$(window).resize(function(){layoutFormatter()});$(document).on("click",function(){boxedFormatter()});$(document).ready(function(){boxedFormatter();layoutFormatter();$(function(){$("#responsive-open-menu").click(function(){$("#sidebar-menu").toggle()})});$(function(){$("#sidebar-menu li").click(function(){if($(this).is(".active")){$(this).removeClass("active");$("ul",this).slideUp()}else{$("#sidebar-menu li ul").slideUp();$("ul",this).slideDown();$("#sidebar-menu li").removeClass("active");$(this).addClass("active")}})});$(function(){var e=window.location;$('#sidebar-menu a[href="'+e+'"]').parent("li").addClass("current-page");$("#sidebar-menu a").filter(function(){return this.href==e}).parent("li").addClass("current-page").parent("ul").slideDown().parent().addClass("active")});$(function(){$(".boxed-layout-btn").click(function(){var e=$.cookie("boxedLayout","on");$("body").addClass("boxed-layout");$(".boxed-layout-btn").addClass("hidden");$(".fluid-layout-btn").removeClass("hidden")});$(".fluid-layout-btn").click(function(){var e=$.cookie("boxedLayout","off");$("body").removeClass("boxed-layout");$(".fluid-layout-btn").addClass("hidden");$(".boxed-layout-btn").removeClass("hidden");$("#page-sidebar").css("position","fixed")});var e=$.cookie("boxedLayout");if(e=="on"){$("body").addClass("boxed-layout");$(".boxed-layout-btn").addClass("hidden");$(".fluid-layout-btn").removeClass("hidden")}});$(function(){$(".enable-animations").click(function(){var e=$.cookie("animations","enable");$("#theme-animations").attr("href","assets/themes/minified/fides/animations.min.css");$(".enable-animations").addClass("hidden");$(".disable-animations").removeClass("hidden")});$(".disable-animations").click(function(){var e=$.cookie("animations","disable");$("#theme-animations").attr("href","");$(".disable-animations").addClass("hidden");$(".enable-animations").removeClass("hidden")});var e=$.cookie("animations");if(e=="disable"){$("#theme-animations").attr("href","");$(".enable-animations").removeClass("hidden");$(".disable-animations").addClass("hidden")}});$(function(){$("#close-sidebar").click(function(){$("#page-content-wrapper").animate({marginLeft:0},300);$("body").addClass("close-sidebar");var e=$.cookie("closesidebar","close");$(this).addClass("hidden");$("#rm-close-sidebar").removeClass("hidden")});$("#rm-close-sidebar").click(function(){$("#page-content-wrapper").animate({marginLeft:220},300);$("body").removeClass("close-sidebar");var e=$.cookie("closesidebar","rm-close");$(this).addClass("hidden");$("#close-sidebar").removeClass("hidden")});var e=$.cookie("closesidebar");if(e=="close"){$("#close-sidebar").addClass("hidden");$("#rm-close-sidebar").removeClass("hidden");$("body").addClass("close-sidebar")}})});$(document).ready(function(){$(".choose-bg").click(function(){var e=$(this).attr("boxed-bg");$("body").css("background",e);var t=$.cookie("set-boxed-bg",e)});$(".change-layout-theme a").click(function(){var e=$(this).attr("layout-theme");$("#loading").slideDown({complete:function(){if(e!=""){$("#layout-theme").attr("href","assets/themes/minified/fides/color-schemes/"+e+".min.css");var t=$.cookie("set-layout-theme",e)}}});$("#loading").delay(1500).slideUp()});themefromCookie();bgFromCookie()});$(function(){$(".change-theme-btn").click(function(){$(".theme-customizer").animate({right:"0"})});$(".theme-customizer .theme-wrapper").click(function(){$(this).parent().animate({right:"-350"})})});$(document).ready(function(){$(function(){$(".loading-button").click(function(){var e=$(this);e.button("loading");setTimeout(function(){e.button("reset")},3e3)})});$(function(){$(".toggle-switch").toggles()});$(function(){$(".multi-select").multiSelect();$(".ms-container").append('<i class="glyph-icon icon-exchange"></i>')});$(function(){$(".input-knob").knob()});$(function(){$(".loadingbar-demo").loadingbar({done:function(e){$.each(e.items,function(e,t){$("<img/>").attr("src",t.media.m).prependTo($("#frame"));if(e===2){return false}})}})});$(function(){$("#sidebar-search input").focus(function(){$(this).stop().animate({width:200},"slow")}).blur(function(){$(this).stop().animate({width:100},"slow")})});$(function(){$("#form-wizard").smartWizard({transitionEffect:"slide"})});$(function(){$(".sortable-elements").sortable()});$(function(){$(".column-sort").sortable({connectWith:".column-sort"})});$(function(){$(".todo-sort").sortable({handle:".sort-handle"})});$(function(){$(".jcrop-basic").Jcrop()});$(function(){$(".textarea-autosize").autosize()});$(".todo-box li input").on("click",function(){$(this).parent().toggleClass("todo-done")});$(document).on("ready",function(){$(".scrollable-content").niceScroll({cursorborder:"transparent solid 2px",cursorwidth:"4",cursorcolor:"#363636",cursoropacitymax:"0.4",cursorborderradius:"2px"})});$(document).on("ready",function(){$(".dataTables_scrollBody").niceScroll({cursorborder:"transparent solid 2px",cursorwidth:"4",cursorcolor:"#363636",cursoropacitymax:"0.4",cursorborderradius:"2px"})});$(document).on("ready",function(){$(".scrollable-content").niceScroll({cursorborder:"transparent solid 2px",cursorwidth:"4",cursorcolor:"#363636",cursoropacitymax:"0.4",cursorborderradius:"2px"})});$(function(){$(".tooltip-button").tooltip({container:"body"})});$(function(){$(".popover-button").popover({container:"body",html:true,animation:true,content:function(){var e=$(this).attr("data-id");return $(e).html()}}).click(function(e){e.preventDefault()})});$(function(){$(".popover-button-default").popover({container:"body",html:true,animation:true}).click(function(e){e.preventDefault()})});$(function(){var e=[];e[""]='<i class="glyph-icon icon-cog mrg5R"></i>This is a default notification message.';e["alert"]='<i class="glyph-icon icon-cog mrg5R"></i>This is an alert notification message.';e["error"]='<i class="glyph-icon icon-cog mrg5R"></i>This is an error notification message.';e["success"]='<i class="glyph-icon icon-cog mrg5R"></i>You successfully read this important message.';e["information"]='<i class="glyph-icon icon-cog mrg5R"></i>This is an information notification message!';e["notification"]='<i class="glyph-icon icon-cog mrg5R"></i>This alert needs your attention, but it\'s for demonstration purposes only.';e["warning"]='<i class="glyph-icon icon-cog mrg5R"></i>This is a warning for demonstration purposes.';$(".noty").click(function(){var t=$(this);noty({text:e[t.data("type")],type:t.data("type"),dismissQueue:true,theme:"agileUI",layout:t.data("layout")});return false})});$(function(){$(".colorpicker-position-bottom-left").minicolors({animationSpeed:100,change:null,changeDelay:0,control:"wheel",defaultValue:"",hide:null,hideSpeed:100,inline:false,letterCase:"lowercase",opacity:false,position:"bottom left",show:null,showSpeed:100,textfield:true,theme:"default"})});$(function(){$(".colorpicker-position-bottom-right").minicolors({animationSpeed:100,change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:false,letterCase:"lowercase",opacity:false,position:"bottom right",show:null,showSpeed:100,textfield:true,theme:"default"})});$(function(){$(".colorpicker-position-top-left").minicolors({animationSpeed:100,change:null,changeDelay:0,control:"saturation",defaultValue:"",hide:null,hideSpeed:100,inline:false,letterCase:"lowercase",opacity:true,position:"top left",show:null,showSpeed:100,textfield:true,theme:"default"})});$(function(){$(".colorpicker-position-top-right").minicolors({animationSpeed:100,change:null,changeDelay:0,control:"brightness",defaultValue:"",hide:null,hideSpeed:100,inline:false,letterCase:"lowercase",opacity:true,position:"top right",show:null,showSpeed:100,textfield:true,theme:"default"})});$(function(){$(".colorpicker-inline").minicolors({animationSpeed:100,change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:true,letterCase:"lowercase",opacity:true,position:"bottom right",show:null,showSpeed:100,textfield:true,theme:"default"})});$(function(){$(".growl-top-left").click(function(){$.jGrowl("Top left jGrowl notification with shadow and <b>.bg-black</b> background",{sticky:false,position:"top-left",theme:"bg-black drop-shadow-alt"})});$(".growl-top-right").click(function(){$.jGrowl("Top right jGrowl notification with <b>.bg-azure</b> background",{sticky:false,position:"top-right",theme:"bg-azure btn text-left"})});$(".growl-bottom-left").click(function(){$.jGrowl("Bottom left jGrowl notification with <b>.bg-red</b> background",{sticky:false,position:"bottom-right",theme:"bg-red btn text-left"})});$(".growl-bottom-right").click(function(){$.jGrowl("Bottom right jGrowl notification with <b>.bg-blue-alt</b> background",{sticky:false,position:"bottom-left",theme:"bg-blue-alt btn text-left"})});$(".growl-error").click(function(){$.jGrowl("This is just a growl example using our custom color helpers for styling.",{sticky:false,position:"top-right",theme:"bg-red"})});$(".growl-basic").click(function(){$.jGrowl("This is just a growl example using our custom color helpers for styling.",{sticky:false,position:"bottom-right",theme:"primary-bg"})});$(".growl-basic-secondary").click(function(){$.jGrowl("This is just a growl example using our custom color helpers for styling.",{sticky:false,position:"bottom-right",theme:"ui-state-default"})});$(".growl-success").click(function(){$.jGrowl("This is just a growl example using our custom color helpers for styling.",{sticky:false,position:"top-right",theme:"bg-green"})});$(".growl-warning").click(function(){$.jGrowl("This is just a growl example using our custom color helpers for styling.",{sticky:false,position:"bottom-right",theme:"bg-orange"})});$(".growl-info").click(function(){$.jGrowl("This is just a growl example using our custom color helpers for styling.",{sticky:false,position:"top-right",theme:"bg-gray"})});$(".growl-notice").click(function(){$.jGrowl("This is just a growl example using our custom color helpers for styling.",{sticky:false,position:"top-right",theme:"bg-black"})})});$(function(){$("#slider").slider({})});$(function(){$("#horizontal-slider").slider({value:40,orientation:"horizontal",range:"min",animate:true})});$(function(){$("#slider-range-vertical").slider({orientation:"vertical",range:true,values:[17,67],slide:function(e,t){$("#amount-vertical-range").val("$"+t.values[0]+" - $"+t.values[1])}});$("#amount-vertical-range").val("$"+$("#slider-range-vertical").slider("values",0)+" - $"+$("#slider-range-vertical").slider("values",1))});$(function(){$("#slider-range").slider({range:true,min:0,max:500,values:[75,300],slide:function(e,t){$("#amount").val("$"+t.values[0]+" - $"+t.values[1])}});$("#amount").val("$"+$("#slider-range").slider("values",0)+" - $"+$("#slider-range").slider("values",1))});$(function(){$("#slider-vertical").slider({orientation:"vertical",range:"min",min:0,max:100,value:60,slide:function(e,t){$("#amount3").val(t.value)}});$("#amount3").val($("#slider-vertical").slider("value"))});$(function(){$("#master").slider({value:60,orientation:"horizontal",range:"min",animate:true});$("#eq > span").each(function(){var e=parseInt($(this).text(),10);$(this).empty().slider({value:e,range:"min",animate:true,orientation:"vertical"})})});$(function(){$(".sparkbar").sparkline("html",{type:"bar",disableHiddenCheck:false,width:"36px",height:"36px"})});$(function(){$(".basic-dialog").click(function(){$("#basic-dialog").dialog({resizable:true,minWidth:400,minHeight:350,modal:false,closeOnEscape:true,buttons:{OK:function(){$(this).dialog("close")}},position:"center"})});$(".white-modal-60").click(function(){$("#white-modal-60").dialog({modal:true,minWidth:500,minHeight:200,dialogClass:"",show:"fadeIn"});$(".ui-widget-overlay").addClass("bg-white opacity-60")});$(".white-modal-80").click(function(){$("#white-modal-80").dialog({modal:true,minWidth:600,minHeight:300,dialogClass:"modal-dialog",show:"fadeIn"});$(".ui-widget-overlay").addClass("bg-white opacity-80")});$(".black-modal-60").click(function(){$("#black-modal-60").dialog({modal:true,minWidth:500,minHeight:200,dialogClass:"modal-dialog",show:"fadeIn"});$(".ui-widget-overlay").addClass("bg-black opacity-60")});$(".black-modal-80").click(function(){$("#black-modal-80").dialog({modal:true,minWidth:500,minHeight:200,dialogClass:"no-shadow",show:"fadeIn"});$(".ui-widget-overlay").addClass("bg-black opacity-80")});$(".red-modal-60").click(function(){$("#red-modal-60").dialog({modal:true,minWidth:500,minHeight:200,dialogClass:"modal-dialog",show:"fadeIn"});$(".ui-widget-overlay").addClass("bg-red opacity-60")});$(".dialog-tabs").click(function(){$("#dialog-tabs").dialog({modal:false,minWidth:650,minHeight:200,dialogClass:"modal-dialog",show:"fadeIn"});$(".ui-widget-overlay").addClass("bg-white opacity-60")})});$(function(){$(".tabs").tabs({})});$(function(){$(".tabs-hover").tabs({event:"mouseover"})});$(function(){$(".accordion").accordion({heightStyle:"content"})});$(function(){$("#accordion-hover").accordion({event:"mouseover",heightStyle:"auto"})});$(function(){$("#accordion-with-tabs").accordion({active:1,heightStyle:"content"})});$(function(){$(".slider-demo").slider({})});$(function(){$(".datepicker").datepicker()});$(function(){$(".fromDate").datepicker({defaultDate:"+1w",changeMonth:true,numberOfMonths:3,onClose:function(e){$(".toDate").datepicker("option","minDate",e)}});$(".toDate").datepicker({defaultDate:"+1w",changeMonth:true,numberOfMonths:3,onClose:function(e){$(".fromDate").datepicker("option","maxDate",e)}})});$(function(){$("#datepicker2").datepicker({numberOfMonths:3,showButtonPanel:true})});$(function(){$("#example1").dataTable({sScrollY:300,bJQueryUI:true,sPaginationType:"full_numbers"});$(".dataTable .ui-icon-carat-2-n").addClass("icon-sort-up");$(".dataTable .ui-icon-carat-2-s").addClass("icon-sort-down");$(".dataTable .ui-icon-carat-2-n-s").addClass("icon-sort");$(".dataTables_paginate a.first").html('<i class="icon-caret-left"></i>');$(".dataTables_paginate a.previous").html('<i class="icon-angle-left"></i>');$(".dataTables_paginate a.last").html('<i class="icon-caret-right"></i>');$(".dataTables_paginate a.next").html('<i class="icon-angle-right"></i>')});$(function(){var e=["ActionScript","AppleScript","Asp","BASIC","C","C++","Clojure","COBOL","ColdFusion","Erlang","Fortran","Groovy","Haskell","Java","JavaScript","Lisp","Perl","PHP","Python","Ruby","Scala","Scheme"];$(".autocomplete-input").autocomplete({source:e})});$(function(){function t(e){return e.split(/,\s*/)}function n(e){return t(e).pop()}var e=["ActionScript","AppleScript","Asp","BASIC","C","C++","Clojure","COBOL","ColdFusion","Erlang","Fortran","Groovy","Haskell","Java","JavaScript","Lisp","Perl","PHP","Python","Ruby","Scala","Scheme"];$("#sidebar-search input").bind("keydown",function(e){if(e.keyCode===$.ui.keyCode.TAB&&$(this).data("ui-autocomplete").menu.active){e.preventDefault()}}).autocomplete({minLength:0,source:function(t,r){r($.ui.autocomplete.filter(e,n(t.term)))},focus:function(){return false},select:function(e,n){var r=t(this.value);r.pop();r.push(n.item.value);r.push("");this.value=r.join(", ");return false},messages:{noResults:"",results:function(){}}})});$(function(){$(".spinner-input").spinner()});$(function(){$(".chosen-select").chosen();$(".chosen-search").append('<i class="glyph-icon icon-search"></i>');$(".chosen-single div").html('<i class="glyph-icon icon-caret-down"></i>')});$(function(){$('input[type="checkbox"].custom-checkbox').uniform();$('input[type="radio"].custom-radio').uniform();$(".custom-select").uniform();$(".selector").append('<i class="glyph-icon icon-caret-down"></i>');$(".checker span").append('<i class="glyph-icon icon-ok"></i>').addClass("ui-state-default btn radius-all-4");$(".radio span").append('<i class="glyph-icon icon-circle"></i>').addClass("ui-state-default btn radius-all-100")});$(function(){$(".growl-button").click(function(){$.jGrowl("A message with a header",{header:"Important",sticky:false,theme:"bg-black"})})});$(function(){$(".timepicker").timepicker()})})